"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.DefaultOptions = void 0;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _arrays = require("../../utils/arrays");

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }

const DefaultOptions = {
  maxCount: 200,
  gravity: 0.05,
  maxDrift: 5
};
exports.DefaultOptions = DefaultOptions;
const KEY_FRAME_INTERVAL = 15; // 15ms, roughly

class Snowfall {
  constructor(options) {
    var _this = this;

    (0, _defineProperty2.default)(this, "options", void 0);
    (0, _defineProperty2.default)(this, "context", null);
    (0, _defineProperty2.default)(this, "particles", []);
    (0, _defineProperty2.default)(this, "lastAnimationTime", void 0);
    (0, _defineProperty2.default)(this, "isRunning", void 0);
    (0, _defineProperty2.default)(this, "start", async function (canvas) {
      let timeout = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 3000;

      if (!canvas) {
        return;
      }

      _this.context = canvas.getContext('2d');
      _this.particles = [];
      const count = _this.options.maxCount;

      while (_this.particles.length < count) {
        _this.particles.push(_this.resetParticle({}, canvas.width, canvas.height));
      }

      _this.isRunning = true;
      requestAnimationFrame(_this.renderLoop);

      if (timeout) {
        window.setTimeout(_this.stop, timeout);
      }
    });
    (0, _defineProperty2.default)(this, "stop", async () => {
      this.isRunning = false;
    });
    (0, _defineProperty2.default)(this, "resetParticle", (particle, width, height) => {
      particle.x = Math.random() * width;
      particle.y = Math.random() * -height;
      particle.xCol = particle.x;
      particle.diameter = Math.random() * 7 + 4;
      particle.maximumDrift = Math.random() * this.options.maxDrift + 3.5;
      particle.gravity = this.options.gravity + Math.random() * 6 + 4;
      return particle;
    });
    (0, _defineProperty2.default)(this, "renderLoop", () => {
      if (!this.context || !this.context.canvas) {
        return;
      }

      if (this.particles.length === 0) {
        this.context.clearRect(0, 0, this.context.canvas.width, this.context.canvas.height);
      } else {
        const timeDelta = Date.now() - this.lastAnimationTime;

        if (timeDelta >= KEY_FRAME_INTERVAL || !this.lastAnimationTime) {
          // Clear the screen first
          this.context.clearRect(0, 0, this.context.canvas.width, this.context.canvas.height);
          this.lastAnimationTime = Date.now();
          this.animateAndRenderSnowflakes();
        }

        requestAnimationFrame(this.renderLoop);
      }
    });
    this.options = _objectSpread(_objectSpread({}, DefaultOptions), options);
  }

  animateAndRenderSnowflakes() {
    if (!this.context || !this.context.canvas) {
      return;
    }

    const height = this.context.canvas.height;

    for (const particle of (0, _arrays.arrayFastClone)(this.particles)) {
      particle.y += particle.gravity; // We treat the drift as a sine function to have a more fluid-like movement instead
      // of a pong-like movement off walls of the X column. This means that for
      // $x=A\sin(\frac{2\pi}{P}y)$ we use the `maximumDrift` as the amplitude (A) and a
      // large multiplier to create a very long waveform through P.

      const peakDistance = 75 * particle.maximumDrift;
      const PI2 = Math.PI * 2;
      particle.x = particle.maximumDrift * Math.sin(PI2 / peakDistance * particle.y);
      particle.x += particle.xCol; // bring the particle to the right place

      const radius = particle.diameter / 2;
      this.context.save();
      this.context.beginPath();
      this.context.ellipse(particle.x, particle.y, radius, radius, 0, 0, 360);
      this.context.fillStyle = '#eaeaea'; // grey so it shows up on the light theme

      this.context.fill();
      this.context.closePath();
      this.context.restore(); // Remove any dead snowflakes

      const maxBounds = radius * 4; // make sure it's *really* off screen

      if (particle.y > height + maxBounds) {
        const idx = this.particles.indexOf(particle);
        this.particles.splice(idx, 1);
      }
    }
  }

}

exports.default = Snowfall;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEZWZhdWx0T3B0aW9ucyIsIm1heENvdW50IiwiZ3Jhdml0eSIsIm1heERyaWZ0IiwiS0VZX0ZSQU1FX0lOVEVSVkFMIiwiU25vd2ZhbGwiLCJjb25zdHJ1Y3RvciIsIm9wdGlvbnMiLCJjYW52YXMiLCJ0aW1lb3V0IiwiY29udGV4dCIsImdldENvbnRleHQiLCJwYXJ0aWNsZXMiLCJjb3VudCIsImxlbmd0aCIsInB1c2giLCJyZXNldFBhcnRpY2xlIiwid2lkdGgiLCJoZWlnaHQiLCJpc1J1bm5pbmciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJyZW5kZXJMb29wIiwid2luZG93Iiwic2V0VGltZW91dCIsInN0b3AiLCJwYXJ0aWNsZSIsIngiLCJNYXRoIiwicmFuZG9tIiwieSIsInhDb2wiLCJkaWFtZXRlciIsIm1heGltdW1EcmlmdCIsImNsZWFyUmVjdCIsInRpbWVEZWx0YSIsIkRhdGUiLCJub3ciLCJsYXN0QW5pbWF0aW9uVGltZSIsImFuaW1hdGVBbmRSZW5kZXJTbm93Zmxha2VzIiwiYXJyYXlGYXN0Q2xvbmUiLCJwZWFrRGlzdGFuY2UiLCJQSTIiLCJQSSIsInNpbiIsInJhZGl1cyIsInNhdmUiLCJiZWdpblBhdGgiLCJlbGxpcHNlIiwiZmlsbFN0eWxlIiwiZmlsbCIsImNsb3NlUGF0aCIsInJlc3RvcmUiLCJtYXhCb3VuZHMiLCJpZHgiLCJpbmRleE9mIiwic3BsaWNlIl0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2VmZmVjdHMvc25vd2ZhbGwvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiBDb3B5cmlnaHQgMjAyMCBUaGUgTWF0cml4Lm9yZyBGb3VuZGF0aW9uIEMuSS5DLlxuXG4gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cbiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgSUNhbnZhc0VmZmVjdCBmcm9tICcuLi9JQ2FudmFzRWZmZWN0JztcbmltcG9ydCB7IGFycmF5RmFzdENsb25lIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2FycmF5c1wiO1xuXG5leHBvcnQgdHlwZSBTbm93ZmFsbE9wdGlvbnMgPSB7XG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHNub3dmbGFrZXMgdG8gcmVuZGVyIGF0IGEgZ2l2ZW4gdGltZVxuICAgICAqL1xuICAgIG1heENvdW50OiBudW1iZXI7XG4gICAgLyoqXG4gICAgICogVGhlIGFtb3VudCBvZiBncmF2aXR5IHRvIGFwcGx5IHRvIHRoZSBzbm93Zmxha2VzXG4gICAgICovXG4gICAgZ3Jhdml0eTogbnVtYmVyO1xuICAgIC8qKlxuICAgICAqIFRoZSBhbW91bnQgb2YgZHJpZnQgKGhvcml6b250YWwgc3dheSkgdG8gYXBwbHkgdG8gdGhlIHNub3dmbGFrZXMuIEVhY2ggc25vd2ZsYWtlIHZhcmllcy5cbiAgICAgKi9cbiAgICBtYXhEcmlmdDogbnVtYmVyO1xufTtcblxudHlwZSBTbm93Zmxha2UgPSB7XG4gICAgeDogbnVtYmVyO1xuICAgIHk6IG51bWJlcjtcbiAgICB4Q29sOiBudW1iZXI7XG4gICAgZGlhbWV0ZXI6IG51bWJlcjtcbiAgICBtYXhpbXVtRHJpZnQ6IG51bWJlcjtcbiAgICBncmF2aXR5OiBudW1iZXI7XG59O1xuXG5leHBvcnQgY29uc3QgRGVmYXVsdE9wdGlvbnM6IFNub3dmYWxsT3B0aW9ucyA9IHtcbiAgICBtYXhDb3VudDogMjAwLFxuICAgIGdyYXZpdHk6IDAuMDUsXG4gICAgbWF4RHJpZnQ6IDUsXG59O1xuXG5jb25zdCBLRVlfRlJBTUVfSU5URVJWQUwgPSAxNTsgLy8gMTVtcywgcm91Z2hseVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTbm93ZmFsbCBpbXBsZW1lbnRzIElDYW52YXNFZmZlY3Qge1xuICAgIHByaXZhdGUgcmVhZG9ubHkgb3B0aW9uczogU25vd2ZhbGxPcHRpb25zO1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogeyBba2V5OiBzdHJpbmddOiBhbnkgfSkge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSB7IC4uLkRlZmF1bHRPcHRpb25zLCAuLi5vcHRpb25zIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgfCBudWxsID0gbnVsbDtcbiAgICBwcml2YXRlIHBhcnRpY2xlczogQXJyYXk8U25vd2ZsYWtlPiA9IFtdO1xuICAgIHByaXZhdGUgbGFzdEFuaW1hdGlvblRpbWU6IG51bWJlcjtcblxuICAgIHB1YmxpYyBpc1J1bm5pbmc6IGJvb2xlYW47XG5cbiAgICBwdWJsaWMgc3RhcnQgPSBhc3luYyAoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCwgdGltZW91dCA9IDMwMDApID0+IHtcbiAgICAgICAgaWYgKCFjYW52YXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgdGhpcy5wYXJ0aWNsZXMgPSBbXTtcbiAgICAgICAgY29uc3QgY291bnQgPSB0aGlzLm9wdGlvbnMubWF4Q291bnQ7XG4gICAgICAgIHdoaWxlICh0aGlzLnBhcnRpY2xlcy5sZW5ndGggPCBjb3VudCkge1xuICAgICAgICAgICAgdGhpcy5wYXJ0aWNsZXMucHVzaCh0aGlzLnJlc2V0UGFydGljbGUoe30gYXMgU25vd2ZsYWtlLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzUnVubmluZyA9IHRydWU7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnJlbmRlckxvb3ApO1xuICAgICAgICBpZiAodGltZW91dCkge1xuICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQodGhpcy5zdG9wLCB0aW1lb3V0KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBwdWJsaWMgc3RvcCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgdGhpcy5pc1J1bm5pbmcgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgcHJpdmF0ZSByZXNldFBhcnRpY2xlID0gKHBhcnRpY2xlOiBTbm93Zmxha2UsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogU25vd2ZsYWtlID0+IHtcbiAgICAgICAgcGFydGljbGUueCA9IE1hdGgucmFuZG9tKCkgKiB3aWR0aDtcbiAgICAgICAgcGFydGljbGUueSA9IE1hdGgucmFuZG9tKCkgKiAtaGVpZ2h0O1xuICAgICAgICBwYXJ0aWNsZS54Q29sID0gcGFydGljbGUueDtcbiAgICAgICAgcGFydGljbGUuZGlhbWV0ZXIgPSAoTWF0aC5yYW5kb20oKSAqIDcpICsgNDtcbiAgICAgICAgcGFydGljbGUubWF4aW11bURyaWZ0ID0gKE1hdGgucmFuZG9tKCkgKiB0aGlzLm9wdGlvbnMubWF4RHJpZnQpICsgMy41O1xuICAgICAgICBwYXJ0aWNsZS5ncmF2aXR5ID0gdGhpcy5vcHRpb25zLmdyYXZpdHkgKyAoTWF0aC5yYW5kb20oKSAqIDYpICsgNDtcbiAgICAgICAgcmV0dXJuIHBhcnRpY2xlO1xuICAgIH07XG5cbiAgICBwcml2YXRlIHJlbmRlckxvb3AgPSAoKTogdm9pZCA9PiB7XG4gICAgICAgIGlmICghdGhpcy5jb250ZXh0IHx8ICF0aGlzLmNvbnRleHQuY2FudmFzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucGFydGljbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNvbnRleHQuY2FudmFzLndpZHRoLCB0aGlzLmNvbnRleHQuY2FudmFzLmhlaWdodCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB0aW1lRGVsdGEgPSBEYXRlLm5vdygpIC0gdGhpcy5sYXN0QW5pbWF0aW9uVGltZTtcbiAgICAgICAgICAgIGlmICh0aW1lRGVsdGEgPj0gS0VZX0ZSQU1FX0lOVEVSVkFMIHx8ICF0aGlzLmxhc3RBbmltYXRpb25UaW1lKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgdGhlIHNjcmVlbiBmaXJzdFxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jb250ZXh0LmNhbnZhcy53aWR0aCwgdGhpcy5jb250ZXh0LmNhbnZhcy5oZWlnaHQpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0QW5pbWF0aW9uVGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRlQW5kUmVuZGVyU25vd2ZsYWtlcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMucmVuZGVyTG9vcCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcHJpdmF0ZSBhbmltYXRlQW5kUmVuZGVyU25vd2ZsYWtlcygpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRleHQgfHwgIXRoaXMuY29udGV4dC5jYW52YXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmNvbnRleHQuY2FudmFzLmhlaWdodDtcbiAgICAgICAgZm9yIChjb25zdCBwYXJ0aWNsZSBvZiBhcnJheUZhc3RDbG9uZSh0aGlzLnBhcnRpY2xlcykpIHtcbiAgICAgICAgICAgIHBhcnRpY2xlLnkgKz0gcGFydGljbGUuZ3Jhdml0eTtcblxuICAgICAgICAgICAgLy8gV2UgdHJlYXQgdGhlIGRyaWZ0IGFzIGEgc2luZSBmdW5jdGlvbiB0byBoYXZlIGEgbW9yZSBmbHVpZC1saWtlIG1vdmVtZW50IGluc3RlYWRcbiAgICAgICAgICAgIC8vIG9mIGEgcG9uZy1saWtlIG1vdmVtZW50IG9mZiB3YWxscyBvZiB0aGUgWCBjb2x1bW4uIFRoaXMgbWVhbnMgdGhhdCBmb3JcbiAgICAgICAgICAgIC8vICR4PUFcXHNpbihcXGZyYWN7MlxccGl9e1B9eSkkIHdlIHVzZSB0aGUgYG1heGltdW1EcmlmdGAgYXMgdGhlIGFtcGxpdHVkZSAoQSkgYW5kIGFcbiAgICAgICAgICAgIC8vIGxhcmdlIG11bHRpcGxpZXIgdG8gY3JlYXRlIGEgdmVyeSBsb25nIHdhdmVmb3JtIHRocm91Z2ggUC5cbiAgICAgICAgICAgIGNvbnN0IHBlYWtEaXN0YW5jZSA9IDc1ICogcGFydGljbGUubWF4aW11bURyaWZ0O1xuICAgICAgICAgICAgY29uc3QgUEkyID0gTWF0aC5QSSAqIDI7XG4gICAgICAgICAgICBwYXJ0aWNsZS54ID0gcGFydGljbGUubWF4aW11bURyaWZ0ICogTWF0aC5zaW4oKFBJMiAvIHBlYWtEaXN0YW5jZSkgKiBwYXJ0aWNsZS55KTtcbiAgICAgICAgICAgIHBhcnRpY2xlLnggKz0gcGFydGljbGUueENvbDsgLy8gYnJpbmcgdGhlIHBhcnRpY2xlIHRvIHRoZSByaWdodCBwbGFjZVxuXG4gICAgICAgICAgICBjb25zdCByYWRpdXMgPSBwYXJ0aWNsZS5kaWFtZXRlciAvIDI7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuc2F2ZSgpO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmVsbGlwc2UocGFydGljbGUueCwgcGFydGljbGUueSwgcmFkaXVzLCByYWRpdXMsIDAsIDAsIDM2MCk7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gJyNlYWVhZWEnOyAvLyBncmV5IHNvIGl0IHNob3dzIHVwIG9uIHRoZSBsaWdodCB0aGVtZVxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGwoKTtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5yZXN0b3JlKCk7XG5cbiAgICAgICAgICAgIC8vIFJlbW92ZSBhbnkgZGVhZCBzbm93Zmxha2VzXG4gICAgICAgICAgICBjb25zdCBtYXhCb3VuZHMgPSByYWRpdXMgKiA0OyAvLyBtYWtlIHN1cmUgaXQncyAqcmVhbGx5KiBvZmYgc2NyZWVuXG4gICAgICAgICAgICBpZiAocGFydGljbGUueSA+IChoZWlnaHQgKyBtYXhCb3VuZHMpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaWR4ID0gdGhpcy5wYXJ0aWNsZXMuaW5kZXhPZihwYXJ0aWNsZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJ0aWNsZXMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBZ0JBOzs7Ozs7QUEwQk8sTUFBTUEsY0FBK0IsR0FBRztFQUMzQ0MsUUFBUSxFQUFFLEdBRGlDO0VBRTNDQyxPQUFPLEVBQUUsSUFGa0M7RUFHM0NDLFFBQVEsRUFBRTtBQUhpQyxDQUF4Qzs7QUFNUCxNQUFNQyxrQkFBa0IsR0FBRyxFQUEzQixDLENBQStCOztBQUVoQixNQUFN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