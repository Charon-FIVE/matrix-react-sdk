"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

/*
Copyright 2019 The Matrix.org Foundation C.I.C.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const whitespacePredicate = (index, offset, part) => {
  return part.text[offset].trim() === "";
};

class Range {
  constructor(model, positionA) {
    let positionB = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : positionA;
    this.model = model;
    (0, _defineProperty2.default)(this, "_start", void 0);
    (0, _defineProperty2.default)(this, "_end", void 0);
    (0, _defineProperty2.default)(this, "_lastStart", void 0);
    (0, _defineProperty2.default)(this, "_initializedEmpty", void 0);
    const bIsLarger = positionA.compare(positionB) < 0;
    this._start = bIsLarger ? positionA : positionB;
    this._end = bIsLarger ? positionB : positionA;
    this._lastStart = this._start;
    this._initializedEmpty = this._start.index === this._end.index && this._start.offset == this._end.offset;
  }

  moveStartForwards(delta) {
    this._start = this._start.forwardsWhile(this.model, () => {
      delta -= 1;
      return delta >= 0;
    });
  }

  wasInitializedEmpty() {
    return this._initializedEmpty;
  }

  setWasEmpty(value) {
    this._initializedEmpty = value;
  }

  getLastStartingPosition() {
    return this._lastStart;
  }

  setLastStartingPosition(position) {
    this._lastStart = position;
  }

  moveEndBackwards(delta) {
    this._end = this._end.backwardsWhile(this.model, () => {
      delta -= 1;
      return delta >= 0;
    });
  }

  trim() {
    if (this.text.trim() === "") {
      this._start = this._end;
      return;
    }

    this._start = this._start.forwardsWhile(this.model, whitespacePredicate);
    this._end = this._end.backwardsWhile(this.model, whitespacePredicate);
  }

  expandBackwardsWhile(predicate) {
    this._start = this._start.backwardsWhile(this.model, predicate);
  }

  expandForwardsWhile(predicate) {
    this._end = this._end.forwardsWhile(this.model, predicate);
  }

  get text() {
    let text = "";

    this._start.iteratePartsBetween(this._end, this.model, (part, startIdx, endIdx) => {
      const t = part.text.substring(startIdx, endIdx);
      text = text + t;
    });

    return text;
  }
  /**
   * Splits the model at the range boundaries and replaces with the given parts.
   * Should be run inside a `model.transform()` callback.
   * @param {Part[]} parts the parts to replace the range with
   * @return {Number} the net amount of characters added, can be negative.
   */


  replace(parts) {
    const newLength = parts.reduce((sum, part) => sum + part.text.length, 0);
    let oldLength = 0;

    this._start.iteratePartsBetween(this._end, this.model, (part, startIdx, endIdx) => {
      oldLength += endIdx - startIdx;
    });

    this.model.replaceRange(this._start, this._end, parts);
    return newLength - oldLength;
  }
  /**
   * Returns a copy of the (partial) parts within the range.
   * For partial parts, only the text is adjusted to the part that intersects with the range.
   */


  get parts() {
    const parts = [];

    this._start.iteratePartsBetween(this._end, this.model, (part, startIdx, endIdx) => {
      const serializedPart = part.serialize();
      serializedPart.text = part.text.substring(startIdx, endIdx);
      const newPart = this.model.partCreator.deserializePart(serializedPart);
      parts.push(newPart);
    });

    return parts;
  }

  get length() {
    let len = 0;

    this._start.iteratePartsBetween(this._end, this.model, (part, startIdx, endIdx) => {
      len += endIdx - startIdx;
    });

    return len;
  }

  get start() {
    return this._start;
  }

  get end() {
    return this._end;
  }

}

exports.default = Range;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ3aGl0ZXNwYWNlUHJlZGljYXRlIiwiaW5kZXgiLCJvZmZzZXQiLCJwYXJ0IiwidGV4dCIsInRyaW0iLCJSYW5nZSIsImNvbnN0cnVjdG9yIiwibW9kZWwiLCJwb3NpdGlvbkEiLCJwb3NpdGlvbkIiLCJiSXNMYXJnZXIiLCJjb21wYXJlIiwiX3N0YXJ0IiwiX2VuZCIsIl9sYXN0U3RhcnQiLCJfaW5pdGlhbGl6ZWRFbXB0eSIsIm1vdmVTdGFydEZvcndhcmRzIiwiZGVsdGEiLCJmb3J3YXJkc1doaWxlIiwid2FzSW5pdGlhbGl6ZWRFbXB0eSIsInNldFdhc0VtcHR5IiwidmFsdWUiLCJnZXRMYXN0U3RhcnRpbmdQb3NpdGlvbiIsInNldExhc3RTdGFydGluZ1Bvc2l0aW9uIiwicG9zaXRpb24iLCJtb3ZlRW5kQmFja3dhcmRzIiwiYmFja3dhcmRzV2hpbGUiLCJleHBhbmRCYWNrd2FyZHNXaGlsZSIsInByZWRpY2F0ZSIsImV4cGFuZEZvcndhcmRzV2hpbGUiLCJpdGVyYXRlUGFydHNCZXR3ZWVuIiwic3RhcnRJZHgiLCJlbmRJZHgiLCJ0Iiwic3Vic3RyaW5nIiwicmVwbGFjZSIsInBhcnRzIiwibmV3TGVuZ3RoIiwicmVkdWNlIiwic3VtIiwibGVuZ3RoIiwib2xkTGVuZ3RoIiwicmVwbGFjZVJhbmdlIiwic2VyaWFsaXplZFBhcnQiLCJzZXJpYWxpemUiLCJuZXdQYXJ0IiwicGFydENyZWF0b3IiLCJkZXNlcmlhbGl6ZVBhcnQiLCJwdXNoIiwibGVuIiwic3RhcnQiLCJlbmQiXSwic291cmNlcyI6WyIuLi8uLi9zcmMvZWRpdG9yL3JhbmdlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5Db3B5cmlnaHQgMjAxOSBUaGUgTWF0cml4Lm9yZyBGb3VuZGF0aW9uIEMuSS5DLlxuXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xueW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cbiAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG5TZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG5saW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiovXG5cbmltcG9ydCBFZGl0b3JNb2RlbCBmcm9tIFwiLi9tb2RlbFwiO1xuaW1wb3J0IERvY3VtZW50UG9zaXRpb24sIHsgUHJlZGljYXRlIH0gZnJvbSBcIi4vcG9zaXRpb25cIjtcbmltcG9ydCB7IFBhcnQgfSBmcm9tIFwiLi9wYXJ0c1wiO1xuXG5jb25zdCB3aGl0ZXNwYWNlUHJlZGljYXRlOiBQcmVkaWNhdGUgPSAoaW5kZXgsIG9mZnNldCwgcGFydCkgPT4ge1xuICAgIHJldHVybiBwYXJ0LnRleHRbb2Zmc2V0XS50cmltKCkgPT09IFwiXCI7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSYW5nZSB7XG4gICAgcHJpdmF0ZSBfc3RhcnQ6IERvY3VtZW50UG9zaXRpb247XG4gICAgcHJpdmF0ZSBfZW5kOiBEb2N1bWVudFBvc2l0aW9uO1xuICAgIHByaXZhdGUgX2xhc3RTdGFydDogRG9jdW1lbnRQb3NpdGlvbjtcbiAgICBwcml2YXRlIF9pbml0aWFsaXplZEVtcHR5OiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IG1vZGVsOiBFZGl0b3JNb2RlbCwgcG9zaXRpb25BOiBEb2N1bWVudFBvc2l0aW9uLCBwb3NpdGlvbkIgPSBwb3NpdGlvbkEpIHtcbiAgICAgICAgY29uc3QgYklzTGFyZ2VyID0gcG9zaXRpb25BLmNvbXBhcmUocG9zaXRpb25CKSA8IDA7XG4gICAgICAgIHRoaXMuX3N0YXJ0ID0gYklzTGFyZ2VyID8gcG9zaXRpb25BIDogcG9zaXRpb25CO1xuICAgICAgICB0aGlzLl9lbmQgPSBiSXNMYXJnZXIgPyBwb3NpdGlvbkIgOiBwb3NpdGlvbkE7XG4gICAgICAgIHRoaXMuX2xhc3RTdGFydCA9IHRoaXMuX3N0YXJ0O1xuICAgICAgICB0aGlzLl9pbml0aWFsaXplZEVtcHR5ID0gdGhpcy5fc3RhcnQuaW5kZXggPT09IHRoaXMuX2VuZC5pbmRleCAmJiB0aGlzLl9zdGFydC5vZmZzZXQgPT0gdGhpcy5fZW5kLm9mZnNldDtcbiAgICB9XG5cbiAgICBwdWJsaWMgbW92ZVN0YXJ0Rm9yd2FyZHMoZGVsdGE6IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLl9zdGFydCA9IHRoaXMuX3N0YXJ0LmZvcndhcmRzV2hpbGUodGhpcy5tb2RlbCwgKCkgPT4ge1xuICAgICAgICAgICAgZGVsdGEgLT0gMTtcbiAgICAgICAgICAgIHJldHVybiBkZWx0YSA+PSAwO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgd2FzSW5pdGlhbGl6ZWRFbXB0eSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRpYWxpemVkRW1wdHk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFdhc0VtcHR5KHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuX2luaXRpYWxpemVkRW1wdHkgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0TGFzdFN0YXJ0aW5nUG9zaXRpb24oKTogRG9jdW1lbnRQb3NpdGlvbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sYXN0U3RhcnQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNldExhc3RTdGFydGluZ1Bvc2l0aW9uKHBvc2l0aW9uOiBEb2N1bWVudFBvc2l0aW9uKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2xhc3RTdGFydCA9IHBvc2l0aW9uO1xuICAgIH1cblxuICAgIHB1YmxpYyBtb3ZlRW5kQmFja3dhcmRzKGRlbHRhOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fZW5kID0gdGhpcy5fZW5kLmJhY2t3YXJkc1doaWxlKHRoaXMubW9kZWwsICgpID0+IHtcbiAgICAgICAgICAgIGRlbHRhIC09IDE7XG4gICAgICAgICAgICByZXR1cm4gZGVsdGEgPj0gMDtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHRyaW0oKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnRleHQudHJpbSgpID09PSBcIlwiKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGFydCA9IHRoaXMuX2VuZDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdGFydCA9IHRoaXMuX3N0YXJ0LmZvcndhcmRzV2hpbGUodGhpcy5tb2RlbCwgd2hpdGVzcGFjZVByZWRpY2F0ZSk7XG4gICAgICAgIHRoaXMuX2VuZCA9IHRoaXMuX2VuZC5iYWNrd2FyZHNXaGlsZSh0aGlzLm1vZGVsLCB3aGl0ZXNwYWNlUHJlZGljYXRlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZXhwYW5kQmFja3dhcmRzV2hpbGUocHJlZGljYXRlOiBQcmVkaWNhdGUpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fc3RhcnQgPSB0aGlzLl9zdGFydC5iYWNrd2FyZHNXaGlsZSh0aGlzLm1vZGVsLCBwcmVkaWNhdGUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBleHBhbmRGb3J3YXJkc1doaWxlKHByZWRpY2F0ZTogUHJlZGljYXRlKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2VuZCA9IHRoaXMuX2VuZC5mb3J3YXJkc1doaWxlKHRoaXMubW9kZWwsIHByZWRpY2F0ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCB0ZXh0KCk6IHN0cmluZyB7XG4gICAgICAgIGxldCB0ZXh0ID0gXCJcIjtcbiAgICAgICAgdGhpcy5fc3RhcnQuaXRlcmF0ZVBhcnRzQmV0d2Vlbih0aGlzLl9lbmQsIHRoaXMubW9kZWwsIChwYXJ0LCBzdGFydElkeCwgZW5kSWR4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0ID0gcGFydC50ZXh0LnN1YnN0cmluZyhzdGFydElkeCwgZW5kSWR4KTtcbiAgICAgICAgICAgIHRleHQgPSB0ZXh0ICsgdDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNwbGl0cyB0aGUgbW9kZWwgYXQgdGhlIHJhbmdlIGJvdW5kYXJpZXMgYW5kIHJlcGxhY2VzIHdpdGggdGhlIGdpdmVuIHBhcnRzLlxuICAgICAqIFNob3VsZCBiZSBydW4gaW5zaWRlIGEgYG1vZGVsLnRyYW5zZm9ybSgpYCBjYWxsYmFjay5cbiAgICAgKiBAcGFyYW0ge1BhcnRbXX0gcGFydHMgdGhlIHBhcnRzIHRvIHJlcGxhY2UgdGhlIHJhbmdlIHdpdGhcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHRoZSBuZXQgYW1vdW50IG9mIGNoYXJhY3RlcnMgYWRkZWQsIGNhbiBiZSBuZWdhdGl2ZS5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVwbGFjZShwYXJ0czogUGFydFtdKTogbnVtYmVyIHtcbiAgICAgICAgY29uc3QgbmV3TGVuZ3RoID0gcGFydHMucmVkdWNlKChzdW0sIHBhcnQpID0+IHN1bSArIHBhcnQudGV4dC5sZW5ndGgsIDApO1xuICAgICAgICBsZXQgb2xkTGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5fc3RhcnQuaXRlcmF0ZVBhcnRzQmV0d2Vlbih0aGlzLl9lbmQsIHRoaXMubW9kZWwsIChwYXJ0LCBzdGFydElkeCwgZW5kSWR4KSA9PiB7XG4gICAgICAgICAgICBvbGRMZW5ndGggKz0gZW5kSWR4IC0gc3RhcnRJZHg7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1vZGVsLnJlcGxhY2VSYW5nZSh0aGlzLl9zdGFydCwgdGhpcy5fZW5kLCBwYXJ0cyk7XG4gICAgICAgIHJldHVybiBuZXdMZW5ndGggLSBvbGRMZW5ndGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGNvcHkgb2YgdGhlIChwYXJ0aWFsKSBwYXJ0cyB3aXRoaW4gdGhlIHJhbmdlLlxuICAgICAqIEZvciBwYXJ0aWFsIHBhcnRzLCBvbmx5IHRoZSB0ZXh0IGlzIGFkanVzdGVkIHRvIHRoZSBwYXJ0IHRoYXQgaW50ZXJzZWN0cyB3aXRoIHRoZSByYW5nZS5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IHBhcnRzKCk6IFBhcnRbXSB7XG4gICAgICAgIGNvbnN0IHBhcnRzOiBQYXJ0W10gPSBbXTtcbiAgICAgICAgdGhpcy5fc3RhcnQuaXRlcmF0ZVBhcnRzQmV0d2Vlbih0aGlzLl9lbmQsIHRoaXMubW9kZWwsIChwYXJ0LCBzdGFydElkeCwgZW5kSWR4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzZXJpYWxpemVkUGFydCA9IHBhcnQuc2VyaWFsaXplKCk7XG4gICAgICAgICAgICBzZXJpYWxpemVkUGFydC50ZXh0ID0gcGFydC50ZXh0LnN1YnN0cmluZyhzdGFydElkeCwgZW5kSWR4KTtcbiAgICAgICAgICAgIGNvbnN0IG5ld1BhcnQgPSB0aGlzLm1vZGVsLnBhcnRDcmVhdG9yLmRlc2VyaWFsaXplUGFydChzZXJpYWxpemVkUGFydCk7XG4gICAgICAgICAgICBwYXJ0cy5wdXNoKG5ld1BhcnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBhcnRzO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgbGVuZ3RoKCk6IG51bWJlciB7XG4gICAgICAgIGxldCBsZW4gPSAwO1xuICAgICAgICB0aGlzLl9zdGFydC5pdGVyYXRlUGFydHNCZXR3ZWVuKHRoaXMuX2VuZCwgdGhpcy5tb2RlbCwgKHBhcnQsIHN0YXJ0SWR4LCBlbmRJZHgpID0+IHtcbiAgICAgICAgICAgIGxlbiArPSBlbmRJZHggLSBzdGFydElkeDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBsZW47XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBzdGFydCgpOiBEb2N1bWVudFBvc2l0aW9uIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXJ0O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgZW5kKCk6IERvY3VtZW50UG9zaXRpb24ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5kO1xuICAgIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQSxNQUFNQSxtQkFBOEIsR0FBRyxDQUFDQyxLQUFELEVBQVFDLE1BQVIsRUFBZ0JDLElBQWhCLEtBQXlCO0VBQzVELE9BQU9BLElBQUksQ0FBQ0MsSUFBTCxDQUFVRixNQUFWLEVBQWtCRyxJQUFsQixPQUE2QixFQUFwQztBQUNILENBRkQ7O0FBSWUsTUFBTUMsS0FBTixDQUFZO0VBTXZCQyxXQUFXLENBQWlCQyxLQUFqQixFQUFxQ0MsU0FBckMsRUFBeUY7SUFBQSxJQUF2QkMsU0FBdUIsdUVBQVhELFNBQVc7SUFBQSxLQUF4RUQsS0FBd0UsR0FBeEVBLEtBQXdFO0lBQUE7SUFBQTtJQUFBO0lBQUE7SUFDaEcsTUFBTUcsU0FBUyxHQUFHRixTQUFTLENBQUNHLE9BQVYsQ0FBa0JGLFNBQWxCLElBQStCLENBQWpEO0lBQ0EsS0FBS0csTUFBTCxHQUFjRixTQUFTLEdBQUdGLFNBQUgsR0FBZUMsU0FBdEM7SUFDQSxLQUFLSSxJQUFMLEdBQVlILFNBQVMsR0FBR0QsU0FBSCxHQUFlRCxTQUFwQztJQUNBLEtBQUtNLFVBQUwsR0FBa0IsS0FBS0YsTUFBdkI7SUFDQSxLQUFLRyxpQkFBTCxHQUF5QixLQUFLSCxN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