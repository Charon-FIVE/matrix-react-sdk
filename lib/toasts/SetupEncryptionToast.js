"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.showToast = exports.hideToast = exports.Kind = void 0;

var _Modal = _interopRequireDefault(require("../Modal"));

var _languageHandler = require("../languageHandler");

var _DeviceListener = _interopRequireDefault(require("../DeviceListener"));

var _SetupEncryptionDialog = _interopRequireDefault(require("../components/views/dialogs/security/SetupEncryptionDialog"));

var _SecurityManager = require("../SecurityManager");

var _ToastStore = _interopRequireDefault(require("../stores/ToastStore"));

var _GenericToast = _interopRequireDefault(require("../components/views/toasts/GenericToast"));

var _Security = _interopRequireDefault(require("../customisations/Security"));

var _Spinner = _interopRequireDefault(require("../components/views/elements/Spinner"));

/*
Copyright 2020 The Matrix.org Foundation C.I.C.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const TOAST_KEY = "setupencryption";

const getTitle = kind => {
  switch (kind) {
    case Kind.SET_UP_ENCRYPTION:
      return (0, _languageHandler._t)("Set up Secure Backup");

    case Kind.UPGRADE_ENCRYPTION:
      return (0, _languageHandler._t)("Encryption upgrade available");

    case Kind.VERIFY_THIS_SESSION:
      return (0, _languageHandler._t)("Verify this session");
  }
};

const getIcon = kind => {
  switch (kind) {
    case Kind.SET_UP_ENCRYPTION:
    case Kind.UPGRADE_ENCRYPTION:
      return "secure_backup";

    case Kind.VERIFY_THIS_SESSION:
      return "verification_warning";
  }
};

const getSetupCaption = kind => {
  switch (kind) {
    case Kind.SET_UP_ENCRYPTION:
      return (0, _languageHandler._t)("Continue");

    case Kind.UPGRADE_ENCRYPTION:
      return (0, _languageHandler._t)("Upgrade");

    case Kind.VERIFY_THIS_SESSION:
      return (0, _languageHandler._t)("Verify");
  }
};

const getDescription = kind => {
  switch (kind) {
    case Kind.SET_UP_ENCRYPTION:
    case Kind.UPGRADE_ENCRYPTION:
      return (0, _languageHandler._t)("Safeguard against losing access to encrypted messages & data");

    case Kind.VERIFY_THIS_SESSION:
      return (0, _languageHandler._t)("Other users may not trust it");
  }
};

let Kind;
exports.Kind = Kind;

(function (Kind) {
  Kind["SET_UP_ENCRYPTION"] = "set_up_encryption";
  Kind["UPGRADE_ENCRYPTION"] = "upgrade_encryption";
  Kind["VERIFY_THIS_SESSION"] = "verify_this_session";
})(Kind || (exports.Kind = Kind = {}));

const onReject = () => {
  _DeviceListener.default.sharedInstance().dismissEncryptionSetup();
};

const showToast = kind => {
  if (_Security.default.setupEncryptionNeeded?.(kind)) {
    return;
  }

  const onAccept = async () => {
    if (kind === Kind.VERIFY_THIS_SESSION) {
      _Modal.default.createDialog(_SetupEncryptionDialog.default, {}, null,
      /* priority = */
      false,
      /* static = */
      true);
    } else {
      const modal = _Modal.default.createDialog(_Spinner.default, null, "mx_Dialog_spinner",
      /* priority */
      false,
      /* static */
      true);

      try {
        await (0, _SecurityManager.accessSecretStorage)();
      } finally {
        modal.close();
      }
    }
  };

  _ToastStore.default.sharedInstance().addOrReplaceToast({
    key: TOAST_KEY,
    title: getTitle(kind),
    icon: getIcon(kind),
    props: {
      description: getDescription(kind),
      acceptLabel: getSetupCaption(kind),
      onAccept,
      rejectLabel: (0, _languageHandler._t)("Later"),
      onReject
    },
    component: _GenericToast.default,
    priority: kind === Kind.VERIFY_THIS_SESSION ? 95 : 40
  });
};

exports.showToast = showToast;

const hideToast = () => {
  _ToastStore.default.sharedInstance().dismissToast(TOAST_KEY);
};

exports.hideToast = hideToast;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJUT0FTVF9LRVkiLCJnZXRUaXRsZSIsImtpbmQiLCJLaW5kIiwiU0VUX1VQX0VOQ1JZUFRJT04iLCJfdCIsIlVQR1JBREVfRU5DUllQVElPTiIsIlZFUklGWV9USElTX1NFU1NJT04iLCJnZXRJY29uIiwiZ2V0U2V0dXBDYXB0aW9uIiwiZ2V0RGVzY3JpcHRpb24iLCJvblJlamVjdCIsIkRldmljZUxpc3RlbmVyIiwic2hhcmVkSW5zdGFuY2UiLCJkaXNtaXNzRW5jcnlwdGlvblNldHVwIiwic2hvd1RvYXN0IiwiU2VjdXJpdHlDdXN0b21pc2F0aW9ucyIsInNldHVwRW5jcnlwdGlvbk5lZWRlZCIsIm9uQWNjZXB0IiwiTW9kYWwiLCJjcmVhdGVEaWFsb2ciLCJTZXR1cEVuY3J5cHRpb25EaWFsb2ciLCJtb2RhbCIsIlNwaW5uZXIiLCJhY2Nlc3NTZWNyZXRTdG9yYWdlIiwiY2xvc2UiLCJUb2FzdFN0b3JlIiwiYWRkT3JSZXBsYWNlVG9hc3QiLCJrZXkiLCJ0aXRsZSIsImljb24iLCJwcm9wcyIsImRlc2NyaXB0aW9uIiwiYWNjZXB0TGFiZWwiLCJyZWplY3RMYWJlbCIsImNvbXBvbmVudCIsIkdlbmVyaWNUb2FzdCIsInByaW9yaXR5IiwiaGlkZVRvYXN0IiwiZGlzbWlzc1RvYXN0Il0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL3RvYXN0cy9TZXR1cEVuY3J5cHRpb25Ub2FzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQ29weXJpZ2h0IDIwMjAgVGhlIE1hdHJpeC5vcmcgRm91bmRhdGlvbiBDLkkuQy5cblxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbnlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbllvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuXG5odHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG5TZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG5saW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiovXG5cbmltcG9ydCBNb2RhbCBmcm9tIFwiLi4vTW9kYWxcIjtcbmltcG9ydCB7IF90IH0gZnJvbSBcIi4uL2xhbmd1YWdlSGFuZGxlclwiO1xuaW1wb3J0IERldmljZUxpc3RlbmVyIGZyb20gXCIuLi9EZXZpY2VMaXN0ZW5lclwiO1xuaW1wb3J0IFNldHVwRW5jcnlwdGlvbkRpYWxvZyBmcm9tIFwiLi4vY29tcG9uZW50cy92aWV3cy9kaWFsb2dzL3NlY3VyaXR5L1NldHVwRW5jcnlwdGlvbkRpYWxvZ1wiO1xuaW1wb3J0IHsgYWNjZXNzU2VjcmV0U3RvcmFnZSB9IGZyb20gXCIuLi9TZWN1cml0eU1hbmFnZXJcIjtcbmltcG9ydCBUb2FzdFN0b3JlIGZyb20gXCIuLi9zdG9yZXMvVG9hc3RTdG9yZVwiO1xuaW1wb3J0IEdlbmVyaWNUb2FzdCBmcm9tIFwiLi4vY29tcG9uZW50cy92aWV3cy90b2FzdHMvR2VuZXJpY1RvYXN0XCI7XG5pbXBvcnQgU2VjdXJpdHlDdXN0b21pc2F0aW9ucyBmcm9tIFwiLi4vY3VzdG9taXNhdGlvbnMvU2VjdXJpdHlcIjtcbmltcG9ydCBTcGlubmVyIGZyb20gXCIuLi9jb21wb25lbnRzL3ZpZXdzL2VsZW1lbnRzL1NwaW5uZXJcIjtcblxuY29uc3QgVE9BU1RfS0VZID0gXCJzZXR1cGVuY3J5cHRpb25cIjtcblxuY29uc3QgZ2V0VGl0bGUgPSAoa2luZDogS2luZCkgPT4ge1xuICAgIHN3aXRjaCAoa2luZCkge1xuICAgICAgICBjYXNlIEtpbmQuU0VUX1VQX0VOQ1JZUFRJT046XG4gICAgICAgICAgICByZXR1cm4gX3QoXCJTZXQgdXAgU2VjdXJlIEJhY2t1cFwiKTtcbiAgICAgICAgY2FzZSBLaW5kLlVQR1JBREVfRU5DUllQVElPTjpcbiAgICAgICAgICAgIHJldHVybiBfdChcIkVuY3J5cHRpb24gdXBncmFkZSBhdmFpbGFibGVcIik7XG4gICAgICAgIGNhc2UgS2luZC5WRVJJRllfVEhJU19TRVNTSU9OOlxuICAgICAgICAgICAgcmV0dXJuIF90KFwiVmVyaWZ5IHRoaXMgc2Vzc2lvblwiKTtcbiAgICB9XG59O1xuXG5jb25zdCBnZXRJY29uID0gKGtpbmQ6IEtpbmQpID0+IHtcbiAgICBzd2l0Y2ggKGtpbmQpIHtcbiAgICAgICAgY2FzZSBLaW5kLlNFVF9VUF9FTkNSWVBUSU9OOlxuICAgICAgICBjYXNlIEtpbmQuVVBHUkFERV9FTkNSWVBUSU9OOlxuICAgICAgICAgICAgcmV0dXJuIFwic2VjdXJlX2JhY2t1cFwiO1xuICAgICAgICBjYXNlIEtpbmQuVkVSSUZZX1RISVNfU0VTU0lPTjpcbiAgICAgICAgICAgIHJldHVybiBcInZlcmlmaWNhdGlvbl93YXJuaW5nXCI7XG4gICAgfVxufTtcblxuY29uc3QgZ2V0U2V0dXBDYXB0aW9uID0gKGtpbmQ6IEtpbmQpID0+IHtcbiAgICBzd2l0Y2ggKGtpbmQpIHtcbiAgICAgICAgY2FzZSBLaW5kLlNFVF9VUF9FTkNSWVBUSU9OOlxuICAgICAgICAgICAgcmV0dXJuIF90KFwiQ29udGludWVcIik7XG4gICAgICAgIGNhc2UgS2luZC5VUEdSQURFX0VOQ1JZUFRJT046XG4gICAgICAgICAgICByZXR1cm4gX3QoXCJVcGdyYWRlXCIpO1xuICAgICAgICBjYXNlIEtpbmQuVkVSSUZZX1RISVNfU0VTU0lPTjpcbiAgICAgICAgICAgIHJldHVybiBfdChcIlZlcmlmeVwiKTtcbiAgICB9XG59O1xuXG5jb25zdCBnZXREZXNjcmlwdGlvbiA9IChraW5kOiBLaW5kKSA9PiB7XG4gICAgc3dpdGNoIChraW5kKSB7XG4gICAgICAgIGNhc2UgS2luZC5TRVRfVVBfRU5DUllQVElPTjpcbiAgICAgICAgY2FzZSBLaW5kLlVQR1JBREVfRU5DUllQVElPTjpcbiAgICAgICAgICAgIHJldHVybiBfdChcIlNhZmVndWFyZCBhZ2FpbnN0IGxvc2luZyBhY2Nlc3MgdG8gZW5jcnlwdGVkIG1lc3NhZ2VzICYgZGF0YVwiKTtcbiAgICAgICAgY2FzZSBLaW5kLlZFUklGWV9USElTX1NFU1NJT046XG4gICAgICAgICAgICByZXR1cm4gX3QoXCJPdGhlciB1c2VycyBtYXkgbm90IHRydXN0IGl0XCIpO1xuICAgIH1cbn07XG5cbmV4cG9ydCBlbnVtIEtpbmQge1xuICAgIFNFVF9VUF9FTkNSWVBUSU9OID0gXCJzZXRfdXBfZW5jcnlwdGlvblwiLFxuICAgIFVQR1JBREVfRU5DUllQVElPTiA9IFwidXBncmFkZV9lbmNyeXB0aW9uXCIsXG4gICAgVkVSSUZZX1RISVNfU0VTU0lPTiA9IFwidmVyaWZ5X3RoaXNfc2Vzc2lvblwiLFxufVxuXG5jb25zdCBvblJlamVjdCA9ICgpID0+IHtcbiAgICBEZXZpY2VMaXN0ZW5lci5zaGFyZWRJbnN0YW5jZSgpLmRpc21pc3NFbmNyeXB0aW9uU2V0dXAoKTtcbn07XG5cbmV4cG9ydCBjb25zdCBzaG93VG9hc3QgPSAoa2luZDogS2luZCkgPT4ge1xuICAgIGlmIChTZWN1cml0eUN1c3RvbWlzYXRpb25zLnNldHVwRW5jcnlwdGlvbk5lZWRlZD8uKGtpbmQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBvbkFjY2VwdCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKGtpbmQgPT09IEtpbmQuVkVSSUZZX1RISVNfU0VTU0lPTikge1xuICAgICAgICAgICAgTW9kYWwuY3JlYXRlRGlhbG9nKFNldHVwRW5jcnlwdGlvbkRpYWxvZyxcbiAgICAgICAgICAgICAgICB7fSwgbnVsbCwgLyogcHJpb3JpdHkgPSAqLyBmYWxzZSwgLyogc3RhdGljID0gKi8gdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBtb2RhbCA9IE1vZGFsLmNyZWF0ZURpYWxvZyhcbiAgICAgICAgICAgICAgICBTcGlubmVyLCBudWxsLCBcIm14X0RpYWxvZ19zcGlubmVyXCIsIC8qIHByaW9yaXR5ICovIGZhbHNlLCAvKiBzdGF0aWMgKi8gdHJ1ZSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IGFjY2Vzc1NlY3JldFN0b3JhZ2UoKTtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgbW9kYWwuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBUb2FzdFN0b3JlLnNoYXJlZEluc3RhbmNlKCkuYWRkT3JSZXBsYWNlVG9hc3Qoe1xuICAgICAgICBrZXk6IFRPQVNUX0tFWSxcbiAgICAgICAgdGl0bGU6IGdldFRpdGxlKGtpbmQpLFxuICAgICAgICBpY29uOiBnZXRJY29uKGtpbmQpLFxuICAgICAgICBwcm9wczoge1xuICAgICAgICAgICAgZGVzY3JpcHRpb246IGdldERlc2NyaXB0aW9uKGtpbmQpLFxuICAgICAgICAgICAgYWNjZXB0TGFiZWw6IGdldFNldHVwQ2FwdGlvbihraW5kKSxcbiAgICAgICAgICAgIG9uQWNjZXB0LFxuICAgICAgICAgICAgcmVqZWN0TGFiZWw6IF90KFwiTGF0ZXJcIiksXG4gICAgICAgICAgICBvblJlamVjdCxcbiAgICAgICAgfSxcbiAgICAgICAgY29tcG9uZW50OiBHZW5lcmljVG9hc3QsXG4gICAgICAgIHByaW9yaXR5OiBraW5kID09PSBLaW5kLlZFUklGWV9USElTX1NFU1NJT04gPyA5NSA6IDQwLFxuICAgIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGhpZGVUb2FzdCA9ICgpID0+IHtcbiAgICBUb2FzdFN0b3JlLnNoYXJlZEluc3RhbmNlKCkuZGlzbWlzc1RvYXN0KFRPQVNUX0tFWSk7XG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFnQkE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBeEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVlBLE1BQU1BLFNBQVMsR0FBRyxpQkFBbEI7O0FBRUEsTUFBTUMsUUFBUSxHQUFJQyxJQUFELElBQWdCO0VBQzdCLFFBQVFBLElBQVI7SUFDSSxLQUFLQyxJQUFJLENBQUNDLGlCQUFWO01BQ0ksT0FBTyxJQUFBQyxtQkFBQSxFQUFHLHNCQUFILENBQVA7O0lBQ0osS0FBS0YsSUFBSSxDQUFDRyxrQkFBVjtNQUNJLE9BQU8sSUFBQUQsbUJBQUEsRUFBRyw4QkFBSCxDQUFQOztJQUNKLEtBQUtGLElBQUksQ0FBQ0ksbUJBQVY7TUFDSSxPQUFPLElBQUFGLG1CQUFBLEVBQUcscUJBQUgsQ0FBUDtFQU5SO0FBUUgsQ0FURDs7QUFXQSxNQUFNRyxPQUFPLEdBQUlOLElBQUQsSUFBZ0I7RUFDNUIsUUFBUUEsSUFBUjtJQUNJLEtBQUtDLElBQUksQ0FBQ0MsaUJBQVY7SUFDQSxLQUFLRCxJQUFJLENBQUNHLGtCQUFWO01BQ0ksT0FBTyxlQUFQOztJQUNKLEtBQUtILElBQUksQ0FBQ0ksbUJBQVY7TUFDSSxPQUFPLHNCQUFQO0VBTFI7QUFPSCxDQVJEOztBQVVBLE1BQU1FLGVBQWUsR0FBSVAsSUFBRCxJQUFnQjtFQUNwQyxRQUFRQSxJQUFSO0lBQ0ksS0FBS0MsSUFBSSxDQUFDQyxpQkFBVjtNQUNJLE9BQU8sSUFBQUMsbUJBQUEsRUFBRyxVQUFILENBQVA7O0lBQ0osS0FBS0YsSUFBSSxDQUFDRyxrQkFBVjtNQUNJLE9BQU8sSUFBQUQsbUJBQUEsRUFBRyxTQUFILENBQVA7O0lBQ0osS0FBS0YsSUFBSSxDQUFDSSxtQkFBVjtNQUNJLE9BQU8sSUFBQUYsbUJBQUEsRUFBRyxRQUFILENBQVA7RUFOUjtBQVFILENBVEQ7O0FBV0EsTUFBTUssY0FBYyxHQUFJUixJQUFELElBQWdCO0VBQ25DLFFBQVFBLElBQVI7SUFDSSxLQUFLQyxJQUFJLENBQUNDLGlCQUFWO0lBQ0EsS0FBS0QsSUFBSSxDQUFDRyxrQkFBVjtNQUNJLE9BQU8sSUFBQUQsbUJBQUEsRUFBRyw4REFBSCxDQUFQOztJQUNKLEtBQUtGLElBQUksQ0FBQ0ksbUJBQVY7TUFDSSxPQUFPLElBQUFGLG1CQUFBLEVBQUcsOEJBQUgsQ0FBUDtFQUxSO0FBT0gsQ0FSRDs7SUFVWUYsSTs7O1dBQUFBLEk7RUFBQUEsSTtFQUFBQSxJO0VBQUFBLEk7R0FBQUEsSSxvQkFBQUEsSTs7QUFNWixNQUFNUSxRQUFRLEdBQUcsTUFBTTtFQUNuQkMsdUJBQUEsQ0FBZUMsY0FBZixHQUFnQ0Msc0JBQWhDO0FBQ0gsQ0FGRDs7QUFJTyxNQUFNQyxTQUFTLEdBQUliLElBQUQsSUFBZ0I7RUFDckMsSUFBSWMsaUJBQUEsQ0FBdUJDLHFCQUF2QixHQUErQ2YsSUFBL0MsQ0FBSixFQUEwRDtJQUN0RDtFQUNIOztFQUVELE1BQU1nQixRQUFRLEdBQUcsWUFBWTtJQUN6QixJQUFJaEIsSUFBSSxLQUFLQyxJQUFJLENBQUNJLG1CQUFsQixFQUF1QztNQUNuQ1ksY0FBQSxDQUFNQyxZQUFOLENBQW1CQyw4QkFBbkIsRUFDSSxFQURKLEVBQ1EsSUFEUjtNQUNjO01BQWlCLEtBRC9CO01BQ3NDO01BQWUsSUFEckQ7SUFFSCxDQUhELE1BR087TUFDSCxNQUFNQyxLQUFLLEdBQUdILGNBQUEsQ0FBTUMsWUFBTixDQUNWRyxnQkFEVSxFQUNELElBREMsRUFDSyxtQkFETDtNQUMwQjtNQUFlLEtBRHpDO01BQ2dEO01BQWEsSUFEN0QsQ0FBZDs7TUFHQSxJQUFJO1FBQ0EsTUFBTSxJQUFBQyxvQ0FBQSxHQUFOO01BQ0gsQ0FGRCxTQUVVO1FBQ05GLEtBQUssQ0FBQ0csS0FBTjtNQUNIO0lBQ0o7RUFDSixDQWREOztFQWdCQUMsbUJBQUEsQ0FBV2IsY0FBWCxHQUE0QmMsaUJBQTVCLENBQThDO0lBQzFDQyxHQUFHLEVBQUU1QixTQURxQztJQUUxQzZCLEtBQUssRUFBRTVCLFFBQVEsQ0FBQ0MsSUFBRCxDQUYyQjtJQUcxQzRCLElBQUksRUFBRXRCLE9BQU8sQ0FBQ04sSUFBRCxDQUg2QjtJQUkxQzZCLEtBQUssRUFBRTtNQUNIQyxXQUFXLEVBQUV0QixjQUFjLENBQUNSLElBQUQsQ0FEeEI7TUFFSCtCLFdBQVcsRUFBRXhCLGVBQWUsQ0FBQ1AsSUFBRCxDQUZ6QjtNQUdIZ0IsUUFIRztNQUlIZ0IsV0FBVyxFQUFFLElBQUE3QixtQkFBQSxFQUFHLE9BQUgsQ0FKVjtNQUtITTtJQUxHLENBSm1DO0lBVzFDd0IsU0FBUyxFQUFFQyxxQkFYK0I7SUFZMUNDLFFBQVEsRUFBRW5DLElBQUksS0FBS0MsSUFBSSxDQUFDSSxtQkFBZCxHQUFvQyxFQUFwQyxHQUF5QztFQVpULENBQTlDO0FBY0gsQ0FuQ007Ozs7QUFxQ0EsTUFBTStCLFNBQVMsR0FBRyxNQUFNO0VBQzNCWixtQkFBQSxDQUFXYixjQUFYLEdBQTRCMEIsWUFBNUIsQ0FBeUN2QyxTQUF6QztBQUNILENBRk0ifQ==