"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.makeMapSiteLink = exports.createMarker = exports.createMapSiteLinkFromEvent = exports.createMap = void 0;

var _maplibreGl = _interopRequireDefault(require("maplibre-gl"));

var _location = require("matrix-js-sdk/src/@types/location");

var _logger = require("matrix-js-sdk/src/logger");

var _languageHandler = require("../../languageHandler");

var _parseGeoUri = require("./parseGeoUri");

var _findMapStyleUrl = require("./findMapStyleUrl");

var _LocationShareErrors = require("./LocationShareErrors");

/*
Copyright 2022 The Matrix.org Foundation C.I.C.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const createMap = (interactive, bodyId, onError) => {
  try {
    const styleUrl = (0, _findMapStyleUrl.findMapStyleUrl)();
    const map = new _maplibreGl.default.Map({
      container: bodyId,
      style: styleUrl,
      zoom: 15,
      interactive,
      attributionControl: false,
      locale: {
        'AttributionControl.ToggleAttribution': (0, _languageHandler._t)('Toggle attribution'),
        'AttributionControl.MapFeedback': (0, _languageHandler._t)('Map feedback'),
        'FullscreenControl.Enter': (0, _languageHandler._t)('Enter fullscreen'),
        'FullscreenControl.Exit': (0, _languageHandler._t)('Exit fullscreen'),
        'GeolocateControl.FindMyLocation': (0, _languageHandler._t)('Find my location'),
        'GeolocateControl.LocationNotAvailable': (0, _languageHandler._t)('Location not available'),
        'LogoControl.Title': (0, _languageHandler._t)('Mapbox logo'),
        'NavigationControl.ResetBearing': (0, _languageHandler._t)('Reset bearing to north'),
        'NavigationControl.ZoomIn': (0, _languageHandler._t)('Zoom in'),
        'NavigationControl.ZoomOut': (0, _languageHandler._t)('Zoom out')
      }
    });
    map.addControl(new _maplibreGl.default.AttributionControl(), 'top-right');
    map.on('error', e => {
      _logger.logger.error("Failed to load map: check map_style_url in config.json has a " + "valid URL and API key", e.error);

      onError(new Error(_LocationShareErrors.LocationShareError.MapStyleUrlNotReachable));
    });
    return map;
  } catch (e) {
    _logger.logger.error("Failed to render map", e);

    throw e;
  }
};

exports.createMap = createMap;

const createMarker = (coords, element) => {
  const marker = new _maplibreGl.default.Marker({
    element,
    anchor: 'bottom',
    offset: [0, -1]
  }).setLngLat({
    lon: coords.longitude,
    lat: coords.latitude
  });
  return marker;
};

exports.createMarker = createMarker;

const makeMapSiteLink = coords => {
  return "https://www.openstreetmap.org/" + `?mlat=${coords.latitude}` + `&mlon=${coords.longitude}` + `#map=16/${coords.latitude}/${coords.longitude}`;
};

exports.makeMapSiteLink = makeMapSiteLink;

const createMapSiteLinkFromEvent = event => {
  const content = event.getContent();
  const mLocation = content[_location.M_LOCATION.name];

  if (mLocation !== undefined) {
    const uri = mLocation["uri"];

    if (uri !== undefined) {
      return makeMapSiteLink((0, _parseGeoUri.parseGeoUri)(uri));
    }
  } else {
    const geoUri = content["geo_uri"];

    if (geoUri) {
      return makeMapSiteLink((0, _parseGeoUri.parseGeoUri)(geoUri));
    }
  }

  return null;
};

exports.createMapSiteLinkFromEvent = createMapSiteLinkFromEvent;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjcmVhdGVNYXAiLCJpbnRlcmFjdGl2ZSIsImJvZHlJZCIsIm9uRXJyb3IiLCJzdHlsZVVybCIsImZpbmRNYXBTdHlsZVVybCIsIm1hcCIsIm1hcGxpYnJlZ2wiLCJNYXAiLCJjb250YWluZXIiLCJzdHlsZSIsInpvb20iLCJhdHRyaWJ1dGlvbkNvbnRyb2wiLCJsb2NhbGUiLCJfdCIsImFkZENvbnRyb2wiLCJBdHRyaWJ1dGlvbkNvbnRyb2wiLCJvbiIsImUiLCJsb2dnZXIiLCJlcnJvciIsIkVycm9yIiwiTG9jYXRpb25TaGFyZUVycm9yIiwiTWFwU3R5bGVVcmxOb3RSZWFjaGFibGUiLCJjcmVhdGVNYXJrZXIiLCJjb29yZHMiLCJlbGVtZW50IiwibWFya2VyIiwiTWFya2VyIiwiYW5jaG9yIiwib2Zmc2V0Iiwic2V0TG5nTGF0IiwibG9uIiwibG9uZ2l0dWRlIiwibGF0IiwibGF0aXR1ZGUiLCJtYWtlTWFwU2l0ZUxpbmsiLCJjcmVhdGVNYXBTaXRlTGlua0Zyb21FdmVudCIsImV2ZW50IiwiY29udGVudCIsImdldENvbnRlbnQiLCJtTG9jYXRpb24iLCJNX0xPQ0FUSU9OIiwibmFtZSIsInVuZGVmaW5lZCIsInVyaSIsInBhcnNlR2VvVXJpIiwiZ2VvVXJpIl0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3V0aWxzL2xvY2F0aW9uL21hcC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQ29weXJpZ2h0IDIwMjIgVGhlIE1hdHJpeC5vcmcgRm91bmRhdGlvbiBDLkkuQy5cblxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbnlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbllvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuXG4gICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG5cblVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbmRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbldJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxubGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4qL1xuXG5pbXBvcnQgbWFwbGlicmVnbCBmcm9tIFwibWFwbGlicmUtZ2xcIjtcbmltcG9ydCB7IE1hdHJpeEV2ZW50IH0gZnJvbSBcIm1hdHJpeC1qcy1zZGsvc3JjL21hdHJpeFwiO1xuaW1wb3J0IHsgTV9MT0NBVElPTiB9IGZyb20gXCJtYXRyaXgtanMtc2RrL3NyYy9AdHlwZXMvbG9jYXRpb25cIjtcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gXCJtYXRyaXgtanMtc2RrL3NyYy9sb2dnZXJcIjtcblxuaW1wb3J0IHsgX3QgfSBmcm9tIFwiLi4vLi4vbGFuZ3VhZ2VIYW5kbGVyXCI7XG5pbXBvcnQgeyBwYXJzZUdlb1VyaSB9IGZyb20gXCIuL3BhcnNlR2VvVXJpXCI7XG5pbXBvcnQgeyBmaW5kTWFwU3R5bGVVcmwgfSBmcm9tIFwiLi9maW5kTWFwU3R5bGVVcmxcIjtcbmltcG9ydCB7IExvY2F0aW9uU2hhcmVFcnJvciB9IGZyb20gXCIuL0xvY2F0aW9uU2hhcmVFcnJvcnNcIjtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZU1hcCA9IChcbiAgICBpbnRlcmFjdGl2ZTogYm9vbGVhbixcbiAgICBib2R5SWQ6IHN0cmluZyxcbiAgICBvbkVycm9yOiAoZXJyb3I6IEVycm9yKSA9PiB2b2lkLFxuKTogbWFwbGlicmVnbC5NYXAgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN0eWxlVXJsID0gZmluZE1hcFN0eWxlVXJsKCk7XG5cbiAgICAgICAgY29uc3QgbWFwID0gbmV3IG1hcGxpYnJlZ2wuTWFwKHtcbiAgICAgICAgICAgIGNvbnRhaW5lcjogYm9keUlkLFxuICAgICAgICAgICAgc3R5bGU6IHN0eWxlVXJsLFxuICAgICAgICAgICAgem9vbTogMTUsXG4gICAgICAgICAgICBpbnRlcmFjdGl2ZSxcbiAgICAgICAgICAgIGF0dHJpYnV0aW9uQ29udHJvbDogZmFsc2UsXG4gICAgICAgICAgICBsb2NhbGU6IHtcbiAgICAgICAgICAgICAgICAnQXR0cmlidXRpb25Db250cm9sLlRvZ2dsZUF0dHJpYnV0aW9uJzogX3QoJ1RvZ2dsZSBhdHRyaWJ1dGlvbicpLFxuICAgICAgICAgICAgICAgICdBdHRyaWJ1dGlvbkNvbnRyb2wuTWFwRmVlZGJhY2snOiBfdCgnTWFwIGZlZWRiYWNrJyksXG4gICAgICAgICAgICAgICAgJ0Z1bGxzY3JlZW5Db250cm9sLkVudGVyJzogX3QoJ0VudGVyIGZ1bGxzY3JlZW4nKSxcbiAgICAgICAgICAgICAgICAnRnVsbHNjcmVlbkNvbnRyb2wuRXhpdCc6IF90KCdFeGl0IGZ1bGxzY3JlZW4nKSxcbiAgICAgICAgICAgICAgICAnR2VvbG9jYXRlQ29udHJvbC5GaW5kTXlMb2NhdGlvbic6IF90KCdGaW5kIG15IGxvY2F0aW9uJyksXG4gICAgICAgICAgICAgICAgJ0dlb2xvY2F0ZUNvbnRyb2wuTG9jYXRpb25Ob3RBdmFpbGFibGUnOiBfdCgnTG9jYXRpb24gbm90IGF2YWlsYWJsZScpLFxuICAgICAgICAgICAgICAgICdMb2dvQ29udHJvbC5UaXRsZSc6IF90KCdNYXBib3ggbG9nbycpLFxuICAgICAgICAgICAgICAgICdOYXZpZ2F0aW9uQ29udHJvbC5SZXNldEJlYXJpbmcnOiBfdCgnUmVzZXQgYmVhcmluZyB0byBub3J0aCcpLFxuICAgICAgICAgICAgICAgICdOYXZpZ2F0aW9uQ29udHJvbC5ab29tSW4nOiBfdCgnWm9vbSBpbicpLFxuICAgICAgICAgICAgICAgICdOYXZpZ2F0aW9uQ29udHJvbC5ab29tT3V0JzogX3QoJ1pvb20gb3V0JyksXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgbWFwLmFkZENvbnRyb2wobmV3IG1hcGxpYnJlZ2wuQXR0cmlidXRpb25Db250cm9sKCksICd0b3AtcmlnaHQnKTtcblxuICAgICAgICBtYXAub24oJ2Vycm9yJywgKGUpID0+IHtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcihcbiAgICAgICAgICAgICAgICBcIkZhaWxlZCB0byBsb2FkIG1hcDogY2hlY2sgbWFwX3N0eWxlX3VybCBpbiBjb25maWcuanNvbiBoYXMgYSBcIlxuICAgICAgICAgICAgICAgICsgXCJ2YWxpZCBVUkwgYW5kIEFQSSBrZXlcIixcbiAgICAgICAgICAgICAgICBlLmVycm9yLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIG9uRXJyb3IobmV3IEVycm9yKExvY2F0aW9uU2hhcmVFcnJvci5NYXBTdHlsZVVybE5vdFJlYWNoYWJsZSkpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gbWFwO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgbG9nZ2VyLmVycm9yKFwiRmFpbGVkIHRvIHJlbmRlciBtYXBcIiwgZSk7XG4gICAgICAgIHRocm93IGU7XG4gICAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZU1hcmtlciA9IChjb29yZHM6IEdlb2xvY2F0aW9uQ29vcmRpbmF0ZXMsIGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogbWFwbGlicmVnbC5NYXJrZXIgPT4ge1xuICAgIGNvbnN0IG1hcmtlciA9IG5ldyBtYXBsaWJyZWdsLk1hcmtlcih7XG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIGFuY2hvcjogJ2JvdHRvbScsXG4gICAgICAgIG9mZnNldDogWzAsIC0xXSxcbiAgICB9KS5zZXRMbmdMYXQoeyBsb246IGNvb3Jkcy5sb25naXR1ZGUsIGxhdDogY29vcmRzLmxhdGl0dWRlIH0pO1xuICAgIHJldHVybiBtYXJrZXI7XG59O1xuXG5leHBvcnQgY29uc3QgbWFrZU1hcFNpdGVMaW5rID0gKGNvb3JkczogR2VvbG9jYXRpb25Db29yZGluYXRlcyk6IHN0cmluZyA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgXCJodHRwczovL3d3dy5vcGVuc3RyZWV0bWFwLm9yZy9cIiArXG4gICAgICAgIGA/bWxhdD0ke2Nvb3Jkcy5sYXRpdHVkZX1gICtcbiAgICAgICAgYCZtbG9uPSR7Y29vcmRzLmxvbmdpdHVkZX1gICtcbiAgICAgICAgYCNtYXA9MTYvJHtjb29yZHMubGF0aXR1ZGV9LyR7Y29vcmRzLmxvbmdpdHVkZX1gXG4gICAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVNYXBTaXRlTGlua0Zyb21FdmVudCA9IChldmVudDogTWF0cml4RXZlbnQpOiBzdHJpbmcgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnQ6IE9iamVjdCA9IGV2ZW50LmdldENvbnRlbnQoKTtcbiAgICBjb25zdCBtTG9jYXRpb24gPSBjb250ZW50W01fTE9DQVRJT04ubmFtZV07XG4gICAgaWYgKG1Mb2NhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IHVyaSA9IG1Mb2NhdGlvbltcInVyaVwiXTtcbiAgICAgICAgaWYgKHVyaSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFrZU1hcFNpdGVMaW5rKHBhcnNlR2VvVXJpKHVyaSkpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZ2VvVXJpID0gY29udGVudFtcImdlb191cmlcIl07XG4gICAgICAgIGlmIChnZW9VcmkpIHtcbiAgICAgICAgICAgIHJldHVybiBtYWtlTWFwU2l0ZUxpbmsocGFyc2VHZW9VcmkoZ2VvVXJpKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59O1xuIl0sIm1hcHBpbmdz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