"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

/*
Copyright 2019 - 2020 The Matrix.org Foundation C.I.C.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
class ResizeItem {
  constructor(handle, resizer, sizer, container) {
    this.resizer = resizer;
    this.sizer = sizer;
    this.container = container;
    (0, _defineProperty2.default)(this, "domNode", void 0);
    (0, _defineProperty2.default)(this, "id", void 0);
    (0, _defineProperty2.default)(this, "reverse", void 0);
    this.reverse = resizer.isReverseResizeHandle(handle);

    if (container) {
      this.domNode = container;
    } else {
      this.domNode = this.reverse ? handle.nextElementSibling : handle.previousElementSibling;
    }

    this.id = handle.getAttribute("data-id");
  }

  copyWith(handle, resizer, sizer, container) {
    const Ctor = this.constructor;
    return new Ctor(handle, resizer, sizer, container);
  }

  advance(forwards) {
    // opposite direction from fromResizeHandle to get back to handle
    let handle = this.reverse ? this.domNode.previousElementSibling : this.domNode.nextElementSibling;
    const moveNext = forwards !== this.reverse; // xor
    // iterate at least once to avoid infinite loop

    do {
      if (moveNext) {
        handle = handle.nextElementSibling;
      } else {
        handle = handle.previousElementSibling;
      }
    } while (handle && !this.resizer.isResizeHandle(handle));

    if (handle) {
      const nextHandle = this.copyWith(handle, this.resizer, this.sizer);
      nextHandle.reverse = this.reverse;
      return nextHandle;
    }
  }

  next() {
    return this.advance(true);
  }

  previous() {
    return this.advance(false);
  }

  size() {
    return this.sizer.getItemSize(this.domNode);
  }

  offset() {
    return this.sizer.getItemOffset(this.domNode);
  }

  start() {
    this.sizer.start(this.domNode);
  }

  finish() {
    this.sizer.finish(this.domNode);
  }

  getSize() {
    return this.sizer.getDesiredItemSize(this.domNode);
  }

  setRawSize(size) {
    this.sizer.setItemSize(this.domNode, size);
  }

  setSize(size) {
    this.setRawSize(`${Math.round(size)}px`);
    const callback = this.resizer.config.onResized;

    if (callback) {
      callback(size, this.id, this.domNode);
    }
  }

  clearSize() {
    this.sizer.clearItemSize(this.domNode);
    const callback = this.resizer.config.onResized;

    if (callback) {
      callback(null, this.id, this.domNode);
    }
  }

  first() {
    const firstHandle = Array.from(this.domNode.parentElement.children).find(el => {
      return this.resizer.isResizeHandle(el);
    });

    if (firstHandle) {
      return this.copyWith(firstHandle, this.resizer, this.sizer);
    }
  }

  last() {
    const lastHandle = Array.from(this.domNode.parentElement.children).reverse().find(el => {
      return this.resizer.isResizeHandle(el);
    });

    if (lastHandle) {
      return this.copyWith(lastHandle, this.resizer, this.sizer);
    }
  }

}

exports.default = ResizeItem;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZXNpemVJdGVtIiwiY29uc3RydWN0b3IiLCJoYW5kbGUiLCJyZXNpemVyIiwic2l6ZXIiLCJjb250YWluZXIiLCJyZXZlcnNlIiwiaXNSZXZlcnNlUmVzaXplSGFuZGxlIiwiZG9tTm9kZSIsIm5leHRFbGVtZW50U2libGluZyIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJpZCIsImdldEF0dHJpYnV0ZSIsImNvcHlXaXRoIiwiQ3RvciIsImFkdmFuY2UiLCJmb3J3YXJkcyIsIm1vdmVOZXh0IiwiaXNSZXNpemVIYW5kbGUiLCJuZXh0SGFuZGxlIiwibmV4dCIsInByZXZpb3VzIiwic2l6ZSIsImdldEl0ZW1TaXplIiwib2Zmc2V0IiwiZ2V0SXRlbU9mZnNldCIsInN0YXJ0IiwiZmluaXNoIiwiZ2V0U2l6ZSIsImdldERlc2lyZWRJdGVtU2l6ZSIsInNldFJhd1NpemUiLCJzZXRJdGVtU2l6ZSIsInNldFNpemUiLCJNYXRoIiwicm91bmQiLCJjYWxsYmFjayIsImNvbmZpZyIsIm9uUmVzaXplZCIsImNsZWFyU2l6ZSIsImNsZWFySXRlbVNpemUiLCJmaXJzdCIsImZpcnN0SGFuZGxlIiwiQXJyYXkiLCJmcm9tIiwicGFyZW50RWxlbWVudCIsImNoaWxkcmVuIiwiZmluZCIsImVsIiwibGFzdCIsImxhc3RIYW5kbGUiXSwic291cmNlcyI6WyIuLi8uLi9zcmMvcmVzaXplci9pdGVtLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5Db3B5cmlnaHQgMjAxOSAtIDIwMjAgVGhlIE1hdHJpeC5vcmcgRm91bmRhdGlvbiBDLkkuQy5cblxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbnlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbllvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuXG4gICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG5cblVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbmRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbldJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxubGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4qL1xuXG5pbXBvcnQgUmVzaXplciwgeyBJQ29uZmlnIH0gZnJvbSBcIi4vcmVzaXplclwiO1xuaW1wb3J0IFNpemVyIGZyb20gXCIuL3NpemVyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlc2l6ZUl0ZW08QyBleHRlbmRzIElDb25maWcgPSBJQ29uZmlnPiB7XG4gICAgcHVibGljIHJlYWRvbmx5IGRvbU5vZGU6IEhUTUxFbGVtZW50O1xuICAgIHByb3RlY3RlZCByZWFkb25seSBpZDogc3RyaW5nO1xuICAgIHByb3RlY3RlZCByZXZlcnNlOiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIGhhbmRsZTogSFRNTEVsZW1lbnQsXG4gICAgICAgIHB1YmxpYyByZWFkb25seSByZXNpemVyOiBSZXNpemVyPEM+LFxuICAgICAgICBwdWJsaWMgcmVhZG9ubHkgc2l6ZXI6IFNpemVyLFxuICAgICAgICBwdWJsaWMgcmVhZG9ubHkgY29udGFpbmVyPzogSFRNTEVsZW1lbnQsXG4gICAgKSB7XG4gICAgICAgIHRoaXMucmV2ZXJzZSA9IHJlc2l6ZXIuaXNSZXZlcnNlUmVzaXplSGFuZGxlKGhhbmRsZSk7XG4gICAgICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZG9tTm9kZSA9IGNvbnRhaW5lcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZG9tTm9kZSA9IDxIVE1MRWxlbWVudD4odGhpcy5yZXZlcnNlID8gaGFuZGxlLm5leHRFbGVtZW50U2libGluZyA6IGhhbmRsZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlkID0gaGFuZGxlLmdldEF0dHJpYnV0ZShcImRhdGEtaWRcIik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjb3B5V2l0aChoYW5kbGU6IEhUTUxFbGVtZW50LCByZXNpemVyOiBSZXNpemVyLCBzaXplcjogU2l6ZXIsIGNvbnRhaW5lcj86IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IEN0b3IgPSB0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZXNpemVJdGVtO1xuICAgICAgICByZXR1cm4gbmV3IEN0b3IoaGFuZGxlLCByZXNpemVyLCBzaXplciwgY29udGFpbmVyKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFkdmFuY2UoZm9yd2FyZHM6IGJvb2xlYW4pIHtcbiAgICAgICAgLy8gb3Bwb3NpdGUgZGlyZWN0aW9uIGZyb20gZnJvbVJlc2l6ZUhhbmRsZSB0byBnZXQgYmFjayB0byBoYW5kbGVcbiAgICAgICAgbGV0IGhhbmRsZSA9IHRoaXMucmV2ZXJzZSA/IHRoaXMuZG9tTm9kZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nIDogdGhpcy5kb21Ob2RlLm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgY29uc3QgbW92ZU5leHQgPSBmb3J3YXJkcyAhPT0gdGhpcy5yZXZlcnNlOyAvLyB4b3JcbiAgICAgICAgLy8gaXRlcmF0ZSBhdCBsZWFzdCBvbmNlIHRvIGF2b2lkIGluZmluaXRlIGxvb3BcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKG1vdmVOZXh0KSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlID0gaGFuZGxlLm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlID0gaGFuZGxlLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKGhhbmRsZSAmJiAhdGhpcy5yZXNpemVyLmlzUmVzaXplSGFuZGxlKDxIVE1MRWxlbWVudD5oYW5kbGUpKTtcblxuICAgICAgICBpZiAoaGFuZGxlKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0SGFuZGxlID0gdGhpcy5jb3B5V2l0aCg8SFRNTEVsZW1lbnQ+aGFuZGxlLCB0aGlzLnJlc2l6ZXIsIHRoaXMuc2l6ZXIpO1xuICAgICAgICAgICAgbmV4dEhhbmRsZS5yZXZlcnNlID0gdGhpcy5yZXZlcnNlO1xuICAgICAgICAgICAgcmV0dXJuIG5leHRIYW5kbGU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgbmV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWR2YW5jZSh0cnVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcHJldmlvdXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkdmFuY2UoZmFsc2UpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaXplci5nZXRJdGVtU2l6ZSh0aGlzLmRvbU5vZGUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBvZmZzZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpemVyLmdldEl0ZW1PZmZzZXQodGhpcy5kb21Ob2RlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuc2l6ZXIuc3RhcnQodGhpcy5kb21Ob2RlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZmluaXNoKCkge1xuICAgICAgICB0aGlzLnNpemVyLmZpbmlzaCh0aGlzLmRvbU5vZGUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaXplci5nZXREZXNpcmVkSXRlbVNpemUodGhpcy5kb21Ob2RlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0UmF3U2l6ZShzaXplOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zaXplci5zZXRJdGVtU2l6ZSh0aGlzLmRvbU5vZGUsIHNpemUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTaXplKHNpemU6IG51bWJlcikge1xuICAgICAgICB0aGlzLnNldFJhd1NpemUoYCR7TWF0aC5yb3VuZChzaXplKX1weGApO1xuICAgICAgICBjb25zdCBjYWxsYmFjayA9IHRoaXMucmVzaXplci5jb25maWcub25SZXNpemVkO1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKHNpemUsIHRoaXMuaWQsIHRoaXMuZG9tTm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgY2xlYXJTaXplKCkge1xuICAgICAgICB0aGlzLnNpemVyLmNsZWFySXRlbVNpemUodGhpcy5kb21Ob2RlKTtcbiAgICAgICAgY29uc3QgY2FsbGJhY2sgPSB0aGlzLnJlc2l6ZXIuY29uZmlnLm9uUmVzaXplZDtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhudWxsLCB0aGlzLmlkLCB0aGlzLmRvbU5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGZpcnN0KCkge1xuICAgICAgICBjb25zdCBmaXJzdEhhbmRsZSA9IEFycmF5LmZyb20odGhpcy5kb21Ob2RlLnBhcmVudEVsZW1lbnQuY2hpbGRyZW4pLmZpbmQoZWwgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVzaXplci5pc1Jlc2l6ZUhhbmRsZSg8SFRNTEVsZW1lbnQ+ZWwpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGZpcnN0SGFuZGxlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb3B5V2l0aCg8SFRNTEVsZW1lbnQ+Zmlyc3RIYW5kbGUsIHRoaXMucmVzaXplciwgdGhpcy5zaXplcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgbGFzdCgpIHtcbiAgICAgICAgY29uc3QgbGFzdEhhbmRsZSA9IEFycmF5LmZyb20odGhpcy5kb21Ob2RlLnBhcmVudEVsZW1lbnQuY2hpbGRyZW4pLnJldmVyc2UoKS5maW5kKGVsID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc2l6ZXIuaXNSZXNpemVIYW5kbGUoPEhUTUxFbGVtZW50PmVsKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChsYXN0SGFuZGxlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb3B5V2l0aCg8SFRNTEVsZW1lbnQ+bGFzdEhhbmRsZSwgdGhpcy5yZXNpemVyLCB0aGlzLnNpemVyKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLZSxNQUFNQSxVQUFOLENBQThDO0VBS3pEQyxXQUFXLENBQ1BDLE1BRE8sRUFFU0MsT0FGVCxFQUdTQyxLQUhULEVBSVNDLFNBSlQsRUFLVDtJQUFBLEtBSGtCRixPQUdsQixHQUhrQkEsT0FHbEI7SUFBQSxLQUZrQkMsS0FFbEIsR0FGa0JBLEtBRWxCO0lBQUEsS0FEa0JDLFNBQ2xCLEdBRGtCQSxTQUNsQjtJQUFBO0lBQUE7SUFBQTtJQUNFLEtBQUtDLE9BQUwsR0FBZUgsT0FBTyxDQUFDSSxxQkFBUixDQUE4QkwsTUFBOUIsQ0FBZjs7SUFDQSxJQUFJRyxTQUFKLEVBQWU7TUFDWCxLQUFLRyxPQUFMLEdBQWVILFNBQWY7SUFDSCxDQUZELE1BRU87TUFDSCxLQUFLRyxPQUFMLEdBQTZCLEtBQUtGLE9BQUwsR0FBZUosTUFBTSxDQUFDTyxrQkFBdEIsR0FBMkNQLE1BQU0sQ0FBQ1Esc0JBQS9FO0lBQ0g7O0lBQ0QsS0FBS0MsRUFBTCxHQUFVVCxNQUFNLENBQUNVLFlBQVAsQ0FBb0IsU0FBcEIsQ0FBVjtFQUNIOztFQUVPQyxRQUFRLENBQUNYLE1BQUQsRUFBc0JDLE9BQXRCLEVBQXdDQyxLQUF4QyxFQUFzREMsU0FBdEQsRUFBK0U7SUFDM0YsTUFBTVMsSUFBSSxHQUFHLEtBQUtiLFdBQWxCO0lBQ0EsT0FBTyxJQUFJYSxJQUFKLENBQVNaLE1BQVQsRUFBaUJDLE9BQWpCLEVBQTBCQyxLQUExQixFQUFpQ0MsU0FBakMsQ0FBUDtFQUNIOztFQUVPVSxPQUFPLENBQUNDLFFBQUQsRUFBb0I7SUFDL0I7SUFDQSxJQUFJZCxNQUFNLEdBQUcsS0FBS0ksT0FBTCxHQUFlLEtBQUtFLE9BQUwsQ0FBYUUsc0JBQTVCLEdBQXFELEtBQUtGLE9BQUwsQ0FBYUMsa0JBQS9FO0lBQ0EsTUFBTVEsUUFBUSxHQUFHRCxRQUFRLEtBQUssS0FBS1YsT0FBbkMsQ0FIK0IsQ0FHYTtJQUM1Qzs7SUFDQSxHQUFHO01BQ0MsSUFBSVcsUUFBSixFQUFjO1FBQ1ZmLE1BQU0sR0FBR0EsTUFBTSxDQUFDTyxrQkFBaEI7TUFDSCxDQUZELE1BRU87UUFDSFAsTUFBTSxHQUFHQSxNQUFNLENBQUNRLHNCQUFoQjtNQUNIO0lBQ0osQ0FORCxRQU1TUixNQUFNLElBQUksQ0FBQyxLQUFLQyxPQUFMLENBQWFlLGNBQWIsQ0FBeUNoQixNQUF6QyxDQU5wQjs7SUFRQSxJQUFJQSxNQUFKLEVBQVk7TUFDUixNQUFNaUIsVUFBVSxHQUFHLEtBQUtOLFFBQUwsQ0FBMkJYLE1BQTNCLEVBQW1DLEtBQUtDLE9BQXhDLEVBQWlELEtBQUtDLEtBQXRELENBQW5CO01BQ0FlLFVBQVUsQ0FBQ2IsT0FBWCxHQUFxQixLQUFLQSxPQUExQjtNQUNBLE9BQU9hLFVBQVA7SUFDSDtFQUNKOztFQUVNQyxJQUFJLEdBQUc7SUFDVixPQUFPLEtBQUtMLE9BQUwsQ0FBYSxJQUFiLENBQVA7RUFDSDs7RUFFTU0sUUFBUSxHQUFHO0lBQ2QsT0FBTyxLQUFLTixPQUFMLENBQWEsS0FBYixDQUFQO0VBQ0g7O0VBRU1PLElBQUksR0FBRztJQUNWLE9BQU8sS0FBS2xCLEtBQUwsQ0FBV21CLFdBQVgsQ0FBdUIsS0FBS2YsT0FBNUIsQ0FBUDtFQUNIOztFQUVNZ0IsTUFBTSxHQUFHO0lBQ1osT0FBTyxLQUFLcEIsS0FBTCxDQUFXcUIsYUFBWCxDQUF5QixLQUFLakIsT0FBOUIsQ0FBUDtFQUNIOztFQUVNa0IsS0FBSyxHQUFHO0lBQ1gsS0FBS3RCLEtBQUwsQ0FBV3NCLEtBQVgsQ0FBaUIsS0FBS2xCLE9BQXRCO0VBQ0g7O0VBRU1tQixNQUFNLEdBQUc7SUFDWixLQUFLdkIsS0FBTCxDQUFXdUIsTUFBWCxDQUFrQixLQUFLbkIsT0FBdkI7RUFDSDs7RUFFTW9CLE9BQU8sR0FBRztJQUNiLE9BQU8sS0FBS3hCLEtBQUwsQ0FBV3lCLGtCQUFYLENBQThCLEtBQUtyQixPQUFuQyxDQUFQO0VBQ0g7O0VBRU1zQixVQUFVLENBQUNSLElBQUQsRUFBZTtJQUM1QixLQUFLbEIsS0FBTCxDQUFXMkIsV0FBWCxDQUF1QixLQUFLdkIsT0FBNUIsRUFBcUNjLElBQXJDO0VBQ0g7O0VBRU1VLE9BQU8sQ0FBQ1YsSUFBRCxFQUFlO0lBQ3pCLEtBQUtRLFVBQUwsQ0FBaUIsR0FBRUcsSUFBSSxDQUFDQyxLQUFMLENBQVdaLElBQVgsQ0FBaUIsSUFBcEM7SUFDQSxNQUFNYSxRQUFRLEdBQUcsS0FBS2hDLE9BQUwsQ0FBYWlDLE1BQWIsQ0FBb0JDLFNBQXJDOztJQUNBLElBQUlGLFFBQUosRUFBYztNQUNWQSxRQUFRLENBQUNiLElBQUQsRUFBTyxLQUFLWCxFQUFaLEVBQWdCLEtBQUtILE9BQXJCLENBQVI7SUFDSDtFQUNKOztFQUVNOEIsU0FBUyxHQUFHO0lBQ2YsS0FBS2xDLEtBQUwsQ0FBV21DLGFBQVgsQ0FBeUIsS0FBSy9CLE9BQTlCO0lBQ0EsTUFBTTJCLFFBQVEsR0FBRyxLQUFLaEMsT0FBTCxDQUFhaUMsTUFBYixDQUFvQkMsU0FBckM7O0lBQ0EsSUFBSUYsUUFBSixFQUFjO01BQ1ZBLFFBQVEsQ0FBQyxJQUFELEVBQU8sS0FBS3hCLEVBQVosRUFBZ0IsS0FBS0gsT0FBckIsQ0FBUjtJQUNIO0VBQ0o7O0VBRU1nQyxLQUFLLEdBQUc7SUFDWCxNQUFNQyxXQUFXLEdBQUdDLEtBQUssQ0FBQ0MsSUFBTixDQUFXLEtBQUtuQyxPQUFMLENBQWFvQyxhQUFiLENBQTJCQyxRQUF0QyxFQUFnREMsSUFBaEQsQ0FBcURDLEVBQUUsSUFBSTtNQUMzRSxPQUFPLEtBQUs1QyxPQUFMLENBQWFlLGNBQWIsQ0FBeUM2QixFQUF6QyxDQUFQO0lBQ0gsQ0FGbUIsQ0FBcEI7O0lBR0EsSUFBSU4sV0FBSixFQUFpQjtNQUNiLE9BQU8sS0FBSzVCLFFBQUwsQ0FBMkI0QixXQUEzQixFQUF3QyxLQUFLdEMsT0FBN0MsRUFBc0QsS0FBS0MsS0FBM0QsQ0FBUDtJQUNIO0VBQ0o7O0VBRU00QyxJQUFJLEdBQUc7SUFDVixNQUFNQyxVQUFVLEdBQUdQLEtBQUssQ0FBQ0MsSUFBTixDQUFXLEtBQUtuQyxPQUFMLENBQWFvQyxhQUFiLENBQTJCQyxRQUF0QyxFQUFnRHZDLE9BQWhELEdBQTBEd0MsSUFBMUQsQ0FBK0RDLEVBQUUsSUFBSTtNQUNwRixPQUFPLEtBQUs1QyxPQUFMLENBQWFlLGNBQWIsQ0FBeUM2QixFQUF6QyxDQUFQO0lBQ0gsQ0FGa0IsQ0FBbkI7O0lBR0EsSUFBSUUsVUFBSixFQUFnQjtNQUNaLE9BQU8sS0FBS3BDLFFBQUwsQ0FBMkJvQyxVQUEzQixFQUF1QyxLQUFLOUMsT0FBNUMsRUFBcUQsS0FBS0MsS0FBMUQsQ0FBUDtJQUNIO0VBQ0o7O0FBN0d3RCJ9