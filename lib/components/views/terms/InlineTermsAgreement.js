"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireDefault(require("react"));

var _languageHandler = require("../../../languageHandler");

var _objects = require("../../../utils/objects");

var _StyledCheckbox = _interopRequireDefault(require("../elements/StyledCheckbox"));

var _AccessibleButton = _interopRequireDefault(require("../elements/AccessibleButton"));

/*
Copyright 2019 The Matrix.org Foundation C.I.C.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
class InlineTermsAgreement extends _react.default.Component {
  constructor(props) {
    super(props);
    (0, _defineProperty2.default)(this, "togglePolicy", index => {
      const policies = (0, _objects.objectClone)(this.state.policies);
      policies[index].checked = !policies[index].checked;
      this.setState({
        policies
      });
    });
    (0, _defineProperty2.default)(this, "onContinue", () => {
      const hasUnchecked = !!this.state.policies.some(p => !p.checked);
      if (hasUnchecked) return;
      this.setState({
        busy: true
      });
      this.props.onFinished(this.state.policies.map(p => p.url));
    });
    this.state = {
      policies: [],
      busy: false
    };
  }

  componentDidMount() {
    // Build all the terms the user needs to accept
    const policies = []; // { checked, url, name }

    for (const servicePolicies of this.props.policiesAndServicePairs) {
      const availablePolicies = Object.values(servicePolicies.policies);

      for (const policy of availablePolicies) {
        const language = (0, _languageHandler.pickBestLanguage)(Object.keys(policy).filter(p => p !== 'version'));
        const renderablePolicy = {
          checked: false,
          url: policy[language].url,
          name: policy[language].name
        };
        policies.push(renderablePolicy);
      }
    }

    this.setState({
      policies
    });
  }

  renderCheckboxes() {
    const rendered = [];

    for (let i = 0; i < this.state.policies.length; i++) {
      const policy = this.state.policies[i];
      const introText = (0, _languageHandler._t)("Accept <policyLink /> to continue:", {}, {
        policyLink: () => {
          return /*#__PURE__*/_react.default.createElement("a", {
            href: policy.url,
            rel: "noreferrer noopener",
            target: "_blank"
          }, policy.name, /*#__PURE__*/_react.default.createElement("span", {
            className: "mx_InlineTermsAgreement_link"
          }));
        }
      });
      rendered.push( /*#__PURE__*/_react.default.createElement("div", {
        key: i,
        className: "mx_InlineTermsAgreement_cbContainer"
      }, /*#__PURE__*/_react.default.createElement("div", null, introText), /*#__PURE__*/_react.default.createElement("div", {
        className: "mx_InlineTermsAgreement_checkbox"
      }, /*#__PURE__*/_react.default.createElement(_StyledCheckbox.default, {
        onChange: () => this.togglePolicy(i),
        checked: policy.checked
      }, (0, _languageHandler._t)("Accept")))));
    }

    return rendered;
  }

  render() {
    const hasUnchecked = !!this.state.policies.some(p => !p.checked);
    return /*#__PURE__*/_react.default.createElement("div", null, this.props.introElement, this.renderCheckboxes(), /*#__PURE__*/_react.default.createElement(_AccessibleButton.default, {
      onClick: this.onContinue,
      disabled: hasUnchecked || this.state.busy,
      kind: "primary_sm"
    }, (0, _languageHandler._t)("Continue")));
  }

}

exports.default = InlineTermsAgreement;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJJbmxpbmVUZXJtc0FncmVlbWVudCIsIlJlYWN0IiwiQ29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJwcm9wcyIsImluZGV4IiwicG9saWNpZXMiLCJvYmplY3RDbG9uZSIsInN0YXRlIiwiY2hlY2tlZCIsInNldFN0YXRlIiwiaGFzVW5jaGVja2VkIiwic29tZSIsInAiLCJidXN5Iiwib25GaW5pc2hlZCIsIm1hcCIsInVybCIsImNvbXBvbmVudERpZE1vdW50Iiwic2VydmljZVBvbGljaWVzIiwicG9saWNpZXNBbmRTZXJ2aWNlUGFpcnMiLCJhdmFpbGFibGVQb2xpY2llcyIsIk9iamVjdCIsInZhbHVlcyIsInBvbGljeSIsImxhbmd1YWdlIiwicGlja0Jlc3RMYW5ndWFnZSIsImtleXMiLCJmaWx0ZXIiLCJyZW5kZXJhYmxlUG9saWN5IiwibmFtZSIsInB1c2giLCJyZW5kZXJDaGVja2JveGVzIiwicmVuZGVyZWQiLCJpIiwibGVuZ3RoIiwiaW50cm9UZXh0IiwiX3QiLCJwb2xpY3lMaW5rIiwidG9nZ2xlUG9saWN5IiwicmVuZGVyIiwiaW50cm9FbGVtZW50Iiwib25Db250aW51ZSJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL3ZpZXdzL3Rlcm1zL0lubGluZVRlcm1zQWdyZWVtZW50LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQ29weXJpZ2h0IDIwMTkgVGhlIE1hdHJpeC5vcmcgRm91bmRhdGlvbiBDLkkuQy5cblxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbnlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbllvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuXG4gICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG5cblVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbmRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbldJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxubGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4qL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmltcG9ydCB7IF90LCBwaWNrQmVzdExhbmd1YWdlIH0gZnJvbSBcIi4uLy4uLy4uL2xhbmd1YWdlSGFuZGxlclwiO1xuaW1wb3J0IHsgb2JqZWN0Q2xvbmUgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvb2JqZWN0c1wiO1xuaW1wb3J0IFN0eWxlZENoZWNrYm94IGZyb20gXCIuLi9lbGVtZW50cy9TdHlsZWRDaGVja2JveFwiO1xuaW1wb3J0IEFjY2Vzc2libGVCdXR0b24gZnJvbSBcIi4uL2VsZW1lbnRzL0FjY2Vzc2libGVCdXR0b25cIjtcblxuaW50ZXJmYWNlIElQcm9wcyB7XG4gICAgcG9saWNpZXNBbmRTZXJ2aWNlUGFpcnM6IGFueVtdO1xuICAgIG9uRmluaXNoZWQ6IChzdHJpbmcpID0+IHZvaWQ7XG4gICAgYWdyZWVkVXJsczogc3RyaW5nW107IC8vIGFycmF5IG9mIFVSTHMgdGhlIHVzZXIgaGFzIGFjY2VwdGVkXG4gICAgaW50cm9FbGVtZW50OiBSZWFjdC5SZWFjdE5vZGU7XG59XG5cbmludGVyZmFjZSBJU3RhdGUge1xuICAgIHBvbGljaWVzOiBQb2xpY3lbXTtcbiAgICBidXN5OiBib29sZWFuO1xufVxuXG5pbnRlcmZhY2UgUG9saWN5IHtcbiAgICBjaGVja2VkOiBib29sZWFuO1xuICAgIHVybDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW5saW5lVGVybXNBZ3JlZW1lbnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8SVByb3BzLCBJU3RhdGU+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogSVByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHBvbGljaWVzOiBbXSxcbiAgICAgICAgICAgIGJ1c3k6IGZhbHNlLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHB1YmxpYyBjb21wb25lbnREaWRNb3VudCgpOiB2b2lkIHtcbiAgICAgICAgLy8gQnVpbGQgYWxsIHRoZSB0ZXJtcyB0aGUgdXNlciBuZWVkcyB0byBhY2NlcHRcbiAgICAgICAgY29uc3QgcG9saWNpZXMgPSBbXTsgLy8geyBjaGVja2VkLCB1cmwsIG5hbWUgfVxuICAgICAgICBmb3IgKGNvbnN0IHNlcnZpY2VQb2xpY2llcyBvZiB0aGlzLnByb3BzLnBvbGljaWVzQW5kU2VydmljZVBhaXJzKSB7XG4gICAgICAgICAgICBjb25zdCBhdmFpbGFibGVQb2xpY2llcyA9IE9iamVjdC52YWx1ZXMoc2VydmljZVBvbGljaWVzLnBvbGljaWVzKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcG9saWN5IG9mIGF2YWlsYWJsZVBvbGljaWVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGFuZ3VhZ2UgPSBwaWNrQmVzdExhbmd1YWdlKE9iamVjdC5rZXlzKHBvbGljeSkuZmlsdGVyKHAgPT4gcCAhPT0gJ3ZlcnNpb24nKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVuZGVyYWJsZVBvbGljeTogUG9saWN5ID0ge1xuICAgICAgICAgICAgICAgICAgICBjaGVja2VkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBwb2xpY3lbbGFuZ3VhZ2VdLnVybCxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogcG9saWN5W2xhbmd1YWdlXS5uYW1lLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcG9saWNpZXMucHVzaChyZW5kZXJhYmxlUG9saWN5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBwb2xpY2llcyB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHRvZ2dsZVBvbGljeSA9IChpbmRleDogbnVtYmVyKTogdm9pZCA9PiB7XG4gICAgICAgIGNvbnN0IHBvbGljaWVzID0gb2JqZWN0Q2xvbmUodGhpcy5zdGF0ZS5wb2xpY2llcyk7XG4gICAgICAgIHBvbGljaWVzW2luZGV4XS5jaGVja2VkID0gIXBvbGljaWVzW2luZGV4XS5jaGVja2VkO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgcG9saWNpZXMgfSk7XG4gICAgfTtcblxuICAgIHByaXZhdGUgb25Db250aW51ZSA9ICgpOiB2b2lkID0+IHtcbiAgICAgICAgY29uc3QgaGFzVW5jaGVja2VkID0gISF0aGlzLnN0YXRlLnBvbGljaWVzLnNvbWUocCA9PiAhcC5jaGVja2VkKTtcbiAgICAgICAgaWYgKGhhc1VuY2hlY2tlZCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBidXN5OiB0cnVlIH0pO1xuICAgICAgICB0aGlzLnByb3BzLm9uRmluaXNoZWQodGhpcy5zdGF0ZS5wb2xpY2llcy5tYXAocCA9PiBwLnVybCkpO1xuICAgIH07XG5cbiAgICBwcml2YXRlIHJlbmRlckNoZWNrYm94ZXMoKTogUmVhY3QuUmVhY3ROb2RlW10ge1xuICAgICAgICBjb25zdCByZW5kZXJlZCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3RhdGUucG9saWNpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBvbGljeSA9IHRoaXMuc3RhdGUucG9saWNpZXNbaV07XG4gICAgICAgICAgICBjb25zdCBpbnRyb1RleHQgPSBfdChcbiAgICAgICAgICAgICAgICBcIkFjY2VwdCA8cG9saWN5TGluayAvPiB0byBjb250aW51ZTpcIiwge30sIHtcbiAgICAgICAgICAgICAgICAgICAgcG9saWN5TGluazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPXtwb2xpY3kudXJsfSByZWw9J25vcmVmZXJyZXIgbm9vcGVuZXInIHRhcmdldD0nX2JsYW5rJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBwb2xpY3kubmFtZSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nbXhfSW5saW5lVGVybXNBZ3JlZW1lbnRfbGluaycgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmVuZGVyZWQucHVzaChcbiAgICAgICAgICAgICAgICA8ZGl2IGtleT17aX0gY2xhc3NOYW1lPSdteF9JbmxpbmVUZXJtc0FncmVlbWVudF9jYkNvbnRhaW5lcic+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+eyBpbnRyb1RleHQgfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbXhfSW5saW5lVGVybXNBZ3JlZW1lbnRfY2hlY2tib3gnPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFN0eWxlZENoZWNrYm94IG9uQ2hhbmdlPXsoKSA9PiB0aGlzLnRvZ2dsZVBvbGljeShpKX0gY2hlY2tlZD17cG9saWN5LmNoZWNrZWR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgX3QoXCJBY2NlcHRcIikgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9TdHlsZWRDaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVuZGVyZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcigpOiBSZWFjdC5SZWFjdE5vZGUge1xuICAgICAgICBjb25zdCBoYXNVbmNoZWNrZWQgPSAhIXRoaXMuc3RhdGUucG9saWNpZXMuc29tZShwID0+ICFwLmNoZWNrZWQpO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIHsgdGhpcy5wcm9wcy5pbnRyb0VsZW1lbnQgfVxuICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJDaGVja2JveGVzKCkgfVxuICAgICAgICAgICAgICAgIDxBY2Nlc3NpYmxlQnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25Db250aW51ZX1cbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2hhc1VuY2hlY2tlZCB8fCB0aGlzLnN0YXRlLmJ1c3l9XG4gICAgICAgICAgICAgICAgICAgIGtpbmQ9XCJwcmltYXJ5X3NtXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHsgX3QoXCJDb250aW51ZVwiKSB9XG4gICAgICAgICAgICAgICAgPC9BY2Nlc3NpYmxlQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQWdCQTs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFyQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMkJlLE1BQU1BLG9CQUFOLFNBQW1DQyxjQUFBLENBQU1DLFNBQXpDLENBQW1FO0VB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