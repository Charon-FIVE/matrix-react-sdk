"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireDefault(require("react"));

var _languageHandler = require("../../../../../languageHandler");

var _SdkConfig = _interopRequireDefault(require("../../../../../SdkConfig"));

var _MatrixClientPeg = require("../../../../../MatrixClientPeg");

var _SettingsStore = _interopRequireDefault(require("../../../../../settings/SettingsStore"));

var _SettingsFlag = _interopRequireDefault(require("../../../elements/SettingsFlag"));

var _Field = _interopRequireDefault(require("../../../elements/Field"));

var _AccessibleButton = _interopRequireDefault(require("../../../elements/AccessibleButton"));

var _SettingLevel = require("../../../../../settings/SettingLevel");

var _UIFeature = require("../../../../../settings/UIFeature");

var _LayoutSwitcher = _interopRequireDefault(require("../../LayoutSwitcher"));

var _FontScalingPanel = _interopRequireDefault(require("../../FontScalingPanel"));

var _ThemeChoicePanel = _interopRequireDefault(require("../../ThemeChoicePanel"));

var _ImageSizePanel = _interopRequireDefault(require("../../ImageSizePanel"));

/*
Copyright 2019 New Vector Ltd
Copyright 2019 - 2021 The Matrix.org Foundation C.I.C.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
class AppearanceUserSettingsTab extends _react.default.Component {
  constructor(props) {
    super(props);
    (0, _defineProperty2.default)(this, "MESSAGE_PREVIEW_TEXT", (0, _languageHandler._t)("Hey you. You're the best!"));
    (0, _defineProperty2.default)(this, "unmounted", false);
    (0, _defineProperty2.default)(this, "onLayoutChanged", layout => {
      this.setState({
        layout: layout
      });
    });
    this.state = {
      useSystemFont: _SettingsStore.default.getValue("useSystemFont"),
      systemFont: _SettingsStore.default.getValue("systemFont"),
      showAdvanced: false,
      layout: _SettingsStore.default.getValue("layout"),
      userId: null,
      displayName: null,
      avatarUrl: null
    };
  }

  async componentDidMount() {
    // Fetch the current user profile for the message preview
    const client = _MatrixClientPeg.MatrixClientPeg.get();

    const userId = client.getUserId();
    const profileInfo = await client.getProfileInfo(userId);
    if (this.unmounted) return;
    this.setState({
      userId,
      displayName: profileInfo.displayname,
      avatarUrl: profileInfo.avatar_url
    });
  }

  componentWillUnmount() {
    this.unmounted = true;
  }

  renderAdvancedSection() {
    if (!_SettingsStore.default.getValue(_UIFeature.UIFeature.AdvancedSettings)) return null;

    const brand = _SdkConfig.default.get().brand;

    const toggle = /*#__PURE__*/_react.default.createElement(_AccessibleButton.default, {
      kind: "link",
      onClick: () => this.setState({
        showAdvanced: !this.state.showAdvanced
      })
    }, this.state.showAdvanced ? (0, _languageHandler._t)("Hide advanced") : (0, _languageHandler._t)("Show advanced"));

    let advanced;

    if (this.state.showAdvanced) {
      const tooltipContent = (0, _languageHandler._t)("Set the name of a font installed on your system & %(brand)s will attempt to use it.", {
        brand
      });
      advanced = /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(_SettingsFlag.default, {
        name: "useCompactLayout",
        level: _SettingLevel.SettingLevel.DEVICE,
        useCheckbox: true
      }), /*#__PURE__*/_react.default.createElement(_SettingsFlag.default, {
        name: "useSystemFont",
        level: _SettingLevel.SettingLevel.DEVICE,
        useCheckbox: true,
        onChange: checked => this.setState({
          useSystemFont: checked
        })
      }), /*#__PURE__*/_react.default.createElement(_Field.default, {
        className: "mx_AppearanceUserSettingsTab_systemFont",
        label: _SettingsStore.default.getDisplayName("systemFont"),
        onChange: value => {
          this.setState({
            systemFont: value.target.value
          });

          _SettingsStore.default.setValue("systemFont", null, _SettingLevel.SettingLevel.DEVICE, value.target.value);
        },
        tooltipContent: tooltipContent,
        forceTooltipVisible: true,
        disabled: !this.state.useSystemFont,
        value: this.state.systemFont
      }));
    }

    return /*#__PURE__*/_react.default.createElement("div", {
      className: "mx_SettingsTab_section mx_AppearanceUserSettingsTab_Advanced"
    }, toggle, advanced);
  }

  render() {
    const brand = _SdkConfig.default.get().brand;

    return /*#__PURE__*/_react.default.createElement("div", {
      className: "mx_SettingsTab mx_AppearanceUserSettingsTab"
    }, /*#__PURE__*/_react.default.createElement("div", {
      className: "mx_SettingsTab_heading"
    }, (0, _languageHandler._t)("Customise your appearance")), /*#__PURE__*/_react.default.createElement("div", {
      className: "mx_SettingsTab_subsectionText"
    }, (0, _languageHandler._t)("Appearance Settings only affect this %(brand)s session.", {
      brand
    })), /*#__PURE__*/_react.default.createElement(_ThemeChoicePanel.default, null), /*#__PURE__*/_react.default.createElement(_LayoutSwitcher.default, {
      userId: this.state.userId,
      displayName: this.state.displayName,
      avatarUrl: this.state.avatarUrl,
      messagePreviewText: this.MESSAGE_PREVIEW_TEXT,
      onLayoutChanged: this.onLayoutChanged
    }), /*#__PURE__*/_react.default.createElement(_FontScalingPanel.default, null), this.renderAdvancedSection(), /*#__PURE__*/_react.default.createElement(_ImageSizePanel.default, null));
  }

}

exports.default = AppearanceUserSettingsTab;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJBcHBlYXJhbmNlVXNlclNldHRpbmdzVGFiIiwiUmVhY3QiLCJDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwiX3QiLCJsYXlvdXQiLCJzZXRTdGF0ZSIsInN0YXRlIiwidXNlU3lzdGVtRm9udCIsIlNldHRpbmdzU3RvcmUiLCJnZXRWYWx1ZSIsInN5c3RlbUZvbnQiLCJzaG93QWR2YW5jZWQiLCJ1c2VySWQiLCJkaXNwbGF5TmFtZSIsImF2YXRhclVybCIsImNvbXBvbmVudERpZE1vdW50IiwiY2xpZW50IiwiTWF0cml4Q2xpZW50UGVnIiwiZ2V0IiwiZ2V0VXNlcklkIiwicHJvZmlsZUluZm8iLCJnZXRQcm9maWxlSW5mbyIsInVubW91bnRlZCIsImRpc3BsYXluYW1lIiwiYXZhdGFyX3VybCIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwicmVuZGVyQWR2YW5jZWRTZWN0aW9uIiwiVUlGZWF0dXJlIiwiQWR2YW5jZWRTZXR0aW5ncyIsImJyYW5kIiwiU2RrQ29uZmlnIiwidG9nZ2xlIiwiYWR2YW5jZWQiLCJ0b29sdGlwQ29udGVudCIsIlNldHRpbmdMZXZlbCIsIkRFVklDRSIsImNoZWNrZWQiLCJnZXREaXNwbGF5TmFtZSIsInZhbHVlIiwidGFyZ2V0Iiwic2V0VmFsdWUiLCJyZW5kZXIiLCJNRVNTQUdFX1BSRVZJRVdfVEVYVCIsIm9uTGF5b3V0Q2hhbmdlZCJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL3ZpZXdzL3NldHRpbmdzL3RhYnMvdXNlci9BcHBlYXJhbmNlVXNlclNldHRpbmdzVGFiLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQ29weXJpZ2h0IDIwMTkgTmV3IFZlY3RvciBMdGRcbkNvcHlyaWdodCAyMDE5IC0gMjAyMSBUaGUgTWF0cml4Lm9yZyBGb3VuZGF0aW9uIEMuSS5DLlxuXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xueW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cbiAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG5TZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG5saW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IF90IH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL2xhbmd1YWdlSGFuZGxlclwiO1xuaW1wb3J0IFNka0NvbmZpZyBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vU2RrQ29uZmlnXCI7XG5pbXBvcnQgeyBNYXRyaXhDbGllbnRQZWcgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9NYXRyaXhDbGllbnRQZWcnO1xuaW1wb3J0IFNldHRpbmdzU3RvcmUgZnJvbSBcIi4uLy4uLy4uLy4uLy4uL3NldHRpbmdzL1NldHRpbmdzU3RvcmVcIjtcbmltcG9ydCBTZXR0aW5nc0ZsYWcgZnJvbSAnLi4vLi4vLi4vZWxlbWVudHMvU2V0dGluZ3NGbGFnJztcbmltcG9ydCBGaWVsZCBmcm9tICcuLi8uLi8uLi9lbGVtZW50cy9GaWVsZCc7XG5pbXBvcnQgQWNjZXNzaWJsZUJ1dHRvbiBmcm9tIFwiLi4vLi4vLi4vZWxlbWVudHMvQWNjZXNzaWJsZUJ1dHRvblwiO1xuaW1wb3J0IHsgU2V0dGluZ0xldmVsIH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL3NldHRpbmdzL1NldHRpbmdMZXZlbFwiO1xuaW1wb3J0IHsgVUlGZWF0dXJlIH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL3NldHRpbmdzL1VJRmVhdHVyZVwiO1xuaW1wb3J0IHsgTGF5b3V0IH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL3NldHRpbmdzL2VudW1zL0xheW91dFwiO1xuaW1wb3J0IExheW91dFN3aXRjaGVyIGZyb20gXCIuLi8uLi9MYXlvdXRTd2l0Y2hlclwiO1xuaW1wb3J0IEZvbnRTY2FsaW5nUGFuZWwgZnJvbSAnLi4vLi4vRm9udFNjYWxpbmdQYW5lbCc7XG5pbXBvcnQgVGhlbWVDaG9pY2VQYW5lbCBmcm9tICcuLi8uLi9UaGVtZUNob2ljZVBhbmVsJztcbmltcG9ydCBJbWFnZVNpemVQYW5lbCBmcm9tIFwiLi4vLi4vSW1hZ2VTaXplUGFuZWxcIjtcblxuaW50ZXJmYWNlIElQcm9wcyB7XG59XG5cbmludGVyZmFjZSBJU3RhdGUge1xuICAgIHVzZVN5c3RlbUZvbnQ6IGJvb2xlYW47XG4gICAgc3lzdGVtRm9udDogc3RyaW5nO1xuICAgIHNob3dBZHZhbmNlZDogYm9vbGVhbjtcbiAgICBsYXlvdXQ6IExheW91dDtcbiAgICAvLyBVc2VyIHByb2ZpbGUgZGF0YSBmb3IgdGhlIG1lc3NhZ2UgcHJldmlld1xuICAgIHVzZXJJZD86IHN0cmluZztcbiAgICBkaXNwbGF5TmFtZTogc3RyaW5nO1xuICAgIGF2YXRhclVybDogc3RyaW5nO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcHBlYXJhbmNlVXNlclNldHRpbmdzVGFiIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PElQcm9wcywgSVN0YXRlPiB7XG4gICAgcHJpdmF0ZSByZWFkb25seSBNRVNTQUdFX1BSRVZJRVdfVEVYVCA9IF90KFwiSGV5IHlvdS4gWW91J3JlIHRoZSBiZXN0IVwiKTtcblxuICAgIHByaXZhdGUgdW5tb3VudGVkID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogSVByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcblxuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgdXNlU3lzdGVtRm9udDogU2V0dGluZ3NTdG9yZS5nZXRWYWx1ZShcInVzZVN5c3RlbUZvbnRcIiksXG4gICAgICAgICAgICBzeXN0ZW1Gb250OiBTZXR0aW5nc1N0b3JlLmdldFZhbHVlKFwic3lzdGVtRm9udFwiKSxcbiAgICAgICAgICAgIHNob3dBZHZhbmNlZDogZmFsc2UsXG4gICAgICAgICAgICBsYXlvdXQ6IFNldHRpbmdzU3RvcmUuZ2V0VmFsdWUoXCJsYXlvdXRcIiksXG4gICAgICAgICAgICB1c2VySWQ6IG51bGwsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogbnVsbCxcbiAgICAgICAgICAgIGF2YXRhclVybDogbnVsbCxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhc3luYyBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgLy8gRmV0Y2ggdGhlIGN1cnJlbnQgdXNlciBwcm9maWxlIGZvciB0aGUgbWVzc2FnZSBwcmV2aWV3XG4gICAgICAgIGNvbnN0IGNsaWVudCA9IE1hdHJpeENsaWVudFBlZy5nZXQoKTtcbiAgICAgICAgY29uc3QgdXNlcklkID0gY2xpZW50LmdldFVzZXJJZCgpO1xuICAgICAgICBjb25zdCBwcm9maWxlSW5mbyA9IGF3YWl0IGNsaWVudC5nZXRQcm9maWxlSW5mbyh1c2VySWQpO1xuICAgICAgICBpZiAodGhpcy51bm1vdW50ZWQpIHJldHVybjtcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHVzZXJJZCxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBwcm9maWxlSW5mby5kaXNwbGF5bmFtZSxcbiAgICAgICAgICAgIGF2YXRhclVybDogcHJvZmlsZUluZm8uYXZhdGFyX3VybCxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIHRoaXMudW5tb3VudGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uTGF5b3V0Q2hhbmdlZCA9IChsYXlvdXQ6IExheW91dCk6IHZvaWQgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgbGF5b3V0OiBsYXlvdXQgfSk7XG4gICAgfTtcblxuICAgIHByaXZhdGUgcmVuZGVyQWR2YW5jZWRTZWN0aW9uKCkge1xuICAgICAgICBpZiAoIVNldHRpbmdzU3RvcmUuZ2V0VmFsdWUoVUlGZWF0dXJlLkFkdmFuY2VkU2V0dGluZ3MpKSByZXR1cm4gbnVsbDtcblxuICAgICAgICBjb25zdCBicmFuZCA9IFNka0NvbmZpZy5nZXQoKS5icmFuZDtcbiAgICAgICAgY29uc3QgdG9nZ2xlID0gPEFjY2Vzc2libGVCdXR0b25cbiAgICAgICAgICAgIGtpbmQ9XCJsaW5rXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRoaXMuc2V0U3RhdGUoeyBzaG93QWR2YW5jZWQ6ICF0aGlzLnN0YXRlLnNob3dBZHZhbmNlZCB9KX1cbiAgICAgICAgPlxuICAgICAgICAgICAgeyB0aGlzLnN0YXRlLnNob3dBZHZhbmNlZCA/IF90KFwiSGlkZSBhZHZhbmNlZFwiKSA6IF90KFwiU2hvdyBhZHZhbmNlZFwiKSB9XG4gICAgICAgIDwvQWNjZXNzaWJsZUJ1dHRvbj47XG5cbiAgICAgICAgbGV0IGFkdmFuY2VkOiBSZWFjdC5SZWFjdE5vZGU7XG5cbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2hvd0FkdmFuY2VkKSB7XG4gICAgICAgICAgICBjb25zdCB0b29sdGlwQ29udGVudCA9IF90KFxuICAgICAgICAgICAgICAgIFwiU2V0IHRoZSBuYW1lIG9mIGEgZm9udCBpbnN0YWxsZWQgb24geW91ciBzeXN0ZW0gJiAlKGJyYW5kKXMgd2lsbCBhdHRlbXB0IHRvIHVzZSBpdC5cIixcbiAgICAgICAgICAgICAgICB7IGJyYW5kIH0sXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYWR2YW5jZWQgPSA8PlxuICAgICAgICAgICAgICAgIDxTZXR0aW5nc0ZsYWcgbmFtZT1cInVzZUNvbXBhY3RMYXlvdXRcIiBsZXZlbD17U2V0dGluZ0xldmVsLkRFVklDRX0gdXNlQ2hlY2tib3g9e3RydWV9IC8+XG5cbiAgICAgICAgICAgICAgICA8U2V0dGluZ3NGbGFnXG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJ1c2VTeXN0ZW1Gb250XCJcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWw9e1NldHRpbmdMZXZlbC5ERVZJQ0V9XG4gICAgICAgICAgICAgICAgICAgIHVzZUNoZWNrYm94PXt0cnVlfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGNoZWNrZWQpID0+IHRoaXMuc2V0U3RhdGUoeyB1c2VTeXN0ZW1Gb250OiBjaGVja2VkIH0pfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPEZpZWxkXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm14X0FwcGVhcmFuY2VVc2VyU2V0dGluZ3NUYWJfc3lzdGVtRm9udFwiXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPXtTZXR0aW5nc1N0b3JlLmdldERpc3BsYXlOYW1lKFwic3lzdGVtRm9udFwiKX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3lzdGVtRm9udDogdmFsdWUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIFNldHRpbmdzU3RvcmUuc2V0VmFsdWUoXCJzeXN0ZW1Gb250XCIsIG51bGwsIFNldHRpbmdMZXZlbC5ERVZJQ0UsIHZhbHVlLnRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXBDb250ZW50PXt0b29sdGlwQ29udGVudH1cbiAgICAgICAgICAgICAgICAgICAgZm9yY2VUb29sdGlwVmlzaWJsZT17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyF0aGlzLnN0YXRlLnVzZVN5c3RlbUZvbnR9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnN5c3RlbUZvbnR9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvPjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJteF9TZXR0aW5nc1RhYl9zZWN0aW9uIG14X0FwcGVhcmFuY2VVc2VyU2V0dGluZ3NUYWJfQWR2YW5jZWRcIj5cbiAgICAgICAgICAgIHsgdG9nZ2xlIH1cbiAgICAgICAgICAgIHsgYWR2YW5jZWQgfVxuICAgICAgICA8L2Rpdj47XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCBicmFuZCA9IFNka0NvbmZpZy5nZXQoKS5icmFuZDtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteF9TZXR0aW5nc1RhYiBteF9BcHBlYXJhbmNlVXNlclNldHRpbmdzVGFiXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteF9TZXR0aW5nc1RhYl9oZWFkaW5nXCI+eyBfdChcIkN1c3RvbWlzZSB5b3VyIGFwcGVhcmFuY2VcIikgfTwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXhfU2V0dGluZ3NUYWJfc3Vic2VjdGlvblRleHRcIj5cbiAgICAgICAgICAgICAgICAgICAgeyBfdChcIkFwcGVhcmFuY2UgU2V0dGluZ3Mgb25seSBhZmZlY3QgdGhpcyAlKGJyYW5kKXMgc2Vzc2lvbi5cIiwgeyBicmFuZCB9KSB9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPFRoZW1lQ2hvaWNlUGFuZWwgLz5cbiAgICAgICAgICAgICAgICA8TGF5b3V0U3dpdGNoZXJcbiAgICAgICAgICAgICAgICAgICAgdXNlcklkPXt0aGlzLnN0YXRlLnVzZXJJZH1cbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU9e3RoaXMuc3RhdGUuZGlzcGxheU5hbWV9XG4gICAgICAgICAgICAgICAgICAgIGF2YXRhclVybD17dGhpcy5zdGF0ZS5hdmF0YXJVcmx9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VQcmV2aWV3VGV4dD17dGhpcy5NRVNTQUdFX1BSRVZJRVdfVEVYVH1cbiAgICAgICAgICAgICAgICAgICAgb25MYXlvdXRDaGFuZ2VkPXt0aGlzLm9uTGF5b3V0Q2hhbmdlZH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxGb250U2NhbGluZ1BhbmVsIC8+XG4gICAgICAgICAgICAgICAgeyB0aGlzLnJlbmRlckFkdmFuY2VkU2VjdGlvbigpIH1cbiAgICAgICAgICAgICAgICA8SW1hZ2VTaXplUGFuZWwgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFpQkE7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBaENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBaUNlLE1BQU1BLHlCQUFOLFNBQXdDQyxjQUFBLENBQU1DLFNBQTlDLENBQXdFO0VBS25GQyxXQUFXLENBQUNDLEtBQUQsRUFBZ0I7SUFDdkIsTUFBTUEsS0FBTjtJQUR1Qiw0REFKYSxJQUFBQyxtQkFBQSxFQUFHLDJCQUFILENBSWI7SUFBQSxpREFG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