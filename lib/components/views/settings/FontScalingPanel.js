"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireDefault(require("react"));

var _EventTilePreview = _interopRequireDefault(require("../elements/EventTilePreview"));

var _Field = _interopRequireDefault(require("../elements/Field"));

var _SettingsFlag = _interopRequireDefault(require("../elements/SettingsFlag"));

var _SettingsStore = _interopRequireDefault(require("../../../settings/SettingsStore"));

var _Slider = _interopRequireDefault(require("../elements/Slider"));

var _FontWatcher = require("../../../settings/watchers/FontWatcher");

var _MatrixClientPeg = require("../../../MatrixClientPeg");

var _SettingLevel = require("../../../settings/SettingLevel");

var _languageHandler = require("../../../languageHandler");

/*
Copyright 2021 The Matrix.org Foundation C.I.C.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
class FontScalingPanel extends _react.default.Component {
  constructor(props) {
    super(props);
    (0, _defineProperty2.default)(this, "MESSAGE_PREVIEW_TEXT", (0, _languageHandler._t)("Hey you. You're the best!"));
    (0, _defineProperty2.default)(this, "unmounted", false);
    (0, _defineProperty2.default)(this, "onFontSizeChanged", size => {
      this.setState({
        fontSize: size.toString()
      });

      _SettingsStore.default.setValue("baseFontSize", null, _SettingLevel.SettingLevel.DEVICE, size - _FontWatcher.FontWatcher.SIZE_DIFF);
    });
    (0, _defineProperty2.default)(this, "onValidateFontSize", async _ref => {
      let {
        value
      } = _ref;
      const parsedSize = parseFloat(value);
      const min = _FontWatcher.FontWatcher.MIN_SIZE + _FontWatcher.FontWatcher.SIZE_DIFF;
      const max = _FontWatcher.FontWatcher.MAX_SIZE + _FontWatcher.FontWatcher.SIZE_DIFF;

      if (isNaN(parsedSize)) {
        return {
          valid: false,
          feedback: (0, _languageHandler._t)("Size must be a number")
        };
      }

      if (!(min <= parsedSize && parsedSize <= max)) {
        return {
          valid: false,
          feedback: (0, _languageHandler._t)('Custom font size can only be between %(min)s pt and %(max)s pt', {
            min,
            max
          })
        };
      }

      _SettingsStore.default.setValue("baseFontSize", null, _SettingLevel.SettingLevel.DEVICE, parseInt(value, 10) - _FontWatcher.FontWatcher.SIZE_DIFF);

      return {
        valid: true,
        feedback: (0, _languageHandler._t)('Use between %(min)s pt and %(max)s pt', {
          min,
          max
        })
      };
    });
    this.state = {
      fontSize: (_SettingsStore.default.getValue("baseFontSize", null) + _FontWatcher.FontWatcher.SIZE_DIFF).toString(),
      useCustomFontSize: _SettingsStore.default.getValue("useCustomFontSize"),
      layout: _SettingsStore.default.getValue("layout"),
      userId: null,
      displayName: null,
      avatarUrl: null
    };
  }

  async componentDidMount() {
    // Fetch the current user profile for the message preview
    const client = _MatrixClientPeg.MatrixClientPeg.get();

    const userId = client.getUserId();
    const profileInfo = await client.getProfileInfo(userId);
    if (this.unmounted) return;
    this.setState({
      userId,
      displayName: profileInfo.displayname,
      avatarUrl: profileInfo.avatar_url
    });
  }

  componentWillUnmount() {
    this.unmounted = true;
  }

  render() {
    return /*#__PURE__*/_react.default.createElement("div", {
      className: "mx_SettingsTab_section mx_FontScalingPanel"
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "mx_SettingsTab_subheading"
    }, (0, _languageHandler._t)("Font size")), /*#__PURE__*/_react.default.createElement(_EventTilePreview.default, {
      className: "mx_FontScalingPanel_preview",
      message: this.MESSAGE_PREVIEW_TEXT,
      layout: this.state.layout,
      userId: this.state.userId,
      displayName: this.state.displayName,
      avatarUrl: this.state.avatarUrl
    }), /*#__PURE__*/_react.default.createElement("div", {
      className: "mx_FontScalingPanel_fontSlider"
    }, /*#__PURE__*/_react.default.createElement("div", {
      className: "mx_FontScalingPanel_fontSlider_smallText"
    }, "Aa"), /*#__PURE__*/_react.default.createElement(_Slider.default, {
      values: [13, 14, 15, 16, 18],
      value: parseInt(this.state.fontSize, 10),
      onSelectionChange: this.onFontSizeChanged,
      displayFunc: _ => "",
      disabled: this.state.useCustomFontSize
    }), /*#__PURE__*/_react.default.createElement("div", {
      className: "mx_FontScalingPanel_fontSlider_largeText"
    }, "Aa")), /*#__PURE__*/_react.default.createElement(_SettingsFlag.default, {
      name: "useCustomFontSize",
      level: _SettingLevel.SettingLevel.ACCOUNT,
      onChange: checked => this.setState({
        useCustomFontSize: checked
      }),
      useCheckbox: true
    }), /*#__PURE__*/_react.default.createElement(_Field.default, {
      type: "number",
      label: (0, _languageHandler._t)("Font size"),
      autoComplete: "off",
      placeholder: this.state.fontSize.toString(),
      value: this.state.fontSize.toString(),
      id: "font_size_field",
      onValidate: this.onValidateFontSize,
      onChange: value => this.setState({
        fontSize: value.target.value
      }),
      disabled: !this.state.useCustomFontSize,
      className: "mx_FontScalingPanel_customFontSizeField"
    }));
  }

}

exports.default = FontScalingPanel;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJGb250U2NhbGluZ1BhbmVsIiwiUmVhY3QiLCJDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwiX3QiLCJzaXplIiwic2V0U3RhdGUiLCJmb250U2l6ZSIsInRvU3RyaW5nIiwiU2V0dGluZ3NTdG9yZSIsInNldFZhbHVlIiwiU2V0dGluZ0xldmVsIiwiREVWSUNFIiwiRm9udFdhdGNoZXIiLCJTSVpFX0RJRkYiLCJ2YWx1ZSIsInBhcnNlZFNpemUiLCJwYXJzZUZsb2F0IiwibWluIiwiTUlOX1NJWkUiLCJtYXgiLCJNQVhfU0laRSIsImlzTmFOIiwidmFsaWQiLCJmZWVkYmFjayIsInBhcnNlSW50Iiwic3RhdGUiLCJnZXRWYWx1ZSIsInVzZUN1c3RvbUZvbnRTaXplIiwibGF5b3V0IiwidXNlcklkIiwiZGlzcGxheU5hbWUiLCJhdmF0YXJVcmwiLCJjb21wb25lbnREaWRNb3VudCIsImNsaWVudCIsIk1hdHJpeENsaWVudFBlZyIsImdldCIsImdldFVzZXJJZCIsInByb2ZpbGVJbmZvIiwiZ2V0UHJvZmlsZUluZm8iLCJ1bm1vdW50ZWQiLCJkaXNwbGF5bmFtZSIsImF2YXRhcl91cmwiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsInJlbmRlciIsIk1FU1NBR0VfUFJFVklFV19URVhUIiwib25Gb250U2l6ZUNoYW5nZWQiLCJfIiwiQUNDT1VOVCIsImNoZWNrZWQiLCJvblZhbGlkYXRlRm9udFNpemUiLCJ0YXJnZXQiXSwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy92aWV3cy9zZXR0aW5ncy9Gb250U2NhbGluZ1BhbmVsLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQ29weXJpZ2h0IDIwMjEgVGhlIE1hdHJpeC5vcmcgRm91bmRhdGlvbiBDLkkuQy5cblxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbnlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbllvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuXG4gICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG5cblVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbmRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbldJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxubGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4qL1xuXG5pbXBvcnQgUmVhY3QsIHsgQ2hhbmdlRXZlbnQgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBFdmVudFRpbGVQcmV2aWV3IGZyb20gJy4uL2VsZW1lbnRzL0V2ZW50VGlsZVByZXZpZXcnO1xuaW1wb3J0IEZpZWxkIGZyb20gJy4uL2VsZW1lbnRzL0ZpZWxkJztcbmltcG9ydCBTZXR0aW5nc0ZsYWcgZnJvbSAnLi4vZWxlbWVudHMvU2V0dGluZ3NGbGFnJztcbmltcG9ydCBTZXR0aW5nc1N0b3JlIGZyb20gXCIuLi8uLi8uLi9zZXR0aW5ncy9TZXR0aW5nc1N0b3JlXCI7XG5pbXBvcnQgU2xpZGVyIGZyb20gXCIuLi9lbGVtZW50cy9TbGlkZXJcIjtcbmltcG9ydCB7IEZvbnRXYXRjaGVyIH0gZnJvbSBcIi4uLy4uLy4uL3NldHRpbmdzL3dhdGNoZXJzL0ZvbnRXYXRjaGVyXCI7XG5pbXBvcnQgeyBJVmFsaWRhdGlvblJlc3VsdCwgSUZpZWxkU3RhdGUgfSBmcm9tICcuLi9lbGVtZW50cy9WYWxpZGF0aW9uJztcbmltcG9ydCB7IExheW91dCB9IGZyb20gXCIuLi8uLi8uLi9zZXR0aW5ncy9lbnVtcy9MYXlvdXRcIjtcbmltcG9ydCB7IE1hdHJpeENsaWVudFBlZyB9IGZyb20gJy4uLy4uLy4uL01hdHJpeENsaWVudFBlZyc7XG5pbXBvcnQgeyBTZXR0aW5nTGV2ZWwgfSBmcm9tIFwiLi4vLi4vLi4vc2V0dGluZ3MvU2V0dGluZ0xldmVsXCI7XG5pbXBvcnQgeyBfdCB9IGZyb20gXCIuLi8uLi8uLi9sYW5ndWFnZUhhbmRsZXJcIjtcblxuaW50ZXJmYWNlIElQcm9wcyB7XG59XG5cbmludGVyZmFjZSBJU3RhdGUge1xuICAgIC8vIFN0cmluZyBkaXNwbGF5aW5nIHRoZSBjdXJyZW50IHNlbGVjdGVkIGZvbnRTaXplLlxuICAgIC8vIE5lZWRzIHRvIGJlIHN0cmluZyBmb3IgdGhpbmdzIGxpa2UgJzE3Licgd2l0aG91dFxuICAgIC8vIHRyYWlsaW5nIDBzLlxuICAgIGZvbnRTaXplOiBzdHJpbmc7XG4gICAgdXNlQ3VzdG9tRm9udFNpemU6IGJvb2xlYW47XG4gICAgbGF5b3V0OiBMYXlvdXQ7XG4gICAgLy8gVXNlciBwcm9maWxlIGRhdGEgZm9yIHRoZSBtZXNzYWdlIHByZXZpZXdcbiAgICB1c2VySWQ/OiBzdHJpbmc7XG4gICAgZGlzcGxheU5hbWU6IHN0cmluZztcbiAgICBhdmF0YXJVcmw6IHN0cmluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9udFNjYWxpbmdQYW5lbCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxJUHJvcHMsIElTdGF0ZT4ge1xuICAgIHByaXZhdGUgcmVhZG9ubHkgTUVTU0FHRV9QUkVWSUVXX1RFWFQgPSBfdChcIkhleSB5b3UuIFlvdSdyZSB0aGUgYmVzdCFcIik7XG5cbiAgICBwcml2YXRlIHVubW91bnRlZCA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IocHJvcHM6IElQcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG5cbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGZvbnRTaXplOiAoU2V0dGluZ3NTdG9yZS5nZXRWYWx1ZShcImJhc2VGb250U2l6ZVwiLCBudWxsKSArIEZvbnRXYXRjaGVyLlNJWkVfRElGRikudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHVzZUN1c3RvbUZvbnRTaXplOiBTZXR0aW5nc1N0b3JlLmdldFZhbHVlKFwidXNlQ3VzdG9tRm9udFNpemVcIiksXG4gICAgICAgICAgICBsYXlvdXQ6IFNldHRpbmdzU3RvcmUuZ2V0VmFsdWUoXCJsYXlvdXRcIiksXG4gICAgICAgICAgICB1c2VySWQ6IG51bGwsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogbnVsbCxcbiAgICAgICAgICAgIGF2YXRhclVybDogbnVsbCxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhc3luYyBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgLy8gRmV0Y2ggdGhlIGN1cnJlbnQgdXNlciBwcm9maWxlIGZvciB0aGUgbWVzc2FnZSBwcmV2aWV3XG4gICAgICAgIGNvbnN0IGNsaWVudCA9IE1hdHJpeENsaWVudFBlZy5nZXQoKTtcbiAgICAgICAgY29uc3QgdXNlcklkID0gY2xpZW50LmdldFVzZXJJZCgpO1xuICAgICAgICBjb25zdCBwcm9maWxlSW5mbyA9IGF3YWl0IGNsaWVudC5nZXRQcm9maWxlSW5mbyh1c2VySWQpO1xuICAgICAgICBpZiAodGhpcy51bm1vdW50ZWQpIHJldHVybjtcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHVzZXJJZCxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBwcm9maWxlSW5mby5kaXNwbGF5bmFtZSxcbiAgICAgICAgICAgIGF2YXRhclVybDogcHJvZmlsZUluZm8uYXZhdGFyX3VybCxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIHRoaXMudW5tb3VudGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uRm9udFNpemVDaGFuZ2VkID0gKHNpemU6IG51bWJlcik6IHZvaWQgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgZm9udFNpemU6IHNpemUudG9TdHJpbmcoKSB9KTtcbiAgICAgICAgU2V0dGluZ3NTdG9yZS5zZXRWYWx1ZShcImJhc2VGb250U2l6ZVwiLCBudWxsLCBTZXR0aW5nTGV2ZWwuREVWSUNFLCBzaXplIC0gRm9udFdhdGNoZXIuU0laRV9ESUZGKTtcbiAgICB9O1xuXG4gICAgcHJpdmF0ZSBvblZhbGlkYXRlRm9udFNpemUgPSBhc3luYyAoeyB2YWx1ZSB9OiBQaWNrPElGaWVsZFN0YXRlLCBcInZhbHVlXCI+KTogUHJvbWlzZTxJVmFsaWRhdGlvblJlc3VsdD4gPT4ge1xuICAgICAgICBjb25zdCBwYXJzZWRTaXplID0gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IG1pbiA9IEZvbnRXYXRjaGVyLk1JTl9TSVpFICsgRm9udFdhdGNoZXIuU0laRV9ESUZGO1xuICAgICAgICBjb25zdCBtYXggPSBGb250V2F0Y2hlci5NQVhfU0laRSArIEZvbnRXYXRjaGVyLlNJWkVfRElGRjtcblxuICAgICAgICBpZiAoaXNOYU4ocGFyc2VkU2l6ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSwgZmVlZGJhY2s6IF90KFwiU2l6ZSBtdXN0IGJlIGEgbnVtYmVyXCIpIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIShtaW4gPD0gcGFyc2VkU2l6ZSAmJiBwYXJzZWRTaXplIDw9IG1heCkpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGZlZWRiYWNrOiBfdCgnQ3VzdG9tIGZvbnQgc2l6ZSBjYW4gb25seSBiZSBiZXR3ZWVuICUobWluKXMgcHQgYW5kICUobWF4KXMgcHQnLCB7IG1pbiwgbWF4IH0pLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIFNldHRpbmdzU3RvcmUuc2V0VmFsdWUoXG4gICAgICAgICAgICBcImJhc2VGb250U2l6ZVwiLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIFNldHRpbmdMZXZlbC5ERVZJQ0UsXG4gICAgICAgICAgICBwYXJzZUludCh2YWx1ZSwgMTApIC0gRm9udFdhdGNoZXIuU0laRV9ESUZGLFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBmZWVkYmFjazogX3QoJ1VzZSBiZXR3ZWVuICUobWluKXMgcHQgYW5kICUobWF4KXMgcHQnLCB7IG1pbiwgbWF4IH0pIH07XG4gICAgfTtcblxuICAgIHB1YmxpYyByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm14X1NldHRpbmdzVGFiX3NlY3Rpb24gbXhfRm9udFNjYWxpbmdQYW5lbFwiPlxuXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJteF9TZXR0aW5nc1RhYl9zdWJoZWFkaW5nXCI+eyBfdChcIkZvbnQgc2l6ZVwiKSB9PC9zcGFuPlxuICAgICAgICAgICAgPEV2ZW50VGlsZVByZXZpZXdcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJteF9Gb250U2NhbGluZ1BhbmVsX3ByZXZpZXdcIlxuICAgICAgICAgICAgICAgIG1lc3NhZ2U9e3RoaXMuTUVTU0FHRV9QUkVWSUVXX1RFWFR9XG4gICAgICAgICAgICAgICAgbGF5b3V0PXt0aGlzLnN0YXRlLmxheW91dH1cbiAgICAgICAgICAgICAgICB1c2VySWQ9e3RoaXMuc3RhdGUudXNlcklkfVxuICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lPXt0aGlzLnN0YXRlLmRpc3BsYXlOYW1lfVxuICAgICAgICAgICAgICAgIGF2YXRhclVybD17dGhpcy5zdGF0ZS5hdmF0YXJVcmx9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteF9Gb250U2NhbGluZ1BhbmVsX2ZvbnRTbGlkZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14X0ZvbnRTY2FsaW5nUGFuZWxfZm9udFNsaWRlcl9zbWFsbFRleHRcIj5BYTwvZGl2PlxuICAgICAgICAgICAgICAgIDxTbGlkZXJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzPXtbMTMsIDE0LCAxNSwgMTYsIDE4XX1cbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3BhcnNlSW50KHRoaXMuc3RhdGUuZm9udFNpemUsIDEwKX1cbiAgICAgICAgICAgICAgICAgICAgb25TZWxlY3Rpb25DaGFuZ2U9e3RoaXMub25Gb250U2l6ZUNoYW5nZWR9XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlGdW5jPXtfID0+IFwiXCJ9XG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLnVzZUN1c3RvbUZvbnRTaXplfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteF9Gb250U2NhbGluZ1BhbmVsX2ZvbnRTbGlkZXJfbGFyZ2VUZXh0XCI+QWE8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8U2V0dGluZ3NGbGFnXG4gICAgICAgICAgICAgICAgbmFtZT1cInVzZUN1c3RvbUZvbnRTaXplXCJcbiAgICAgICAgICAgICAgICBsZXZlbD17U2V0dGluZ0xldmVsLkFDQ09VTlR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhjaGVja2VkKSA9PiB0aGlzLnNldFN0YXRlKHsgdXNlQ3VzdG9tRm9udFNpemU6IGNoZWNrZWQgfSl9XG4gICAgICAgICAgICAgICAgdXNlQ2hlY2tib3g9e3RydWV9XG4gICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICA8RmllbGRcbiAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICBsYWJlbD17X3QoXCJGb250IHNpemVcIil9XG4gICAgICAgICAgICAgICAgYXV0b0NvbXBsZXRlPVwib2ZmXCJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17dGhpcy5zdGF0ZS5mb250U2l6ZS50b1N0cmluZygpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmZvbnRTaXplLnRvU3RyaW5nKCl9XG4gICAgICAgICAgICAgICAgaWQ9XCJmb250X3NpemVfZmllbGRcIlxuICAgICAgICAgICAgICAgIG9uVmFsaWRhdGU9e3RoaXMub25WYWxpZGF0ZUZvbnRTaXplfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtcbiAgICAgICAgICAgICAgICAgICAgKHZhbHVlOiBDaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBmb250U2l6ZTogdmFsdWUudGFyZ2V0LnZhbHVlIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXshdGhpcy5zdGF0ZS51c2VDdXN0b21Gb250U2l6ZX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJteF9Gb250U2NhbGluZ1BhbmVsX2N1c3RvbUZvbnRTaXplRmllbGRcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+O1xuICAgIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFnQkE7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBR0E7O0FBQ0E7O0FBQ0E7O0FBNUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWdDZSxNQUFNQSxnQkFBTixTQUErQkMsY0FBQSxDQUFNQyxTQUFyQyxDQUErRDtFQUsxRUMsV0FBVyxDQUFDQyxLQUFELEVBQWdCO0lBQ3ZCLE1BQU1BLEtBQU47SUFEdUIsNERBSmEsSUFBQUMsbUJBQUEsRUFBRywyQkFBSCxDQUliO0lB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