"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.FilteredDeviceList = void 0;

var _react = _interopRequireWildcard(require("react"));

var _languageHandler = require("../../../../languageHandler");

var _AccessibleButton = _interopRequireDefault(require("../../elements/AccessibleButton"));

var _FilterDropdown = require("../../elements/FilterDropdown");

var _DeviceDetails = _interopRequireDefault(require("./DeviceDetails"));

var _DeviceExpandDetailsButton = _interopRequireDefault(require("./DeviceExpandDetailsButton"));

var _DeviceSecurityCard = _interopRequireDefault(require("./DeviceSecurityCard"));

var _DeviceTile = _interopRequireDefault(require("./DeviceTile"));

var _filter = require("./filter");

var _types = require("./types");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

/*
Copyright 2022 The Matrix.org Foundation C.I.C.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
// devices without timestamp metadata should be sorted last
const sortDevicesByLatestActivity = (left, right) => (right.last_seen_ts || 0) - (left.last_seen_ts || 0);

const getFilteredSortedDevices = (devices, filter) => (0, _filter.filterDevicesBySecurityRecommendation)(Object.values(devices), filter ? [filter] : []).sort(sortDevicesByLatestActivity);

const ALL_FILTER_ID = 'ALL';

const FilterSecurityCard = _ref => {
  let {
    filter
  } = _ref;

  switch (filter) {
    case _types.DeviceSecurityVariation.Verified:
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "mx_FilteredDeviceList_securityCard"
      }, /*#__PURE__*/_react.default.createElement(_DeviceSecurityCard.default, {
        variation: _types.DeviceSecurityVariation.Verified,
        heading: (0, _languageHandler._t)('Verified sessions'),
        description: (0, _languageHandler._t)(`For best security, sign out from any session` + ` that you don't recognize or use anymore.`)
      }));

    case _types.DeviceSecurityVariation.Unverified:
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "mx_FilteredDeviceList_securityCard"
      }, /*#__PURE__*/_react.default.createElement(_DeviceSecurityCard.default, {
        variation: _types.DeviceSecurityVariation.Unverified,
        heading: (0, _languageHandler._t)('Unverified sessions'),
        description: (0, _languageHandler._t)(`Verify your sessions for enhanced secure messaging or sign out` + ` from those you don't recognize or use anymore.`)
      }));

    case _types.DeviceSecurityVariation.Inactive:
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "mx_FilteredDeviceList_securityCard"
      }, /*#__PURE__*/_react.default.createElement(_DeviceSecurityCard.default, {
        variation: _types.DeviceSecurityVariation.Inactive,
        heading: (0, _languageHandler._t)('Inactive sessions'),
        description: (0, _languageHandler._t)(`Consider signing out from old sessions ` + `(%(inactiveAgeDays)s days or older) you don't use anymore`, {
          inactiveAgeDays: _filter.INACTIVE_DEVICE_AGE_DAYS
        })
      }));

    default:
      return null;
  }
};

const getNoResultsMessage = filter => {
  switch (filter) {
    case _types.DeviceSecurityVariation.Verified:
      return (0, _languageHandler._t)('No verified sessions found.');

    case _types.DeviceSecurityVariation.Unverified:
      return (0, _languageHandler._t)('No unverified sessions found.');

    case _types.DeviceSecurityVariation.Inactive:
      return (0, _languageHandler._t)('No inactive sessions found.');

    default:
      return (0, _languageHandler._t)('No sessions found.');
  }
};

const NoResults = _ref2 => {
  let {
    filter,
    clearFilter
  } = _ref2;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "mx_FilteredDeviceList_noResults"
  }, getNoResultsMessage(filter),
  /* No clear filter button when filter is falsy (ie 'All') */
  !!filter && /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, "\xA0", /*#__PURE__*/_react.default.createElement(_AccessibleButton.default, {
    kind: "link_inline",
    onClick: clearFilter,
    "data-testid": "devices-clear-filter-btn"
  }, (0, _languageHandler._t)('Show all'))));
};

const DeviceListItem = _ref3 => {
  let {
    device,
    isExpanded,
    onDeviceExpandToggle
  } = _ref3;
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "mx_FilteredDeviceList_listItem"
  }, /*#__PURE__*/_react.default.createElement(_DeviceTile.default, {
    device: device
  }, /*#__PURE__*/_react.default.createElement(_DeviceExpandDetailsButton.default, {
    isExpanded: isExpanded,
    onClick: onDeviceExpandToggle
  })), isExpanded && /*#__PURE__*/_react.default.createElement(_DeviceDetails.default, {
    device: device
  }));
};
/**
 * Filtered list of devices
 * Sorted by latest activity descending
 */


const FilteredDeviceList = /*#__PURE__*/(0, _react.forwardRef)((_ref4, ref) => {
  let {
    devices,
    filter,
    expandedDeviceIds,
    onFilterChange,
    onDeviceExpandToggle
  } = _ref4;
  const sortedDevices = getFilteredSortedDevices(devices, filter);
  const options = [{
    id: ALL_FILTER_ID,
    label: (0, _languageHandler._t)('All')
  }, {
    id: _types.DeviceSecurityVariation.Verified,
    label: (0, _languageHandler._t)('Verified'),
    description: (0, _languageHandler._t)('Ready for secure messaging')
  }, {
    id: _types.DeviceSecurityVariation.Unverified,
    label: (0, _languageHandler._t)('Unverified'),
    description: (0, _languageHandler._t)('Not ready for secure messaging')
  }, {
    id: _types.DeviceSecurityVariation.Inactive,
    label: (0, _languageHandler._t)('Inactive'),
    description: (0, _languageHandler._t)('Inactive for %(inactiveAgeDays)s days or longer', {
      inactiveAgeDays: _filter.INACTIVE_DEVICE_AGE_DAYS
    })
  }];

  const onFilterOptionChange = filterId => {
    onFilterChange(filterId === ALL_FILTER_ID ? undefined : filterId);
  };

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "mx_FilteredDeviceList",
    ref: ref
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "mx_FilteredDeviceList_header"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "mx_FilteredDeviceList_headerLabel"
  }, (0, _languageHandler._t)('Sessions')), /*#__PURE__*/_react.default.createElement(_FilterDropdown.FilterDropdown, {
    id: "device-list-filter",
    label: (0, _languageHandler._t)('Filter devices'),
    value: filter || ALL_FILTER_ID,
    onOptionChange: onFilterOptionChange,
    options: options,
    selectedLabel: (0, _languageHandler._t)('Show')
  })), !!sortedDevices.length ? /*#__PURE__*/_react.default.createElement(FilterSecurityCard, {
    filter: filter
  }) : /*#__PURE__*/_react.default.createElement(NoResults, {
    filter: filter,
    clearFilter: () => onFilterChange(undefined)
  }), /*#__PURE__*/_react.default.createElement("ol", {
    className: "mx_FilteredDeviceList_list"
  }, sortedDevices.map(device => /*#__PURE__*/_react.default.createElement(DeviceListItem, {
    key: device.device_id,
    device: device,
    isExpanded: expandedDeviceIds.includes(device.device_id),
    onDeviceExpandToggle: () => onDeviceExpandToggle(device.device_id)
  }))));
});
exports.FilteredDeviceList = FilteredDeviceList;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzb3J0RGV2aWNlc0J5TGF0ZXN0QWN0aXZpdHkiLCJsZWZ0IiwicmlnaHQiLCJsYXN0X3NlZW5fdHMiLCJnZXRGaWx0ZXJlZFNvcnRlZERldmljZXMiLCJkZXZpY2VzIiwiZmlsdGVyIiwiZmlsdGVyRGV2aWNlc0J5U2VjdXJpdHlSZWNvbW1lbmRhdGlvbiIsIk9iamVjdCIsInZhbHVlcyIsInNvcnQiLCJBTExfRklMVEVSX0lEIiwiRmlsdGVyU2VjdXJpdHlDYXJkIiwiRGV2aWNlU2VjdXJpdHlWYXJpYXRpb24iLCJWZXJpZmllZCIsIl90IiwiVW52ZXJpZmllZCIsIkluYWN0aXZlIiwiaW5hY3RpdmVBZ2VEYXlzIiwiSU5BQ1RJVkVfREVWSUNFX0FHRV9EQVlTIiwiZ2V0Tm9SZXN1bHRzTWVzc2FnZSIsIk5vUmVzdWx0cyIsImNsZWFyRmlsdGVyIiwiRGV2aWNlTGlzdEl0ZW0iLCJkZXZpY2UiLCJpc0V4cGFuZGVkIiwib25EZXZpY2VFeHBhbmRUb2dnbGUiLCJGaWx0ZXJlZERldmljZUxpc3QiLCJmb3J3YXJkUmVmIiwicmVmIiwiZXhwYW5kZWREZXZpY2VJZHMiLCJvbkZpbHRlckNoYW5nZSIsInNvcnRlZERldmljZXMiLCJvcHRpb25zIiwiaWQiLCJsYWJlbCIsImRlc2NyaXB0aW9uIiwib25GaWx0ZXJPcHRpb25DaGFuZ2UiLCJmaWx0ZXJJZCIsInVuZGVmaW5lZCIsImxlbmd0aCIsIm1hcCIsImRldmljZV9pZCIsImluY2x1ZGVzIl0sInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvdmlld3Mvc2V0dGluZ3MvZGV2aWNlcy9GaWx0ZXJlZERldmljZUxpc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5Db3B5cmlnaHQgMjAyMiBUaGUgTWF0cml4Lm9yZyBGb3VuZGF0aW9uIEMuSS5DLlxuXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xueW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cbiAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG5TZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG5saW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiovXG5cbmltcG9ydCBSZWFjdCwgeyBGb3J3YXJkZWRSZWYsIGZvcndhcmRSZWYgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IF90IH0gZnJvbSAnLi4vLi4vLi4vLi4vbGFuZ3VhZ2VIYW5kbGVyJztcbmltcG9ydCBBY2Nlc3NpYmxlQnV0dG9uIGZyb20gJy4uLy4uL2VsZW1lbnRzL0FjY2Vzc2libGVCdXR0b24nO1xuaW1wb3J0IHsgRmlsdGVyRHJvcGRvd24sIEZpbHRlckRyb3Bkb3duT3B0aW9uIH0gZnJvbSAnLi4vLi4vZWxlbWVudHMvRmlsdGVyRHJvcGRvd24nO1xuaW1wb3J0IERldmljZURldGFpbHMgZnJvbSAnLi9EZXZpY2VEZXRhaWxzJztcbmltcG9ydCBEZXZpY2VFeHBhbmREZXRhaWxzQnV0dG9uIGZyb20gJy4vRGV2aWNlRXhwYW5kRGV0YWlsc0J1dHRvbic7XG5pbXBvcnQgRGV2aWNlU2VjdXJpdHlDYXJkIGZyb20gJy4vRGV2aWNlU2VjdXJpdHlDYXJkJztcbmltcG9ydCBEZXZpY2VUaWxlIGZyb20gJy4vRGV2aWNlVGlsZSc7XG5pbXBvcnQge1xuICAgIGZpbHRlckRldmljZXNCeVNlY3VyaXR5UmVjb21tZW5kYXRpb24sXG4gICAgSU5BQ1RJVkVfREVWSUNFX0FHRV9EQVlTLFxufSBmcm9tICcuL2ZpbHRlcic7XG5pbXBvcnQge1xuICAgIERldmljZXNEaWN0aW9uYXJ5LFxuICAgIERldmljZVNlY3VyaXR5VmFyaWF0aW9uLFxuICAgIERldmljZVdpdGhWZXJpZmljYXRpb24sXG59IGZyb20gJy4vdHlwZXMnO1xuXG5pbnRlcmZhY2UgUHJvcHMge1xuICAgIGRldmljZXM6IERldmljZXNEaWN0aW9uYXJ5O1xuICAgIGV4cGFuZGVkRGV2aWNlSWRzOiBEZXZpY2VXaXRoVmVyaWZpY2F0aW9uWydkZXZpY2VfaWQnXVtdO1xuICAgIGZpbHRlcj86IERldmljZVNlY3VyaXR5VmFyaWF0aW9uO1xuICAgIG9uRmlsdGVyQ2hhbmdlOiAoZmlsdGVyOiBEZXZpY2VTZWN1cml0eVZhcmlhdGlvbiB8IHVuZGVmaW5lZCkgPT4gdm9pZDtcbiAgICBvbkRldmljZUV4cGFuZFRvZ2dsZTogKGRldmljZUlkOiBEZXZpY2VXaXRoVmVyaWZpY2F0aW9uWydkZXZpY2VfaWQnXSkgPT4gdm9pZDtcbn1cblxuLy8gZGV2aWNlcyB3aXRob3V0IHRpbWVzdGFtcCBtZXRhZGF0YSBzaG91bGQgYmUgc29ydGVkIGxhc3RcbmNvbnN0IHNvcnREZXZpY2VzQnlMYXRlc3RBY3Rpdml0eSA9IChsZWZ0OiBEZXZpY2VXaXRoVmVyaWZpY2F0aW9uLCByaWdodDogRGV2aWNlV2l0aFZlcmlmaWNhdGlvbikgPT5cbiAgICAocmlnaHQubGFzdF9zZWVuX3RzIHx8IDApIC0gKGxlZnQubGFzdF9zZWVuX3RzIHx8IDApO1xuXG5jb25zdCBnZXRGaWx0ZXJlZFNvcnRlZERldmljZXMgPSAoZGV2aWNlczogRGV2aWNlc0RpY3Rpb25hcnksIGZpbHRlcj86IERldmljZVNlY3VyaXR5VmFyaWF0aW9uKSA9PlxuICAgIGZpbHRlckRldmljZXNCeVNlY3VyaXR5UmVjb21tZW5kYXRpb24oT2JqZWN0LnZhbHVlcyhkZXZpY2VzKSwgZmlsdGVyID8gW2ZpbHRlcl0gOiBbXSlcbiAgICAgICAgLnNvcnQoc29ydERldmljZXNCeUxhdGVzdEFjdGl2aXR5KTtcblxuY29uc3QgQUxMX0ZJTFRFUl9JRCA9ICdBTEwnO1xudHlwZSBEZXZpY2VGaWx0ZXJLZXkgPSBEZXZpY2VTZWN1cml0eVZhcmlhdGlvbiB8IHR5cGVvZiBBTExfRklMVEVSX0lEO1xuXG5jb25zdCBGaWx0ZXJTZWN1cml0eUNhcmQ6IFJlYWN0LkZDPHsgZmlsdGVyPzogRGV2aWNlRmlsdGVyS2V5IH0+ID0gKHsgZmlsdGVyIH0pID0+IHtcbiAgICBzd2l0Y2ggKGZpbHRlcikge1xuICAgICAgICBjYXNlIERldmljZVNlY3VyaXR5VmFyaWF0aW9uLlZlcmlmaWVkOlxuICAgICAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPSdteF9GaWx0ZXJlZERldmljZUxpc3Rfc2VjdXJpdHlDYXJkJz5cbiAgICAgICAgICAgICAgICA8RGV2aWNlU2VjdXJpdHlDYXJkXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhdGlvbj17RGV2aWNlU2VjdXJpdHlWYXJpYXRpb24uVmVyaWZpZWR9XG4gICAgICAgICAgICAgICAgICAgIGhlYWRpbmc9e190KCdWZXJpZmllZCBzZXNzaW9ucycpfVxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbj17X3QoXG4gICAgICAgICAgICAgICAgICAgICAgICBgRm9yIGJlc3Qgc2VjdXJpdHksIHNpZ24gb3V0IGZyb20gYW55IHNlc3Npb25gICtcbiAgICAgICAgICAgICAgICAgICAgYCB0aGF0IHlvdSBkb24ndCByZWNvZ25pemUgb3IgdXNlIGFueW1vcmUuYCxcbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA7XG4gICAgICAgIGNhc2UgRGV2aWNlU2VjdXJpdHlWYXJpYXRpb24uVW52ZXJpZmllZDpcbiAgICAgICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT0nbXhfRmlsdGVyZWREZXZpY2VMaXN0X3NlY3VyaXR5Q2FyZCc+XG4gICAgICAgICAgICAgICAgPERldmljZVNlY3VyaXR5Q2FyZFxuICAgICAgICAgICAgICAgICAgICB2YXJpYXRpb249e0RldmljZVNlY3VyaXR5VmFyaWF0aW9uLlVudmVyaWZpZWR9XG4gICAgICAgICAgICAgICAgICAgIGhlYWRpbmc9e190KCdVbnZlcmlmaWVkIHNlc3Npb25zJyl9XG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uPXtfdChcbiAgICAgICAgICAgICAgICAgICAgICAgIGBWZXJpZnkgeW91ciBzZXNzaW9ucyBmb3IgZW5oYW5jZWQgc2VjdXJlIG1lc3NhZ2luZyBvciBzaWduIG91dGBcbiAgICAgICAgICAgICAgICAgICAgKyBgIGZyb20gdGhvc2UgeW91IGRvbid0IHJlY29nbml6ZSBvciB1c2UgYW55bW9yZS5gLFxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDtcbiAgICAgICAgY2FzZSBEZXZpY2VTZWN1cml0eVZhcmlhdGlvbi5JbmFjdGl2ZTpcbiAgICAgICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT0nbXhfRmlsdGVyZWREZXZpY2VMaXN0X3NlY3VyaXR5Q2FyZCc+XG4gICAgICAgICAgICAgICAgPERldmljZVNlY3VyaXR5Q2FyZFxuICAgICAgICAgICAgICAgICAgICB2YXJpYXRpb249e0RldmljZVNlY3VyaXR5VmFyaWF0aW9uLkluYWN0aXZlfVxuICAgICAgICAgICAgICAgICAgICBoZWFkaW5nPXtfdCgnSW5hY3RpdmUgc2Vzc2lvbnMnKX1cbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb249e190KFxuICAgICAgICAgICAgICAgICAgICAgICAgYENvbnNpZGVyIHNpZ25pbmcgb3V0IGZyb20gb2xkIHNlc3Npb25zIGAgK1xuICAgICAgICAgICAgICAgICAgICBgKCUoaW5hY3RpdmVBZ2VEYXlzKXMgZGF5cyBvciBvbGRlcikgeW91IGRvbid0IHVzZSBhbnltb3JlYCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaW5hY3RpdmVBZ2VEYXlzOiBJTkFDVElWRV9ERVZJQ0VfQUdFX0RBWVMgfSxcbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59O1xuXG5jb25zdCBnZXROb1Jlc3VsdHNNZXNzYWdlID0gKGZpbHRlcj86IERldmljZVNlY3VyaXR5VmFyaWF0aW9uKTogc3RyaW5nID0+IHtcbiAgICBzd2l0Y2ggKGZpbHRlcikge1xuICAgICAgICBjYXNlIERldmljZVNlY3VyaXR5VmFyaWF0aW9uLlZlcmlmaWVkOlxuICAgICAgICAgICAgcmV0dXJuIF90KCdObyB2ZXJpZmllZCBzZXNzaW9ucyBmb3VuZC4nKTtcbiAgICAgICAgY2FzZSBEZXZpY2VTZWN1cml0eVZhcmlhdGlvbi5VbnZlcmlmaWVkOlxuICAgICAgICAgICAgcmV0dXJuIF90KCdObyB1bnZlcmlmaWVkIHNlc3Npb25zIGZvdW5kLicpO1xuICAgICAgICBjYXNlIERldmljZVNlY3VyaXR5VmFyaWF0aW9uLkluYWN0aXZlOlxuICAgICAgICAgICAgcmV0dXJuIF90KCdObyBpbmFjdGl2ZSBzZXNzaW9ucyBmb3VuZC4nKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBfdCgnTm8gc2Vzc2lvbnMgZm91bmQuJyk7XG4gICAgfVxufTtcbmludGVyZmFjZSBOb1Jlc3VsdHNQcm9wcyB7IGZpbHRlcj86IERldmljZVNlY3VyaXR5VmFyaWF0aW9uLCBjbGVhckZpbHRlcjogKCkgPT4gdm9pZH1cbmNvbnN0IE5vUmVzdWx0czogUmVhY3QuRkM8Tm9SZXN1bHRzUHJvcHM+ID0gKHsgZmlsdGVyLCBjbGVhckZpbHRlciB9KSA9PlxuICAgIDxkaXYgY2xhc3NOYW1lPSdteF9GaWx0ZXJlZERldmljZUxpc3Rfbm9SZXN1bHRzJz5cbiAgICAgICAgeyBnZXROb1Jlc3VsdHNNZXNzYWdlKGZpbHRlcikgfVxuICAgICAgICB7XG4gICAgICAgICAgICAvKiBObyBjbGVhciBmaWx0ZXIgYnV0dG9uIHdoZW4gZmlsdGVyIGlzIGZhbHN5IChpZSAnQWxsJykgKi9cbiAgICAgICAgICAgICEhZmlsdGVyICYmXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgIDxBY2Nlc3NpYmxlQnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGtpbmQ9J2xpbmtfaW5saW5lJ1xuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtjbGVhckZpbHRlcn1cbiAgICAgICAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9J2RldmljZXMtY2xlYXItZmlsdGVyLWJ0bidcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHsgX3QoJ1Nob3cgYWxsJykgfVxuICAgICAgICAgICAgICAgIDwvQWNjZXNzaWJsZUJ1dHRvbj5cbiAgICAgICAgICAgIDwvPlxuICAgICAgICB9XG4gICAgPC9kaXY+O1xuXG5jb25zdCBEZXZpY2VMaXN0SXRlbTogUmVhY3QuRkM8e1xuICAgIGRldmljZTogRGV2aWNlV2l0aFZlcmlmaWNhdGlvbjtcbiAgICBpc0V4cGFuZGVkOiBib29sZWFuO1xuICAgIG9uRGV2aWNlRXhwYW5kVG9nZ2xlOiAoKSA9PiB2b2lkO1xufT4gPSAoe1xuICAgIGRldmljZSwgaXNFeHBhbmRlZCwgb25EZXZpY2VFeHBhbmRUb2dnbGUsXG59KSA9PiA8bGkgY2xhc3NOYW1lPSdteF9GaWx0ZXJlZERldmljZUxpc3RfbGlzdEl0ZW0nPlxuICAgIDxEZXZpY2VUaWxlXG4gICAgICAgIGRldmljZT17ZGV2aWNlfVxuICAgID5cbiAgICAgICAgPERldmljZUV4cGFuZERldGFpbHNCdXR0b25cbiAgICAgICAgICAgIGlzRXhwYW5kZWQ9e2lzRXhwYW5kZWR9XG4gICAgICAgICAgICBvbkNsaWNrPXtvbkRldmljZUV4cGFuZFRvZ2dsZX1cbiAgICAgICAgLz5cbiAgICA8L0RldmljZVRpbGU+XG4gICAgeyBpc0V4cGFuZGVkICYmIDxEZXZpY2VEZXRhaWxzIGRldmljZT17ZGV2aWNlfSAvPiB9XG48L2xpPjtcblxuLyoqXG4gKiBGaWx0ZXJlZCBsaXN0IG9mIGRldmljZXNcbiAqIFNvcnRlZCBieSBsYXRlc3QgYWN0aXZpdHkgZGVzY2VuZGluZ1xuICovXG5leHBvcnQgY29uc3QgRmlsdGVyZWREZXZpY2VMaXN0ID1cbiAgICBmb3J3YXJkUmVmKCh7XG4gICAgICAgIGRldmljZXMsXG4gICAgICAgIGZpbHRlcixcbiAgICAgICAgZXhwYW5kZWREZXZpY2VJZHMsXG4gICAgICAgIG9uRmlsdGVyQ2hhbmdlLFxuICAgICAgICBvbkRldmljZUV4cGFuZFRvZ2dsZSxcbiAgICB9OiBQcm9wcywgcmVmOiBGb3J3YXJkZWRSZWY8SFRNTERpdkVsZW1lbnQ+KSA9PiB7XG4gICAgICAgIGNvbnN0IHNvcnRlZERldmljZXMgPSBnZXRGaWx0ZXJlZFNvcnRlZERldmljZXMoZGV2aWNlcywgZmlsdGVyKTtcblxuICAgICAgICBjb25zdCBvcHRpb25zOiBGaWx0ZXJEcm9wZG93bk9wdGlvbjxEZXZpY2VGaWx0ZXJLZXk+W10gPSBbXG4gICAgICAgICAgICB7IGlkOiBBTExfRklMVEVSX0lELCBsYWJlbDogX3QoJ0FsbCcpIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6IERldmljZVNlY3VyaXR5VmFyaWF0aW9uLlZlcmlmaWVkLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBfdCgnVmVyaWZpZWQnKSxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogX3QoJ1JlYWR5IGZvciBzZWN1cmUgbWVzc2FnaW5nJyksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkOiBEZXZpY2VTZWN1cml0eVZhcmlhdGlvbi5VbnZlcmlmaWVkLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBfdCgnVW52ZXJpZmllZCcpLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBfdCgnTm90IHJlYWR5IGZvciBzZWN1cmUgbWVzc2FnaW5nJyksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkOiBEZXZpY2VTZWN1cml0eVZhcmlhdGlvbi5JbmFjdGl2ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogX3QoJ0luYWN0aXZlJyksXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IF90KFxuICAgICAgICAgICAgICAgICAgICAnSW5hY3RpdmUgZm9yICUoaW5hY3RpdmVBZ2VEYXlzKXMgZGF5cyBvciBsb25nZXInLFxuICAgICAgICAgICAgICAgICAgICB7IGluYWN0aXZlQWdlRGF5czogSU5BQ1RJVkVfREVWSUNFX0FHRV9EQVlTIH0sXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF07XG5cbiAgICAgICAgY29uc3Qgb25GaWx0ZXJPcHRpb25DaGFuZ2UgPSAoZmlsdGVySWQ6IERldmljZUZpbHRlcktleSkgPT4ge1xuICAgICAgICAgICAgb25GaWx0ZXJDaGFuZ2UoZmlsdGVySWQgPT09IEFMTF9GSUxURVJfSUQgPyB1bmRlZmluZWQgOiBmaWx0ZXJJZCBhcyBEZXZpY2VTZWN1cml0eVZhcmlhdGlvbik7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPSdteF9GaWx0ZXJlZERldmljZUxpc3QnIHJlZj17cmVmfT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdteF9GaWx0ZXJlZERldmljZUxpc3RfaGVhZGVyJz5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J214X0ZpbHRlcmVkRGV2aWNlTGlzdF9oZWFkZXJMYWJlbCc+XG4gICAgICAgICAgICAgICAgICAgIHsgX3QoJ1Nlc3Npb25zJykgfVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8RmlsdGVyRHJvcGRvd248RGV2aWNlRmlsdGVyS2V5PlxuICAgICAgICAgICAgICAgICAgICBpZD0nZGV2aWNlLWxpc3QtZmlsdGVyJ1xuICAgICAgICAgICAgICAgICAgICBsYWJlbD17X3QoJ0ZpbHRlciBkZXZpY2VzJyl9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtmaWx0ZXIgfHwgQUxMX0ZJTFRFUl9JRH1cbiAgICAgICAgICAgICAgICAgICAgb25PcHRpb25DaGFuZ2U9e29uRmlsdGVyT3B0aW9uQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zPXtvcHRpb25zfVxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZExhYmVsPXtfdCgnU2hvdycpfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHsgISFzb3J0ZWREZXZpY2VzLmxlbmd0aFxuICAgICAgICAgICAgICAgID8gPEZpbHRlclNlY3VyaXR5Q2FyZCBmaWx0ZXI9e2ZpbHRlcn0gLz5cbiAgICAgICAgICAgICAgICA6IDxOb1Jlc3VsdHMgZmlsdGVyPXtmaWx0ZXJ9IGNsZWFyRmlsdGVyPXsoKSA9PiBvbkZpbHRlckNoYW5nZSh1bmRlZmluZWQpfSAvPlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgPG9sIGNsYXNzTmFtZT0nbXhfRmlsdGVyZWREZXZpY2VMaXN0X2xpc3QnPlxuICAgICAgICAgICAgICAgIHsgc29ydGVkRGV2aWNlcy5tYXAoKGRldmljZSkgPT4gPERldmljZUxpc3RJdGVtXG4gICAgICAgICAgICAgICAgICAgIGtleT17ZGV2aWNlLmRldmljZV9pZH1cbiAgICAgICAgICAgICAgICAgICAgZGV2aWNlPXtkZXZpY2V9XG4gICAgICAgICAgICAgICAgICAgIGlzRXhwYW5kZWQ9e2V4cGFuZGVkRGV2aWNlSWRzLmluY2x1ZGVzKGRldmljZS5kZXZpY2VfaWQpfVxuICAgICAgICAgICAgICAgICAgICBvbkRldmljZUV4cGFuZFRvZ2dsZT17KCkgPT4gb25EZXZpY2VFeHBhbmRUb2dnbGUoZGV2aWNlLmRldmljZV9pZCl9XG4gICAgICAgICAgICAgICAgLz4sXG4gICAgICAgICAgICAgICAgKSB9XG4gICAgICAgICAgICA8L29sPlxuICAgICAgICA8L2Rpdj47XG4gICAgfSk7XG5cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBZ0JBOztBQUVBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUlBOzs7Ozs7QUE3QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBNkJBO0FBQ0EsTUFBTUEsMkJBQTJCLEdBQUcsQ0FBQ0MsSUFBRCxFQUErQkMsS0FBL0IsS0FDaEMsQ0FBQ0EsS0FBSyxDQUFDQyxZQUFOLElBQXNCLENBQXZCLEtBQTZCRixJQUFJLENBQUNFLFlBQUwsSUFBcUIsQ0FBbEQsQ0FESjs7QUFHQSxNQUFNQyx3QkFBd0IsR0FBRyxDQUFDQyxPQUFELEVBQTZCQyxNQUE3QixLQUM3QixJQUFBQyw2Q0FBQSxFQUFzQ0MsTUFBTSxDQUFDQyxNQUFQLENBQWNKLE9BQWQsQ0FBdEMsRUFBOERDLE1BQU0sR0FBRyxDQUFDQSxNQUFELENBQUgsR0FBYyxFQUFsRixFQUNLSSxJQURMLENBQ1VWLDJCQURWLENBREo7O0FBSUEsTUFBTVcsYUFBYSxHQUFHLEtBQXRCOztBQUdBLE1BQU1DLGtCQUEwRCxHQUFHLFFBQWdCO0VBQUEsSUFBZjtJQUFFTjtFQUFGLENBQWU7O0VBQy9FLFFBQVFBLE1BQVI7SUFDSSxLQUFLTyw4QkFBQSxDQUF3QkMsUUFB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