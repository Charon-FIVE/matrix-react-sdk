"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireDefault(require("react"));

var _roomState = require("matrix-js-sdk/src/models/room-state");

var _Modal = _interopRequireDefault(require("../../../Modal"));

var _languageHandler = require("../../../languageHandler");

var _RoomUpgradeDialog = _interopRequireDefault(require("../dialogs/RoomUpgradeDialog"));

var _AccessibleButton = _interopRequireDefault(require("../elements/AccessibleButton"));

var _MatrixClientContext = _interopRequireDefault(require("../../../contexts/MatrixClientContext"));

/*
Copyright 2018-2021 The Matrix.org Foundation C.I.C.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
class RoomUpgradeWarningBar extends _react.default.PureComponent {
  constructor(props, context) {
    super(props, context);
    (0, _defineProperty2.default)(this, "context", void 0);
    (0, _defineProperty2.default)(this, "onStateEvents", event => {
      if (!this.props.room || event.getRoomId() !== this.props.room.roomId) {
        return;
      }

      if (event.getType() !== "m.room.tombstone") return;
      const tombstone = this.props.room.currentState.getStateEvents("m.room.tombstone", "");
      this.setState({
        upgraded: tombstone && tombstone.getContent().replacement_room
      });
    });
    (0, _defineProperty2.default)(this, "onUpgradeClick", () => {
      _Modal.default.createDialog(_RoomUpgradeDialog.default, {
        room: this.props.room
      });
    });

    const _tombstone = this.props.room.currentState.getStateEvents("m.room.tombstone", "");

    this.state = {
      upgraded: _tombstone?.getContent().replacement_room
    };
  }

  componentDidMount() {
    this.context.on(_roomState.RoomStateEvent.Events, this.onStateEvents);
  }

  componentWillUnmount() {
    this.context.removeListener(_roomState.RoomStateEvent.Events, this.onStateEvents);
  }

  render() {
    let doUpgradeWarnings = /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement("div", {
      className: "mx_RoomUpgradeWarningBar_body"
    }, /*#__PURE__*/_react.default.createElement("p", null, (0, _languageHandler._t)("Upgrading this room will shut down the current instance of the room and create " + "an upgraded room with the same name.")), /*#__PURE__*/_react.default.createElement("p", null, (0, _languageHandler._t)("<b>Warning</b>: Upgrading a room will <i>not automatically migrate room members " + "to the new version of the room.</i> We'll post a link to the new room in the old " + "version of the room - room members will have to click this link to join the new room.", {}, {
      "b": sub => /*#__PURE__*/_react.default.createElement("b", null, sub),
      "i": sub => /*#__PURE__*/_react.default.createElement("i", null, sub)
    }))), /*#__PURE__*/_react.default.createElement("p", {
      className: "mx_RoomUpgradeWarningBar_upgradelink"
    }, /*#__PURE__*/_react.default.createElement(_AccessibleButton.default, {
      onClick: this.onUpgradeClick
    }, (0, _languageHandler._t)("Upgrade this room to the recommended room version"))));

    if (this.state.upgraded) {
      doUpgradeWarnings = /*#__PURE__*/_react.default.createElement("div", {
        className: "mx_RoomUpgradeWarningBar_body"
      }, /*#__PURE__*/_react.default.createElement("p", null, (0, _languageHandler._t)("This room has already been upgraded.")));
    }

    return /*#__PURE__*/_react.default.createElement("div", {
      className: "mx_RoomUpgradeWarningBar"
    }, /*#__PURE__*/_react.default.createElement("div", {
      className: "mx_RoomUpgradeWarningBar_wrapped"
    }, /*#__PURE__*/_react.default.createElement("div", {
      className: "mx_RoomUpgradeWarningBar_header"
    }, (0, _languageHandler._t)("This room is running room version <roomVersion />, which this homeserver has " + "marked as <i>unstable</i>.", {}, {
      "roomVersion": () => /*#__PURE__*/_react.default.createElement("code", null, this.props.room.getVersion()),
      "i": sub => /*#__PURE__*/_react.default.createElement("i", null, sub)
    })), doUpgradeWarnings, /*#__PURE__*/_react.default.createElement("div", {
      className: "mx_RoomUpgradeWarningBar_small"
    }, (0, _languageHandler._t)("Only room administrators will see this warning"))));
  }

}

exports.default = RoomUpgradeWarningBar;
(0, _defineProperty2.default)(RoomUpgradeWarningBar, "contextType", _MatrixClientContext.default);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSb29tVXBncmFkZVdhcm5pbmdCYXIiLCJSZWFjdCIsIlB1cmVDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwiY29udGV4dCIsImV2ZW50Iiwicm9vbSIsImdldFJvb21JZCIsInJvb21JZCIsImdldFR5cGUiLCJ0b21ic3RvbmUiLCJjdXJyZW50U3RhdGUiLCJnZXRTdGF0ZUV2ZW50cyIsInNldFN0YXRlIiwidXBncmFkZWQiLCJnZXRDb250ZW50IiwicmVwbGFjZW1lbnRfcm9vbSIsIk1vZGFsIiwiY3JlYXRlRGlhbG9nIiwiUm9vbVVwZ3JhZGVEaWFsb2ciLCJzdGF0ZSIsImNvbXBvbmVudERpZE1vdW50Iiwib24iLCJSb29tU3RhdGVFdmVudCIsIkV2ZW50cyIsIm9uU3RhdGVFdmVudHMiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsInJlbW92ZUxpc3RlbmVyIiwicmVuZGVyIiwiZG9VcGdyYWRlV2FybmluZ3MiLCJfdCIsInN1YiIsIm9uVXBncmFkZUNsaWNrIiwiZ2V0VmVyc2lvbiIsIk1hdHJpeENsaWVudENvbnRleHQiXSwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy92aWV3cy9yb29tcy9Sb29tVXBncmFkZVdhcm5pbmdCYXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5Db3B5cmlnaHQgMjAxOC0yMDIxIFRoZSBNYXRyaXgub3JnIEZvdW5kYXRpb24gQy5JLkMuXG5cbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG55b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG5Zb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcblxuICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuXG5Vbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG5kaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG5XSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cblNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbmxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IE1hdHJpeEV2ZW50IH0gZnJvbSAnbWF0cml4LWpzLXNkay9zcmMvbW9kZWxzL2V2ZW50JztcbmltcG9ydCB7IFJvb20gfSBmcm9tICdtYXRyaXgtanMtc2RrL3NyYy9tb2RlbHMvcm9vbSc7XG5pbXBvcnQgeyBSb29tU3RhdGVFdmVudCB9IGZyb20gJ21hdHJpeC1qcy1zZGsvc3JjL21vZGVscy9yb29tLXN0YXRlJztcblxuaW1wb3J0IE1vZGFsIGZyb20gJy4uLy4uLy4uL01vZGFsJztcbmltcG9ydCB7IF90IH0gZnJvbSAnLi4vLi4vLi4vbGFuZ3VhZ2VIYW5kbGVyJztcbmltcG9ydCBSb29tVXBncmFkZURpYWxvZyBmcm9tICcuLi9kaWFsb2dzL1Jvb21VcGdyYWRlRGlhbG9nJztcbmltcG9ydCBBY2Nlc3NpYmxlQnV0dG9uIGZyb20gJy4uL2VsZW1lbnRzL0FjY2Vzc2libGVCdXR0b24nO1xuaW1wb3J0IE1hdHJpeENsaWVudENvbnRleHQgZnJvbSBcIi4uLy4uLy4uL2NvbnRleHRzL01hdHJpeENsaWVudENvbnRleHRcIjtcblxuaW50ZXJmYWNlIElQcm9wcyB7XG4gICAgcm9vbTogUm9vbTtcbn1cblxuaW50ZXJmYWNlIElTdGF0ZSB7XG4gICAgdXBncmFkZWQ/OiBib29sZWFuO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSb29tVXBncmFkZVdhcm5pbmdCYXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PElQcm9wcywgSVN0YXRlPiB7XG4gICAgc3RhdGljIGNvbnRleHRUeXBlID0gTWF0cml4Q2xpZW50Q29udGV4dDtcbiAgICBwdWJsaWMgY29udGV4dCE6IFJlYWN0LkNvbnRleHRUeXBlPHR5cGVvZiBNYXRyaXhDbGllbnRDb250ZXh0PjtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzLCBjb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKHByb3BzLCBjb250ZXh0KTtcblxuICAgICAgICBjb25zdCB0b21ic3RvbmUgPSB0aGlzLnByb3BzLnJvb20uY3VycmVudFN0YXRlLmdldFN0YXRlRXZlbnRzKFwibS5yb29tLnRvbWJzdG9uZVwiLCBcIlwiKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHVwZ3JhZGVkOiB0b21ic3RvbmU/LmdldENvbnRlbnQoKS5yZXBsYWNlbWVudF9yb29tLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHB1YmxpYyBjb21wb25lbnREaWRNb3VudCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jb250ZXh0Lm9uKFJvb21TdGF0ZUV2ZW50LkV2ZW50cywgdGhpcy5vblN0YXRlRXZlbnRzKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY29tcG9uZW50V2lsbFVubW91bnQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY29udGV4dC5yZW1vdmVMaXN0ZW5lcihSb29tU3RhdGVFdmVudC5FdmVudHMsIHRoaXMub25TdGF0ZUV2ZW50cyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblN0YXRlRXZlbnRzID0gKGV2ZW50OiBNYXRyaXhFdmVudCk6IHZvaWQgPT4ge1xuICAgICAgICBpZiAoIXRoaXMucHJvcHMucm9vbSB8fCBldmVudC5nZXRSb29tSWQoKSAhPT0gdGhpcy5wcm9wcy5yb29tLnJvb21JZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50LmdldFR5cGUoKSAhPT0gXCJtLnJvb20udG9tYnN0b25lXCIpIHJldHVybjtcblxuICAgICAgICBjb25zdCB0b21ic3RvbmUgPSB0aGlzLnByb3BzLnJvb20uY3VycmVudFN0YXRlLmdldFN0YXRlRXZlbnRzKFwibS5yb29tLnRvbWJzdG9uZVwiLCBcIlwiKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHVwZ3JhZGVkOiB0b21ic3RvbmUgJiYgdG9tYnN0b25lLmdldENvbnRlbnQoKS5yZXBsYWNlbWVudF9yb29tIH0pO1xuICAgIH07XG5cbiAgICBwcml2YXRlIG9uVXBncmFkZUNsaWNrID0gKCk6IHZvaWQgPT4ge1xuICAgICAgICBNb2RhbC5jcmVhdGVEaWFsb2coUm9vbVVwZ3JhZGVEaWFsb2csIHsgcm9vbTogdGhpcy5wcm9wcy5yb29tIH0pO1xuICAgIH07XG5cbiAgICBwdWJsaWMgcmVuZGVyKCk6IEpTWC5FbGVtZW50IHtcbiAgICAgICAgbGV0IGRvVXBncmFkZVdhcm5pbmdzID0gKFxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14X1Jvb21VcGdyYWRlV2FybmluZ0Jhcl9ib2R5XCI+XG4gICAgICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgICAgICAgeyBfdChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlVwZ3JhZGluZyB0aGlzIHJvb20gd2lsbCBzaHV0IGRvd24gdGhlIGN1cnJlbnQgaW5zdGFuY2Ugb2YgdGhlIHJvb20gYW5kIGNyZWF0ZSBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhbiB1cGdyYWRlZCByb29tIHdpdGggdGhlIHNhbWUgbmFtZS5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICkgfVxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgICAgICAgeyBfdChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjxiPldhcm5pbmc8L2I+OiBVcGdyYWRpbmcgYSByb29tIHdpbGwgPGk+bm90IGF1dG9tYXRpY2FsbHkgbWlncmF0ZSByb29tIG1lbWJlcnMgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidG8gdGhlIG5ldyB2ZXJzaW9uIG9mIHRoZSByb29tLjwvaT4gV2UnbGwgcG9zdCBhIGxpbmsgdG8gdGhlIG5ldyByb29tIGluIHRoZSBvbGQgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidmVyc2lvbiBvZiB0aGUgcm9vbSAtIHJvb20gbWVtYmVycyB3aWxsIGhhdmUgdG8gY2xpY2sgdGhpcyBsaW5rIHRvIGpvaW4gdGhlIG5ldyByb29tLlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYlwiOiAoc3ViKSA9PiA8Yj57IHN1YiB9PC9iPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpXCI6IChzdWIpID0+IDxpPnsgc3ViIH08L2k+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICApIH1cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm14X1Jvb21VcGdyYWRlV2FybmluZ0Jhcl91cGdyYWRlbGlua1wiPlxuICAgICAgICAgICAgICAgICAgICA8QWNjZXNzaWJsZUJ1dHRvbiBvbkNsaWNrPXt0aGlzLm9uVXBncmFkZUNsaWNrfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsgX3QoXCJVcGdyYWRlIHRoaXMgcm9vbSB0byB0aGUgcmVjb21tZW5kZWQgcm9vbSB2ZXJzaW9uXCIpIH1cbiAgICAgICAgICAgICAgICAgICAgPC9BY2Nlc3NpYmxlQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnVwZ3JhZGVkKSB7XG4gICAgICAgICAgICBkb1VwZ3JhZGVXYXJuaW5ncyA9IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14X1Jvb21VcGdyYWRlV2FybmluZ0Jhcl9ib2R5XCI+XG4gICAgICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgICAgICAgeyBfdChcIlRoaXMgcm9vbSBoYXMgYWxyZWFkeSBiZWVuIHVwZ3JhZGVkLlwiKSB9XG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteF9Sb29tVXBncmFkZVdhcm5pbmdCYXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14X1Jvb21VcGdyYWRlV2FybmluZ0Jhcl93cmFwcGVkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXhfUm9vbVVwZ3JhZGVXYXJuaW5nQmFyX2hlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgeyBfdChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlRoaXMgcm9vbSBpcyBydW5uaW5nIHJvb20gdmVyc2lvbiA8cm9vbVZlcnNpb24gLz4sIHdoaWNoIHRoaXMgaG9tZXNlcnZlciBoYXMgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibWFya2VkIGFzIDxpPnVuc3RhYmxlPC9pPi5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicm9vbVZlcnNpb25cIjogKCkgPT4gPGNvZGU+eyB0aGlzLnByb3BzLnJvb20uZ2V0VmVyc2lvbigpIH08L2NvZGU+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImlcIjogKHN1YikgPT4gPGk+eyBzdWIgfTwvaT4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICkgfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgeyBkb1VwZ3JhZGVXYXJuaW5ncyB9XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXhfUm9vbVVwZ3JhZGVXYXJuaW5nQmFyX3NtYWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7IF90KFwiT25seSByb29tIGFkbWluaXN0cmF0b3JzIHdpbGwgc2VlIHRoaXMgd2FybmluZ1wiKSB9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQWdCQTs7QUFHQTs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUF6QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBcUJlLE1BQU1BLHFCQUFOLFNBQW9DQyxjQUFBLENBQU1DLGFBQTFDLENBQXdFO0VBSW5GQyxXQUFXLENBQUNDLEtBQUQsRUFBUUMsT0FBUixFQUFpQjtJQUN4QixNQUFNRCxLQUFOLEVBQWFDLE9BQWI7SUFEd0I7SUFBQSxxREFpQkhDLEtBQUQsSUFBOEI7TUFDbEQsSUFBSSxDQUFDLEtBQUtGLEtBQUwsQ0FBV0csSUFBWixJQUFvQkQsS0FBSyxDQUFDRSxTQUFOLE9BQXNCLEtBQUtKLEtBQUwsQ0FB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