"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireDefault(require("react"));

var _reactTransitionGroup = require("react-transition-group");

var _BreadcrumbsStore = require("../../../stores/BreadcrumbsStore");

var _DecoratedRoomAvatar = _interopRequireDefault(require("../avatars/DecoratedRoomAvatar"));

var _languageHandler = require("../../../languageHandler");

var _dispatcher = _interopRequireDefault(require("../../../dispatcher/dispatcher"));

var _AsyncStore = require("../../../stores/AsyncStore");

var _RovingTabIndex = require("../../../accessibility/RovingTabIndex");

var _Toolbar = _interopRequireDefault(require("../../../accessibility/Toolbar"));

var _actions = require("../../../dispatcher/actions");

var _AccessibleTooltipButton = _interopRequireDefault(require("../elements/AccessibleTooltipButton"));

/*
Copyright 2020 The Matrix.org Foundation C.I.C.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const RoomBreadcrumbTile = _ref => {
  let {
    room,
    onClick
  } = _ref;
  const [onFocus, isActive, ref] = (0, _RovingTabIndex.useRovingTabIndex)();
  return /*#__PURE__*/_react.default.createElement(_AccessibleTooltipButton.default, {
    className: "mx_RoomBreadcrumbs_crumb",
    onClick: onClick,
    "aria-label": (0, _languageHandler._t)("Room %(name)s", {
      name: room.name
    }),
    title: room.name,
    tooltipClassName: "mx_RoomBreadcrumbs_Tooltip",
    onFocus: onFocus,
    inputRef: ref,
    tabIndex: isActive ? 0 : -1
  }, /*#__PURE__*/_react.default.createElement(_DecoratedRoomAvatar.default, {
    room: room,
    avatarSize: 32,
    displayBadge: true,
    forceCount: true,
    tooltipProps: {
      tabIndex: isActive ? 0 : -1
    }
  }));
};

class RoomBreadcrumbs extends _react.default.PureComponent {
  constructor(props) {
    super(props);
    (0, _defineProperty2.default)(this, "isMounted", true);
    (0, _defineProperty2.default)(this, "onBreadcrumbsUpdate", () => {
      if (!this.isMounted) return; // We need to trick the CSSTransition component into updating, which means we need to
      // tell it to not animate, then to animate a moment later. This causes two updates
      // which means two renders. The skipFirst change is so that our don't-animate state
      // doesn't show the breadcrumb we're about to reveal as it causes a visual jump/jerk.
      // The second update, on the next available tick, causes the "enter" animation to start
      // again and this time we want to show the newest breadcrumb because it'll be hidden
      // off screen for the animation.

      this.setState({
        doAnimation: false,
        skipFirst: true
      });
      setTimeout(() => this.setState({
        doAnimation: true,
        skipFirst: false
      }), 0);
    });
    (0, _defineProperty2.default)(this, "viewRoom", function (room, index) {
      let viaKeyboard = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;

      _dispatcher.default.dispatch({
        action: _actions.Action.ViewRoom,
        room_id: room.roomId,
        metricsTrigger: "WebHorizontalBreadcrumbs",
        metricsViaKeyboard: viaKeyboard
      });
    });
    this.state = {
      doAnimation: true,
      // technically we want animation on mount, but it won't be perfect
      skipFirst: false // render the thing, as boring as it is

    };

    _BreadcrumbsStore.BreadcrumbsStore.instance.on(_AsyncStore.UPDATE_EVENT, this.onBreadcrumbsUpdate);
  }

  componentWillUnmount() {
    this.isMounted = false;

    _BreadcrumbsStore.BreadcrumbsStore.instance.off(_AsyncStore.UPDATE_EVENT, this.onBreadcrumbsUpdate);
  }

  render() {
    const tiles = _BreadcrumbsStore.BreadcrumbsStore.instance.rooms.map((r, i) => /*#__PURE__*/_react.default.createElement(RoomBreadcrumbTile, {
      key: r.roomId,
      room: r,
      onClick: ev => this.viewRoom(r, i, ev.type !== "click")
    }));

    if (tiles.length > 0) {
      // NOTE: The CSSTransition timeout MUST match the timeout in our CSS!
      return /*#__PURE__*/_react.default.createElement(_reactTransitionGroup.CSSTransition, {
        appear: true,
        in: this.state.doAnimation,
        timeout: 640,
        classNames: "mx_RoomBreadcrumbs"
      }, /*#__PURE__*/_react.default.createElement(_Toolbar.default, {
        className: "mx_RoomBreadcrumbs",
        "aria-label": (0, _languageHandler._t)("Recently visited rooms")
      }, tiles.slice(this.state.skipFirst ? 1 : 0)));
    } else {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "mx_RoomBreadcrumbs"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "mx_RoomBreadcrumbs_placeholder"
      }, (0, _languageHandler._t)("No recently visited rooms")));
    }
  }

}

exports.default = RoomBreadcrumbs;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSb29tQnJlYWRjcnVtYlRpbGUiLCJyb29tIiwib25DbGljayIsIm9uRm9jdXMiLCJpc0FjdGl2ZSIsInJlZiIsInVzZVJvdmluZ1RhYkluZGV4IiwiX3QiLCJuYW1lIiwidGFiSW5kZXgiLCJSb29tQnJlYWRjcnVtYnMiLCJSZWFjdCIsIlB1cmVDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwiaXNNb3VudGVkIiwic2V0U3RhdGUiLCJkb0FuaW1hdGlvbiIsInNraXBGaXJzdCIsInNldFRpbWVvdXQiLCJpbmRleCIsInZpYUtleWJvYXJkIiwiZGVmYXVsdERpc3BhdGNoZXIiLCJkaXNwYXRjaCIsImFjdGlvbiIsIkFjdGlvbiIsIlZpZXdSb29tIiwicm9vbV9pZCIsInJvb21JZCIsIm1ldHJpY3NUcmlnZ2VyIiwibWV0cmljc1ZpYUtleWJvYXJkIiwic3RhdGUiLCJCcmVhZGNydW1ic1N0b3JlIiwiaW5zdGFuY2UiLCJvbiIsIlVQREFURV9FVkVOVCIsIm9uQnJlYWRjcnVtYnNVcGRhdGUiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsIm9mZiIsInJlbmRlciIsInRpbGVzIiwicm9vbXMiLCJtYXAiLCJyIiwiaSIsImV2Iiwidmlld1Jvb20iLCJ0eXBlIiwibGVuZ3RoIiwic2xpY2UiXSwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy92aWV3cy9yb29tcy9Sb29tQnJlYWRjcnVtYnMudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5Db3B5cmlnaHQgMjAyMCBUaGUgTWF0cml4Lm9yZyBGb3VuZGF0aW9uIEMuSS5DLlxuXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xueW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cbiAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG5TZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG5saW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFJvb20gfSBmcm9tIFwibWF0cml4LWpzLXNkay9zcmMvbW9kZWxzL3Jvb21cIjtcbmltcG9ydCB7IENTU1RyYW5zaXRpb24gfSBmcm9tIFwicmVhY3QtdHJhbnNpdGlvbi1ncm91cFwiO1xuXG5pbXBvcnQgeyBCcmVhZGNydW1ic1N0b3JlIH0gZnJvbSBcIi4uLy4uLy4uL3N0b3Jlcy9CcmVhZGNydW1ic1N0b3JlXCI7XG5pbXBvcnQgRGVjb3JhdGVkUm9vbUF2YXRhciBmcm9tIFwiLi4vYXZhdGFycy9EZWNvcmF0ZWRSb29tQXZhdGFyXCI7XG5pbXBvcnQgeyBfdCB9IGZyb20gXCIuLi8uLi8uLi9sYW5ndWFnZUhhbmRsZXJcIjtcbmltcG9ydCBkZWZhdWx0RGlzcGF0Y2hlciBmcm9tIFwiLi4vLi4vLi4vZGlzcGF0Y2hlci9kaXNwYXRjaGVyXCI7XG5pbXBvcnQgeyBVUERBVEVfRVZFTlQgfSBmcm9tIFwiLi4vLi4vLi4vc3RvcmVzL0FzeW5jU3RvcmVcIjtcbmltcG9ydCB7IHVzZVJvdmluZ1RhYkluZGV4IH0gZnJvbSBcIi4uLy4uLy4uL2FjY2Vzc2liaWxpdHkvUm92aW5nVGFiSW5kZXhcIjtcbmltcG9ydCBUb29sYmFyIGZyb20gXCIuLi8uLi8uLi9hY2Nlc3NpYmlsaXR5L1Rvb2xiYXJcIjtcbmltcG9ydCB7IEFjdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9kaXNwYXRjaGVyL2FjdGlvbnNcIjtcbmltcG9ydCBBY2Nlc3NpYmxlVG9vbHRpcEJ1dHRvbiBmcm9tIFwiLi4vZWxlbWVudHMvQWNjZXNzaWJsZVRvb2x0aXBCdXR0b25cIjtcbmltcG9ydCB7IFZpZXdSb29tUGF5bG9hZCB9IGZyb20gXCIuLi8uLi8uLi9kaXNwYXRjaGVyL3BheWxvYWRzL1ZpZXdSb29tUGF5bG9hZFwiO1xuaW1wb3J0IHsgQnV0dG9uRXZlbnQgfSBmcm9tIFwiLi4vZWxlbWVudHMvQWNjZXNzaWJsZUJ1dHRvblwiO1xuXG5pbnRlcmZhY2UgSVByb3BzIHtcbn1cblxuaW50ZXJmYWNlIElTdGF0ZSB7XG4gICAgLy8gQm90aCBvZiB0aGVzZSBjb250cm9sIHRoZSBhbmltYXRpb24gZm9yIHRoZSBicmVhZGNydW1icy4gRm9yIGRldGFpbHMgb24gdGhlXG4gICAgLy8gYWN0dWFsIGFuaW1hdGlvbiwgc2VlIHRoZSBDU1MuXG4gICAgLy9cbiAgICAvLyBkb0FuaW1hdGlvbiBpcyB0byBsaWUgdG8gdGhlIENTU1RyYW5zaXRpb24gY29tcG9uZW50IChzZWUgb25CcmVhZGNydW1ic1VwZGF0ZVxuICAgIC8vIGZvciBpbmZvKS4gc2tpcEZpcnN0IGlzIHVzZWQgdG8gdHJ5IGFuZCByZWR1Y2UgamVya3kgYW5pbWF0aW9uIC0gYWxzbyBzZWUgdGhlXG4gICAgLy8gYnJlYWRjcnVtYiB1cGRhdGUgZnVuY3Rpb24gZm9yIGluZm8gb24gdGhhdC5cbiAgICBkb0FuaW1hdGlvbjogYm9vbGVhbjtcbiAgICBza2lwRmlyc3Q6IGJvb2xlYW47XG59XG5cbmNvbnN0IFJvb21CcmVhZGNydW1iVGlsZSA9ICh7IHJvb20sIG9uQ2xpY2sgfTogeyByb29tOiBSb29tLCBvbkNsaWNrOiAoZXY6IEJ1dHRvbkV2ZW50KSA9PiB2b2lkIH0pID0+IHtcbiAgICBjb25zdCBbb25Gb2N1cywgaXNBY3RpdmUsIHJlZl0gPSB1c2VSb3ZpbmdUYWJJbmRleCgpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPEFjY2Vzc2libGVUb29sdGlwQnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJteF9Sb29tQnJlYWRjcnVtYnNfY3J1bWJcIlxuICAgICAgICAgICAgb25DbGljaz17b25DbGlja31cbiAgICAgICAgICAgIGFyaWEtbGFiZWw9e190KFwiUm9vbSAlKG5hbWUpc1wiLCB7IG5hbWU6IHJvb20ubmFtZSB9KX1cbiAgICAgICAgICAgIHRpdGxlPXtyb29tLm5hbWV9XG4gICAgICAgICAgICB0b29sdGlwQ2xhc3NOYW1lPVwibXhfUm9vbUJyZWFkY3J1bWJzX1Rvb2x0aXBcIlxuICAgICAgICAgICAgb25Gb2N1cz17b25Gb2N1c31cbiAgICAgICAgICAgIGlucHV0UmVmPXtyZWZ9XG4gICAgICAgICAgICB0YWJJbmRleD17aXNBY3RpdmUgPyAwIDogLTF9XG4gICAgICAgID5cbiAgICAgICAgICAgIDxEZWNvcmF0ZWRSb29tQXZhdGFyXG4gICAgICAgICAgICAgICAgcm9vbT17cm9vbX1cbiAgICAgICAgICAgICAgICBhdmF0YXJTaXplPXszMn1cbiAgICAgICAgICAgICAgICBkaXNwbGF5QmFkZ2U9e3RydWV9XG4gICAgICAgICAgICAgICAgZm9yY2VDb3VudD17dHJ1ZX1cbiAgICAgICAgICAgICAgICB0b29sdGlwUHJvcHM9e3sgdGFiSW5kZXg6IGlzQWN0aXZlID8gMCA6IC0xIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICA8L0FjY2Vzc2libGVUb29sdGlwQnV0dG9uPlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSb29tQnJlYWRjcnVtYnMgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PElQcm9wcywgSVN0YXRlPiB7XG4gICAgcHJpdmF0ZSBpc01vdW50ZWQgPSB0cnVlO1xuXG4gICAgY29uc3RydWN0b3IocHJvcHM6IElQcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG5cbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGRvQW5pbWF0aW9uOiB0cnVlLCAvLyB0ZWNobmljYWxseSB3ZSB3YW50IGFuaW1hdGlvbiBvbiBtb3VudCwgYnV0IGl0IHdvbid0IGJlIHBlcmZlY3RcbiAgICAgICAgICAgIHNraXBGaXJzdDogZmFsc2UsIC8vIHJlbmRlciB0aGUgdGhpbmcsIGFzIGJvcmluZyBhcyBpdCBpc1xuICAgICAgICB9O1xuXG4gICAgICAgIEJyZWFkY3J1bWJzU3RvcmUuaW5zdGFuY2Uub24oVVBEQVRFX0VWRU5ULCB0aGlzLm9uQnJlYWRjcnVtYnNVcGRhdGUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgdGhpcy5pc01vdW50ZWQgPSBmYWxzZTtcbiAgICAgICAgQnJlYWRjcnVtYnNTdG9yZS5pbnN0YW5jZS5vZmYoVVBEQVRFX0VWRU5ULCB0aGlzLm9uQnJlYWRjcnVtYnNVcGRhdGUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25CcmVhZGNydW1ic1VwZGF0ZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLmlzTW91bnRlZCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIFdlIG5lZWQgdG8gdHJpY2sgdGhlIENTU1RyYW5zaXRpb24gY29tcG9uZW50IGludG8gdXBkYXRpbmcsIHdoaWNoIG1lYW5zIHdlIG5lZWQgdG9cbiAgICAgICAgLy8gdGVsbCBpdCB0byBub3QgYW5pbWF0ZSwgdGhlbiB0byBhbmltYXRlIGEgbW9tZW50IGxhdGVyLiBUaGlzIGNhdXNlcyB0d28gdXBkYXRlc1xuICAgICAgICAvLyB3aGljaCBtZWFucyB0d28gcmVuZGVycy4gVGhlIHNraXBGaXJzdCBjaGFuZ2UgaXMgc28gdGhhdCBvdXIgZG9uJ3QtYW5pbWF0ZSBzdGF0ZVxuICAgICAgICAvLyBkb2Vzbid0IHNob3cgdGhlIGJyZWFkY3J1bWIgd2UncmUgYWJvdXQgdG8gcmV2ZWFsIGFzIGl0IGNhdXNlcyBhIHZpc3VhbCBqdW1wL2plcmsuXG4gICAgICAgIC8vIFRoZSBzZWNvbmQgdXBkYXRlLCBvbiB0aGUgbmV4dCBhdmFpbGFibGUgdGljaywgY2F1c2VzIHRoZSBcImVudGVyXCIgYW5pbWF0aW9uIHRvIHN0YXJ0XG4gICAgICAgIC8vIGFnYWluIGFuZCB0aGlzIHRpbWUgd2Ugd2FudCB0byBzaG93IHRoZSBuZXdlc3QgYnJlYWRjcnVtYiBiZWNhdXNlIGl0J2xsIGJlIGhpZGRlblxuICAgICAgICAvLyBvZmYgc2NyZWVuIGZvciB0aGUgYW5pbWF0aW9uLlxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgZG9BbmltYXRpb246IGZhbHNlLCBza2lwRmlyc3Q6IHRydWUgfSk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5zZXRTdGF0ZSh7IGRvQW5pbWF0aW9uOiB0cnVlLCBza2lwRmlyc3Q6IGZhbHNlIH0pLCAwKTtcbiAgICB9O1xuXG4gICAgcHJpdmF0ZSB2aWV3Um9vbSA9IChyb29tOiBSb29tLCBpbmRleDogbnVtYmVyLCB2aWFLZXlib2FyZCA9IGZhbHNlKSA9PiB7XG4gICAgICAgIGRlZmF1bHREaXNwYXRjaGVyLmRpc3BhdGNoPFZpZXdSb29tUGF5bG9hZD4oe1xuICAgICAgICAgICAgYWN0aW9uOiBBY3Rpb24uVmlld1Jvb20sXG4gICAgICAgICAgICByb29tX2lkOiByb29tLnJvb21JZCxcbiAgICAgICAgICAgIG1ldHJpY3NUcmlnZ2VyOiBcIldlYkhvcml6b250YWxCcmVhZGNydW1ic1wiLFxuICAgICAgICAgICAgbWV0cmljc1ZpYUtleWJvYXJkOiB2aWFLZXlib2FyZCxcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHB1YmxpYyByZW5kZXIoKTogUmVhY3QuUmVhY3RFbGVtZW50IHtcbiAgICAgICAgY29uc3QgdGlsZXMgPSBCcmVhZGNydW1ic1N0b3JlLmluc3RhbmNlLnJvb21zLm1hcCgociwgaSkgPT4gKFxuICAgICAgICAgICAgPFJvb21CcmVhZGNydW1iVGlsZVxuICAgICAgICAgICAgICAgIGtleT17ci5yb29tSWR9XG4gICAgICAgICAgICAgICAgcm9vbT17cn1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZXY6IEJ1dHRvbkV2ZW50KSA9PiB0aGlzLnZpZXdSb29tKHIsIGksIGV2LnR5cGUgIT09IFwiY2xpY2tcIil9XG4gICAgICAgICAgICAvPlxuICAgICAgICApKTtcblxuICAgICAgICBpZiAodGlsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gTk9URTogVGhlIENTU1RyYW5zaXRpb24gdGltZW91dCBNVVNUIG1hdGNoIHRoZSB0aW1lb3V0IGluIG91ciBDU1MhXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxDU1NUcmFuc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgIGFwcGVhcj17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgaW49e3RoaXMuc3RhdGUuZG9BbmltYXRpb259XG4gICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ9ezY0MH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lcz0nbXhfUm9vbUJyZWFkY3J1bWJzJ1xuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPFRvb2xiYXIgY2xhc3NOYW1lPSdteF9Sb29tQnJlYWRjcnVtYnMnIGFyaWEtbGFiZWw9e190KFwiUmVjZW50bHkgdmlzaXRlZCByb29tc1wiKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICB7IHRpbGVzLnNsaWNlKHRoaXMuc3RhdGUuc2tpcEZpcnN0ID8gMSA6IDApIH1cbiAgICAgICAgICAgICAgICAgICAgPC9Ub29sYmFyPlxuICAgICAgICAgICAgICAgIDwvQ1NTVHJhbnNpdGlvbj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdteF9Sb29tQnJlYWRjcnVtYnMnPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14X1Jvb21CcmVhZGNydW1ic19wbGFjZWhvbGRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgeyBfdChcIk5vIHJlY2VudGx5IHZpc2l0ZWQgcm9vbXNcIikgfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBZ0JBOztBQUVBOztBQUVBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQTVCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFnQ0EsTUFBTUEsa0JBQWtCLEdBQUcsUUFBMkU7RUFBQSxJQUExRTtJQUFFQyxJQUFGO0lBQVFDO0VBQVIsQ0FBMEU7RUFDbEcsTUFBTSxDQUFDQyxPQUFELEVBQVVDLFFBQVYsRUFBb0JDLEdBQXBCLElBQTJCLElBQUFDLGlDQUFBLEdBQWpDO0VBRUEsb0JBQ0ksNkJBQUMsZ0NBQUQ7SUFDSSxTQUFTLEVBQUMsMEJBRGQ7SUFFSSxPQUFPLEVBQUVKLE9BRmI7SUFHSSxjQUFZLElBQUFLLG1CQUFBLEVBQUcsZUFBSCxFQUFvQjtNQUFFQyxJQUFJLEVBQUVQLElBQUksQ0FBQ087SUFBYixDQUFwQixDQUhoQjtJQUlJLEtBQUssRUFBRVAsSUFBSSxDQUFDTyxJQUpoQjtJQUtJLGdCQUFnQixFQUFDLDRCQUxyQjtJQU1JLE9BQU8sRUFBRUwsT0FOYjtJQU9JLFFBQVEsRUFBRUUsR0FQZDtJQVFJLFFBQVEsRUFBRUQsUUFBUSxHQUFHLENBQUgsR0FBTyxDQUFDO0VBUjlCLGdCQVVJLDZCQUFDLDRCQUFEO0lBQ0ksSUFB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