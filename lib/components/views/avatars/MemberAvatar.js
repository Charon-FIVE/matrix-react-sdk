"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireDefault(require("react"));

var _logger = require("matrix-js-sdk/src/logger");

var _dispatcher = _interopRequireDefault(require("../../../dispatcher/dispatcher"));

var _actions = require("../../../dispatcher/actions");

var _BaseAvatar = _interopRequireDefault(require("./BaseAvatar"));

var _Media = require("../../../customisations/Media");

var _context = require("../right_panel/context");

var _UserIdentifier = _interopRequireDefault(require("../../../customisations/UserIdentifier"));

var _SettingsStore = _interopRequireDefault(require("../../../settings/SettingsStore"));

var _MatrixClientPeg = require("../../../MatrixClientPeg");

const _excluded = ["member", "fallbackUserId", "onClick", "viewUserOnClick", "forceHistorical", "hideTitle"];

class MemberAvatar extends _react.default.PureComponent {
  constructor(props) {
    super(props);
    this.state = MemberAvatar.getState(props);
  }

  static getDerivedStateFromProps(nextProps) {
    return MemberAvatar.getState(nextProps);
  }

  static getState(props) {
    let member = props.member;

    if (member && !props.forceHistorical && _SettingsStore.default.getValue("useOnlyCurrentProfiles")) {
      const room = _MatrixClientPeg.MatrixClientPeg.get().getRoom(member.roomId);

      if (room) {
        member = room.getMember(member.userId);
      }
    }

    if (member?.name) {
      let imageUrl = null;

      const userTitle = _UserIdentifier.default.getDisplayUserIdentifier(member.userId, {
        roomId: member?.roomId
      });

      if (member.getMxcAvatarUrl()) {
        imageUrl = (0, _Media.mediaFromMxc)(member.getMxcAvatarUrl()).getThumbnailOfSourceHttp(props.width, props.height, props.resizeMethod);
      }

      return {
        name: member.name,
        title: props.title || userTitle,
        imageUrl: imageUrl
      };
    } else if (props.fallbackUserId) {
      return {
        name: props.fallbackUserId,
        title: props.fallbackUserId
      };
    } else {
      _logger.logger.error("MemberAvatar called somehow with null member or fallbackUserId");

      return {}; // prevent an explosion
    }
  }

  render() {
    let _this$props = this.props,
        {
      member,
      fallbackUserId,
      onClick,
      viewUserOnClick,
      // eslint-disable-next-line @typescript-eslint/no-unused-vars
      forceHistorical,
      hideTitle
    } = _this$props,
        otherProps = (0, _objectWithoutProperties2.default)(_this$props, _excluded);
    const userId = member ? member.userId : fallbackUserId;

    if (viewUserOnClick) {
      onClick = () => {
        _dispatcher.default.dispatch({
          action: _actions.Action.ViewUser,
          member: this.props.member,
          push: this.context.isCard
        });
      };
    }

    return /*#__PURE__*/_react.default.createElement(_BaseAvatar.default, (0, _extends2.default)({}, otherProps, {
      name: this.state.name,
      title: hideTitle ? undefined : this.state.title,
      idName: userId,
      url: this.state.imageUrl,
      onClick: onClick
    }));
  }

}

exports.default = MemberAvatar;
(0, _defineProperty2.default)(MemberAvatar, "defaultProps", {
  width: 40,
  height: 40,
  resizeMethod: 'crop',
  viewUserOnClick: false
});
MemberAvatar.contextType = _context.CardContext;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNZW1iZXJBdmF0YXIiLCJSZWFjdCIsIlB1cmVDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwic3RhdGUiLCJnZXRTdGF0ZSIsImdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyIsIm5leHRQcm9wcyIsIm1lbWJlciIsImZvcmNlSGlzdG9yaWNhbCIsIlNldHRpbmdzU3RvcmUiLCJnZXRWYWx1ZSIsInJvb20iLCJNYXRyaXhDbGllbnRQZWciLCJnZXQiLCJnZXRSb29tIiwicm9vbUlkIiwiZ2V0TWVtYmVyIiwidXNlcklkIiwibmFtZSIsImltYWdlVXJsIiwidXNlclRpdGxlIiwiVXNlcklkZW50aWZpZXJDdXN0b21pc2F0aW9ucyIsImdldERpc3BsYXlVc2VySWRlbnRpZmllciIsImdldE14Y0F2YXRhclVybCIsIm1lZGlhRnJvbU14YyIsImdldFRodW1ibmFpbE9mU291cmNlSHR0cCIsIndpZHRoIiwiaGVpZ2h0IiwicmVzaXplTWV0aG9kIiwidGl0bGUiLCJmYWxsYmFja1VzZXJJZCIsImxvZ2dlciIsImVycm9yIiwicmVuZGVyIiwib25DbGljayIsInZpZXdVc2VyT25DbGljayIsImhpZGVUaXRsZSIsIm90aGVyUHJvcHMiLCJkaXMiLCJkaXNwYXRjaCIsImFjdGlvbiIsIkFjdGlvbiIsIlZpZXdVc2VyIiwicHVzaCIsImNvbnRleHQiLCJpc0NhcmQiLCJ1bmRlZmluZWQiLCJjb250ZXh0VHlwZSIsIkNhcmRDb250ZXh0Il0sInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvdmlld3MvYXZhdGFycy9NZW1iZXJBdmF0YXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5Db3B5cmlnaHQgMjAxNSwgMjAxNiBPcGVuTWFya2V0IEx0ZFxuQ29weXJpZ2h0IDIwMTkgLSAyMDIyIFRoZSBNYXRyaXgub3JnIEZvdW5kYXRpb24gQy5JLkMuXG5cbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG55b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG5Zb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcblxuICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuXG5Vbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG5kaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG5XSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cblNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbmxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFJvb21NZW1iZXIgfSBmcm9tIFwibWF0cml4LWpzLXNkay9zcmMvbW9kZWxzL3Jvb20tbWVtYmVyXCI7XG5pbXBvcnQgeyBSZXNpemVNZXRob2QgfSBmcm9tICdtYXRyaXgtanMtc2RrL3NyYy9AdHlwZXMvcGFydGlhbHMnO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSBcIm1hdHJpeC1qcy1zZGsvc3JjL2xvZ2dlclwiO1xuXG5pbXBvcnQgZGlzIGZyb20gXCIuLi8uLi8uLi9kaXNwYXRjaGVyL2Rpc3BhdGNoZXJcIjtcbmltcG9ydCB7IEFjdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9kaXNwYXRjaGVyL2FjdGlvbnNcIjtcbmltcG9ydCBCYXNlQXZhdGFyIGZyb20gXCIuL0Jhc2VBdmF0YXJcIjtcbmltcG9ydCB7IG1lZGlhRnJvbU14YyB9IGZyb20gXCIuLi8uLi8uLi9jdXN0b21pc2F0aW9ucy9NZWRpYVwiO1xuaW1wb3J0IHsgQ2FyZENvbnRleHQgfSBmcm9tICcuLi9yaWdodF9wYW5lbC9jb250ZXh0JztcbmltcG9ydCBVc2VySWRlbnRpZmllckN1c3RvbWlzYXRpb25zIGZyb20gJy4uLy4uLy4uL2N1c3RvbWlzYXRpb25zL1VzZXJJZGVudGlmaWVyJztcbmltcG9ydCBTZXR0aW5nc1N0b3JlIGZyb20gXCIuLi8uLi8uLi9zZXR0aW5ncy9TZXR0aW5nc1N0b3JlXCI7XG5pbXBvcnQgeyBNYXRyaXhDbGllbnRQZWcgfSBmcm9tIFwiLi4vLi4vLi4vTWF0cml4Q2xpZW50UGVnXCI7XG5cbmludGVyZmFjZSBJUHJvcHMgZXh0ZW5kcyBPbWl0PFJlYWN0LkNvbXBvbmVudFByb3BzPHR5cGVvZiBCYXNlQXZhdGFyPiwgXCJuYW1lXCIgfCBcImlkTmFtZVwiIHwgXCJ1cmxcIj4ge1xuICAgIG1lbWJlcjogUm9vbU1lbWJlciB8IG51bGw7XG4gICAgZmFsbGJhY2tVc2VySWQ/OiBzdHJpbmc7XG4gICAgd2lkdGg6IG51bWJlcjtcbiAgICBoZWlnaHQ6IG51bWJlcjtcbiAgICByZXNpemVNZXRob2Q/OiBSZXNpemVNZXRob2Q7XG4gICAgLy8gVGhlIG9uQ2xpY2sgdG8gZ2l2ZSB0aGUgYXZhdGFyXG4gICAgb25DbGljaz86IFJlYWN0Lk1vdXNlRXZlbnRIYW5kbGVyO1xuICAgIC8vIFdoZXRoZXIgdGhlIG9uQ2xpY2sgb2YgdGhlIGF2YXRhciBzaG91bGQgYmUgb3ZlcnJpZGRlbiB0byBkaXNwYXRjaCBgQWN0aW9uLlZpZXdVc2VyYFxuICAgIHZpZXdVc2VyT25DbGljaz86IGJvb2xlYW47XG4gICAgcHVzaFVzZXJPbkNsaWNrPzogYm9vbGVhbjtcbiAgICB0aXRsZT86IHN0cmluZztcbiAgICBzdHlsZT86IGFueTtcbiAgICBmb3JjZUhpc3RvcmljYWw/OiBib29sZWFuOyAvLyB0cnVlIHRvIGRlbnkgYHVzZU9ubHlDdXJyZW50UHJvZmlsZXNgIHVzYWdlLiBEZWZhdWx0IGZhbHNlLlxuICAgIGhpZGVUaXRsZT86IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBJU3RhdGUge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIGltYWdlVXJsPzogc3RyaW5nO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNZW1iZXJBdmF0YXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PElQcm9wcywgSVN0YXRlPiB7XG4gICAgcHVibGljIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgICAgIHdpZHRoOiA0MCxcbiAgICAgICAgaGVpZ2h0OiA0MCxcbiAgICAgICAgcmVzaXplTWV0aG9kOiAnY3JvcCcsXG4gICAgICAgIHZpZXdVc2VyT25DbGljazogZmFsc2UsXG4gICAgfTtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBJUHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuXG4gICAgICAgIHRoaXMuc3RhdGUgPSBNZW1iZXJBdmF0YXIuZ2V0U3RhdGUocHJvcHMpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wczogSVByb3BzKTogSVN0YXRlIHtcbiAgICAgICAgcmV0dXJuIE1lbWJlckF2YXRhci5nZXRTdGF0ZShuZXh0UHJvcHMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIGdldFN0YXRlKHByb3BzOiBJUHJvcHMpOiBJU3RhdGUge1xuICAgICAgICBsZXQgbWVtYmVyID0gcHJvcHMubWVtYmVyO1xuICAgICAgICBpZiAobWVtYmVyICYmICFwcm9wcy5mb3JjZUhpc3RvcmljYWwgJiYgU2V0dGluZ3NTdG9yZS5nZXRWYWx1ZShcInVzZU9ubHlDdXJyZW50UHJvZmlsZXNcIikpIHtcbiAgICAgICAgICAgIGNvbnN0IHJvb20gPSBNYXRyaXhDbGllbnRQZWcuZ2V0KCkuZ2V0Um9vbShtZW1iZXIucm9vbUlkKTtcbiAgICAgICAgICAgIGlmIChyb29tKSB7XG4gICAgICAgICAgICAgICAgbWVtYmVyID0gcm9vbS5nZXRNZW1iZXIobWVtYmVyLnVzZXJJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lbWJlcj8ubmFtZSkge1xuICAgICAgICAgICAgbGV0IGltYWdlVXJsID0gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJUaXRsZSA9IFVzZXJJZGVudGlmaWVyQ3VzdG9taXNhdGlvbnMuZ2V0RGlzcGxheVVzZXJJZGVudGlmaWVyKFxuICAgICAgICAgICAgICAgIG1lbWJlci51c2VySWQsIHsgcm9vbUlkOiBtZW1iZXI/LnJvb21JZCB9LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChtZW1iZXIuZ2V0TXhjQXZhdGFyVXJsKCkpIHtcbiAgICAgICAgICAgICAgICBpbWFnZVVybCA9IG1lZGlhRnJvbU14YyhtZW1iZXIuZ2V0TXhjQXZhdGFyVXJsKCkpLmdldFRodW1ibmFpbE9mU291cmNlSHR0cChcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMucmVzaXplTWV0aG9kLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG5hbWU6IG1lbWJlci5uYW1lLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBwcm9wcy50aXRsZSB8fCB1c2VyVGl0bGUsXG4gICAgICAgICAgICAgICAgaW1hZ2VVcmw6IGltYWdlVXJsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChwcm9wcy5mYWxsYmFja1VzZXJJZCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBwcm9wcy5mYWxsYmFja1VzZXJJZCxcbiAgICAgICAgICAgICAgICB0aXRsZTogcHJvcHMuZmFsbGJhY2tVc2VySWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKFwiTWVtYmVyQXZhdGFyIGNhbGxlZCBzb21laG93IHdpdGggbnVsbCBtZW1iZXIgb3IgZmFsbGJhY2tVc2VySWRcIik7XG4gICAgICAgICAgICByZXR1cm4ge30gYXMgSVN0YXRlOyAvLyBwcmV2ZW50IGFuIGV4cGxvc2lvblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBsZXQge1xuICAgICAgICAgICAgbWVtYmVyLFxuICAgICAgICAgICAgZmFsbGJhY2tVc2VySWQsXG4gICAgICAgICAgICBvbkNsaWNrLFxuICAgICAgICAgICAgdmlld1VzZXJPbkNsaWNrLFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgICAgICAgICAgZm9yY2VIaXN0b3JpY2FsLFxuICAgICAgICAgICAgaGlkZVRpdGxlLFxuICAgICAgICAgICAgLi4ub3RoZXJQcm9wc1xuICAgICAgICB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgY29uc3QgdXNlcklkID0gbWVtYmVyID8gbWVtYmVyLnVzZXJJZCA6IGZhbGxiYWNrVXNlcklkO1xuXG4gICAgICAgIGlmICh2aWV3VXNlck9uQ2xpY2spIHtcbiAgICAgICAgICAgIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZGlzLmRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBBY3Rpb24uVmlld1VzZXIsXG4gICAgICAgICAgICAgICAgICAgIG1lbWJlcjogdGhpcy5wcm9wcy5tZW1iZXIsXG4gICAgICAgICAgICAgICAgICAgIHB1c2g6IHRoaXMuY29udGV4dC5pc0NhcmQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxCYXNlQXZhdGFyXG4gICAgICAgICAgICAgICAgey4uLm90aGVyUHJvcHN9XG4gICAgICAgICAgICAgICAgbmFtZT17dGhpcy5zdGF0ZS5uYW1lfVxuICAgICAgICAgICAgICAgIHRpdGxlPXtoaWRlVGl0bGUgPyB1bmRlZmluZWQgOiB0aGlzLnN0YXRlLnRpdGxlfVxuICAgICAgICAgICAgICAgIGlkTmFtZT17dXNlcklkfVxuICAgICAgICAgICAgICAgIHVybD17dGhpcy5zdGF0ZS5pbWFnZVVybH1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNsaWNrfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbk1lbWJlckF2YXRhci5jb250ZXh0VHlwZSA9IENhcmRDb250ZXh0O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFpQkE7O0FBR0E7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUF5QmUsTUFBTUEsWUFBTixTQUEyQkMsY0FBQSxDQUFNQyxhQUFqQyxDQUErRDtFQVExRUMsV0FBVyxDQUFDQyxLQUFELEVBQWdCO0lBQ3ZCLE1BQU1BLEtBQU47SUFFQSxLQUFLQyxLQUFMLEdBQWFMLFlBQVksQ0FBQ00sUUFBYixDQUFzQkYsS0FBdEIsQ0FBYjtFQUNIOztFQUVxQyxPQUF4Qkcsd0JBQXdCLENBQUNDLFNBQUQsRUFBNEI7SUFDOUQsT0FBT1IsWUFBWSxDQUFDTSxRQUFiLENBQXNCRSxTQUF0QixDQUFQO0VBQ0g7O0VBRXNCLE9BQVJGLFFBQVEsQ0FBQ0YsS0FBRCxFQUF3QjtJQUMzQyxJQUFJSyxNQUFNLEdBQUdMLEtBQUssQ0FBQ0ssTUFBbkI7O0lBQ0EsSUFBSUEsTUFBTSxJQUFJLENBQUNMLEtBQUssQ0FBQ00sZUFBakIsSUFBb0NDLHNCQUFBLENBQWNDLFFBQWQsQ0FBdUIsd0JBQXZCLENBQXhDLEVBQTBGO01BQ3RGLE1BQU1DLElBQUksR0FBR0MsZ0NB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