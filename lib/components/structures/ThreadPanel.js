"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.ThreadPanelHeaderFilterOptionItem = exports.ThreadPanelHeader = exports.ThreadFilterType = void 0;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireWildcard(require("react"));

var _thread = require("matrix-js-sdk/src/models/thread");

var _BaseCard = _interopRequireDefault(require("../views/right_panel/BaseCard"));

var _MatrixClientContext = _interopRequireDefault(require("../../contexts/MatrixClientContext"));

var _languageHandler = require("../../languageHandler");

var _ContextMenuButton = require("../../accessibility/context_menu/ContextMenuButton");

var _ContextMenu = _interopRequireWildcard(require("./ContextMenu"));

var _RoomContext = _interopRequireWildcard(require("../../contexts/RoomContext"));

var _TimelinePanel = _interopRequireDefault(require("./TimelinePanel"));

var _Layout = require("../../settings/enums/Layout");

var _Measured = _interopRequireDefault(require("../views/elements/Measured"));

var _PosthogTrackers = _interopRequireDefault(require("../../PosthogTrackers"));

var _AccessibleButton = _interopRequireDefault(require("../views/elements/AccessibleButton"));

var _BetaCard = require("../views/beta/BetaCard");

var _SdkConfig = _interopRequireDefault(require("../../SdkConfig"));

var _Modal = _interopRequireDefault(require("../../Modal"));

var _BetaFeedbackDialog = _interopRequireDefault(require("../views/dialogs/BetaFeedbackDialog"));

var _actions = require("../../dispatcher/actions");

var _UserTab = require("../views/dialogs/UserTab");

var _dispatcher = _interopRequireDefault(require("../../dispatcher/dispatcher"));

var _Spinner = _interopRequireDefault(require("../views/elements/Spinner"));

var _Heading = _interopRequireDefault(require("../views/typography/Heading"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }

let ThreadFilterType;
exports.ThreadFilterType = ThreadFilterType;

(function (ThreadFilterType) {
  ThreadFilterType[ThreadFilterType["My"] = 0] = "My";
  ThreadFilterType[ThreadFilterType["All"] = 1] = "All";
})(ThreadFilterType || (exports.ThreadFilterType = ThreadFilterType = {}));

const ThreadPanelHeaderFilterOptionItem = _ref => {
  let {
    label,
    description,
    onClick,
    isSelected
  } = _ref;
  return /*#__PURE__*/_react.default.createElement(_ContextMenu.MenuItemRadio, {
    active: isSelected,
    className: "mx_ThreadPanel_Header_FilterOptionItem",
    onClick: onClick
  }, /*#__PURE__*/_react.default.createElement("span", null, label), /*#__PURE__*/_react.default.createElement("span", null, description));
};

exports.ThreadPanelHeaderFilterOptionItem = ThreadPanelHeaderFilterOptionItem;

const ThreadPanelHeader = _ref2 => {
  let {
    filterOption,
    setFilterOption,
    empty
  } = _ref2;
  const [menuDisplayed, button, openMenu, closeMenu] = (0, _ContextMenu.useContextMenu)();
  const options = [{
    label: (0, _languageHandler._t)("All threads"),
    description: (0, _languageHandler._t)('Shows all threads from current room'),
    key: ThreadFilterType.All
  }, {
    label: (0, _languageHandler._t)("My threads"),
    description: (0, _languageHandler._t)("Shows all threads you've participated in"),
    key: ThreadFilterType.My
  }];
  const value = options.find(option => option.key === filterOption);
  const contextMenuOptions = options.map(opt => /*#__PURE__*/_react.default.createElement(ThreadPanelHeaderFilterOptionItem, {
    key: opt.key,
    label: opt.label,
    description: opt.description,
    onClick: () => {
      setFilterOption(opt.key);
      closeMenu();
    },
    isSelected: opt === value
  }));
  const contextMenu = menuDisplayed ? /*#__PURE__*/_react.default.createElement(_ContextMenu.default, {
    top: 108,
    right: 33,
    onFinished: closeMenu,
    chevronFace: _ContextMenu.ChevronFace.Top,
    wrapperClassName: "mx_BaseCard_header_title"
  }, contextMenuOptions) : null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "mx_BaseCard_header_title"
  }, /*#__PURE__*/_react.default.createElement(_Heading.default, {
    size: "h4",
    className: "mx_BaseCard_header_title_heading"
  }, (0, _languageHandler._t)("Threads")), !empty && /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(_ContextMenuButton.ContextMenuButton, {
    className: "mx_ThreadPanel_dropdown",
    inputRef: button,
    isExpanded: menuDisplayed,
    onClick: ev => {
      openMenu();

      _PosthogTrackers.default.trackInteraction("WebRightPanelThreadPanelFilterDropdown", ev);
    }
  }, `${(0, _languageHandler._t)('Show:')} ${value.label}`), contextMenu));
};

exports.ThreadPanelHeader = ThreadPanelHeader;

const EmptyThread = _ref3 => {
  let {
    hasThreads,
    filterOption,
    showAllThreadsCallback
  } = _ref3;
  let body;

  if (hasThreads) {
    body = /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement("p", null, (0, _languageHandler._t)("Reply to an ongoing thread or use “%(replyInThread)s” " + "when hovering over a message to start a new one.", {
      replyInThread: (0, _languageHandler._t)("Reply in thread")
    })), /*#__PURE__*/_react.default.createElement("p", null, filterOption === ThreadFilterType.My ? /*#__PURE__*/_react.default.createElement("button", {
      onClick: showAllThreadsCallback
    }, (0, _languageHandler._t)("Show all threads")) : /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, "\xA0")));
  } else {
    body = /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement("p", null, (0, _languageHandler._t)("Threads help keep your conversations on-topic and easy to track.")), /*#__PURE__*/_react.default.createElement("p", {
      className: "mx_ThreadPanel_empty_tip"
    }, (0, _languageHandler._t)('<b>Tip:</b> Use “%(replyInThread)s” when hovering over a message.', {
      replyInThread: (0, _languageHandler._t)("Reply in thread")
    }, {
      b: sub => /*#__PURE__*/_react.default.createElement("b", null, sub)
    })));
  }

  return /*#__PURE__*/_react.default.createElement("aside", {
    className: "mx_ThreadPanel_empty"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "mx_ThreadPanel_largeIcon"
  }), /*#__PURE__*/_react.default.createElement("h2", null, (0, _languageHandler._t)("Keep discussions organised with threads")), body);
};

const ThreadPanel = _ref4 => {
  let {
    roomId,
    onClose,
    permalinkCreator
  } = _ref4;
  const mxClient = (0, _react.useContext)(_MatrixClientContext.default);
  const roomContext = (0, _react.useContext)(_RoomContext.default);
  const timelinePanel = (0, _react.useRef)();
  const card = (0, _react.useRef)();
  const [filterOption, setFilterOption] = (0, _react.useState)(ThreadFilterType.All);
  const [room, setRoom] = (0, _react.useState)(null);
  const [timelineSet, setTimelineSet] = (0, _react.useState)(null);
  const [narrow, setNarrow] = (0, _react.useState)(false);
  (0, _react.useEffect)(() => {
    const room = mxClient.getRoom(roomId);
    room.createThreadsTimelineSets().then(() => {
      return room.fetchRoomThreads();
    }).then(() => {
      setFilterOption(ThreadFilterType.All);
      setRoom(room);
    });
  }, [mxClient, roomId]);
  (0, _react.useEffect)(() => {
    function refreshTimeline() {
      timelinePanel?.current.refreshTimeline();
    }

    room?.on(_thread.ThreadEvent.Update, refreshTimeline);
    return () => {
      room?.removeListener(_thread.ThreadEvent.Update, refreshTimeline);
    };
  }, [room, mxClient, timelineSet]);
  (0, _react.useEffect)(() => {
    if (room) {
      if (filterOption === ThreadFilterType.My) {
        setTimelineSet(room.threadsTimelineSets[1]);
      } else {
        setTimelineSet(room.threadsTimelineSets[0]);
      }
    }
  }, [room, filterOption]);
  (0, _react.useEffect)(() => {
    if (timelineSet && !_thread.Thread.hasServerSideSupport) {
      timelinePanel.current.refreshTimeline();
    }
  }, [timelineSet, timelinePanel]);
  const openFeedback = _SdkConfig.default.get().bug_report_endpoint_url ? () => {
    _Modal.default.createDialog(_BetaFeedbackDialog.default, {
      featureId: "feature_thread"
    });
  } : null;
  return /*#__PURE__*/_react.default.createElement(_RoomContext.default.Provider, {
    value: _objectSpread(_objectSpread({}, roomContext), {}, {
      timelineRenderingType: _RoomContext.TimelineRenderingType.ThreadsList,
      showHiddenEvents: true,
      narrow
    })
  }, /*#__PURE__*/_react.default.createElement(_BaseCard.default, {
    header: /*#__PURE__*/_react.default.createElement(ThreadPanelHeader, {
      filterOption: filterOption,
      setFilterOption: setFilterOption,
      empty: !timelineSet?.getLiveTimeline()?.getEvents().length
    }),
    footer: /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(_BetaCard.BetaPill, {
      tooltipTitle: (0, _languageHandler._t)("Threads are a beta feature"),
      tooltipCaption: (0, _languageHandler._t)("Click for more info"),
      onClick: () => {
        _dispatcher.default.dispatch({
          action: _actions.Action.ViewUserSettings,
          initialTabId: _UserTab.UserTab.Labs
        });
      }
    }), openFeedback && (0, _languageHandler._t)("<a>Give feedback</a>", {}, {
      a: sub => /*#__PURE__*/_react.default.createElement(_AccessibleButton.default, {
        kind: "link_inline",
        onClick: openFeedback
      }, sub)
    })),
    className: "mx_ThreadPanel",
    onClose: onClose,
    withoutScrollContainer: true,
    ref: card
  }, /*#__PURE__*/_react.default.createElement(_Measured.default, {
    sensor: card.current,
    onMeasurement: setNarrow
  }), timelineSet ? /*#__PURE__*/_react.default.createElement(_TimelinePanel.default, {
    key: timelineSet.getFilter()?.filterId ?? roomId + ":" + filterOption,
    ref: timelinePanel,
    showReadReceipts: false // No RR support in thread's MVP
    ,
    manageReadReceipts: false // No RR support in thread's MVP
    ,
    manageReadMarkers: false // No RM support in thread's MVP
    ,
    sendReadReceiptOnLoad: false // No RR support in thread's MVP
    ,
    timelineSet: timelineSet,
    showUrlPreview: false // No URL previews at the threads list level
    ,
    empty: /*#__PURE__*/_react.default.createElement(EmptyThread, {
      hasThreads: room.threadsTimelineSets?.[0]?.getLiveTimeline().getEvents().length > 0,
      filterOption: filterOption,
      showAllThreadsCallback: () => setFilterOption(ThreadFilterType.All)
    }),
    alwaysShowTimestamps: true,
    layout: _Layout.Layout.Group,
    hideThreadedMessages: false,
    hidden: false,
    showReactions: false,
    className: "mx_RoomView_messagePanel",
    membersLoaded: true,
    permalinkCreator: permalinkCreator,
    disableGrouping: true
  }) : /*#__PURE__*/_react.default.createElement("div", {
    className: "mx_AutoHideScrollbar"
  }, /*#__PURE__*/_react.default.createElement(_Spinner.default, null))));
};

var _default = ThreadPanel;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJUaHJlYWRGaWx0ZXJUeXBlIiwiVGhyZWFkUGFuZWxIZWFkZXJGaWx0ZXJPcHRpb25JdGVtIiwibGFiZWwiLCJkZXNjcmlwdGlvbiIsIm9uQ2xpY2siLCJpc1NlbGVjdGVkIiwiVGhyZWFkUGFuZWxIZWFkZXIiLCJmaWx0ZXJPcHRpb24iLCJzZXRGaWx0ZXJPcHRpb24iLCJlbXB0eSIsIm1lbnVEaXNwbGF5ZWQiLCJidXR0b24iLCJvcGVuTWVudSIsImNsb3NlTWVudSIsInVzZUNvbnRleHRNZW51Iiwib3B0aW9ucyIsIl90Iiwia2V5IiwiQWxsIiwiTXkiLCJ2YWx1ZSIsImZpbmQiLCJvcHRpb24iLCJjb250ZXh0TWVudU9wdGlvbnMiLCJtYXAiLCJvcHQiLCJjb250ZXh0TWVudSIsIkNoZXZyb25GYWNlIiwiVG9wIiwiZXYiLCJQb3N0aG9nVHJhY2tlcnMiLCJ0cmFja0ludGVyYWN0aW9uIiwiRW1wdHlUaHJlYWQiLCJoYXNUaHJlYWRzIiwic2hvd0FsbFRocmVhZHNDYWxsYmFjayIsImJvZHkiLCJyZXBseUluVGhyZWFkIiwiYiIsInN1YiIsIlRocmVhZFBhbmVsIiwicm9vbUlkIiwib25DbG9zZSIsInBlcm1hbGlua0NyZWF0b3IiLCJteENsaWVudCIsInVzZUNvbnRleHQiLCJNYXRyaXhDbGllbnRDb250ZXh0Iiwicm9vbUNvbnRleHQiLCJSb29tQ29udGV4dCIsInRpbWVsaW5lUGFuZWwiLCJ1c2VSZWYiLCJjYXJkIiwidXNlU3RhdGUiLCJyb29tIiwic2V0Um9vbSIsInRpbWVsaW5lU2V0Iiwic2V0VGltZWxpbmVTZXQiLCJuYXJyb3ciLCJzZXROYXJyb3ciLCJ1c2VFZmZlY3QiLCJnZXRSb29tIiwiY3JlYXRlVGhyZWFkc1RpbWVsaW5lU2V0cyIsInRoZW4iLCJmZXRjaFJvb21UaHJlYWRzIiwicmVmcmVzaFRpbWVsaW5lIiwiY3VycmVudCIsIm9uIiwiVGhyZWFkRXZlbnQiLCJVcGRhdGUiLCJyZW1vdmVMaXN0ZW5lciIsInRocmVhZHNUaW1lbGluZVNldHMiLCJUaHJlYWQiLCJoYXNTZXJ2ZXJTaWRlU3VwcG9ydCIsIm9wZW5GZWVkYmFjayIsIlNka0NvbmZpZyIsImdldCIsImJ1Z19yZXBvcnRfZW5kcG9pbnRfdXJsIiwiTW9kYWwiLCJjcmVhdGVEaWFsb2ciLCJCZXRhRmVlZGJhY2tEaWFsb2ciLCJmZWF0dXJlSWQiLCJ0aW1lbGluZVJlbmRlcmluZ1R5cGUiLCJUaW1lbGluZVJlbmRlcmluZ1R5cGUiLCJUaHJlYWRzTGlzdCIsInNob3dIaWRkZW5FdmVudHMiLCJnZXRMaXZlVGltZWxpbmUiLCJnZXRFdmVudHMiLCJsZW5ndGgiLCJkaXMiLCJkaXNwYXRjaCIsImFjdGlvbiIsIkFjdGlvbiIsIlZpZXdVc2VyU2V0dGluZ3MiLCJpbml0aWFsVGFiSWQiLCJVc2VyVGFiIiwiTGFicyIsImEiLCJnZXRGaWx0ZXIiLCJmaWx0ZXJJZCIsIkxheW91dCIsIkdyb3VwIl0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvc3RydWN0dXJlcy9UaHJlYWRQYW5lbC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkNvcHlyaWdodCAyMDIxIC0gMjAyMiBUaGUgTWF0cml4Lm9yZyBGb3VuZGF0aW9uIEMuSS5DLlxuXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xueW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cbiAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG5TZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG5saW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiovXG5cbmltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0LCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBFdmVudFRpbWVsaW5lU2V0IH0gZnJvbSAnbWF0cml4LWpzLXNkay9zcmMvbW9kZWxzL2V2ZW50LXRpbWVsaW5lLXNldCc7XG5pbXBvcnQgeyBUaHJlYWQsIFRocmVhZEV2ZW50IH0gZnJvbSAnbWF0cml4LWpzLXNkay9zcmMvbW9kZWxzL3RocmVhZCc7XG5pbXBvcnQgeyBSb29tIH0gZnJvbSAnbWF0cml4LWpzLXNkay9zcmMvbW9kZWxzL3Jvb20nO1xuXG5pbXBvcnQgQmFzZUNhcmQgZnJvbSBcIi4uL3ZpZXdzL3JpZ2h0X3BhbmVsL0Jhc2VDYXJkXCI7XG5pbXBvcnQgUmVzaXplTm90aWZpZXIgZnJvbSAnLi4vLi4vdXRpbHMvUmVzaXplTm90aWZpZXInO1xuaW1wb3J0IE1hdHJpeENsaWVudENvbnRleHQgZnJvbSAnLi4vLi4vY29udGV4dHMvTWF0cml4Q2xpZW50Q29udGV4dCc7XG5pbXBvcnQgeyBfdCB9IGZyb20gJy4uLy4uL2xhbmd1YWdlSGFuZGxlcic7XG5pbXBvcnQgeyBDb250ZXh0TWVudUJ1dHRvbiB9IGZyb20gJy4uLy4uL2FjY2Vzc2liaWxpdHkvY29udGV4dF9tZW51L0NvbnRleHRNZW51QnV0dG9uJztcbmltcG9ydCBDb250ZXh0TWVudSwgeyBDaGV2cm9uRmFjZSwgTWVudUl0ZW1SYWRpbywgdXNlQ29udGV4dE1lbnUgfSBmcm9tICcuL0NvbnRleHRNZW51JztcbmltcG9ydCBSb29tQ29udGV4dCwgeyBUaW1lbGluZVJlbmRlcmluZ1R5cGUgfSBmcm9tICcuLi8uLi9jb250ZXh0cy9Sb29tQ29udGV4dCc7XG5pbXBvcnQgVGltZWxpbmVQYW5lbCBmcm9tICcuL1RpbWVsaW5lUGFuZWwnO1xuaW1wb3J0IHsgTGF5b3V0IH0gZnJvbSAnLi4vLi4vc2V0dGluZ3MvZW51bXMvTGF5b3V0JztcbmltcG9ydCB7IFJvb21QZXJtYWxpbmtDcmVhdG9yIH0gZnJvbSAnLi4vLi4vdXRpbHMvcGVybWFsaW5rcy9QZXJtYWxpbmtzJztcbmltcG9ydCBNZWFzdXJlZCBmcm9tICcuLi92aWV3cy9lbGVtZW50cy9NZWFzdXJlZCc7XG5pbXBvcnQgUG9zdGhvZ1RyYWNrZXJzIGZyb20gXCIuLi8uLi9Qb3N0aG9nVHJhY2tlcnNcIjtcbmltcG9ydCBBY2Nlc3NpYmxlQnV0dG9uLCB7IEJ1dHRvbkV2ZW50IH0gZnJvbSBcIi4uL3ZpZXdzL2VsZW1lbnRzL0FjY2Vzc2libGVCdXR0b25cIjtcbmltcG9ydCB7IEJldGFQaWxsIH0gZnJvbSAnLi4vdmlld3MvYmV0YS9CZXRhQ2FyZCc7XG5pbXBvcnQgU2RrQ29uZmlnIGZyb20gJy4uLy4uL1Nka0NvbmZpZyc7XG5pbXBvcnQgTW9kYWwgZnJvbSAnLi4vLi4vTW9kYWwnO1xuaW1wb3J0IEJldGFGZWVkYmFja0RpYWxvZyBmcm9tICcuLi92aWV3cy9kaWFsb2dzL0JldGFGZWVkYmFja0RpYWxvZyc7XG5pbXBvcnQgeyBBY3Rpb24gfSBmcm9tICcuLi8uLi9kaXNwYXRjaGVyL2FjdGlvbnMnO1xuaW1wb3J0IHsgVXNlclRhYiB9IGZyb20gJy4uL3ZpZXdzL2RpYWxvZ3MvVXNlclRhYic7XG5pbXBvcnQgZGlzIGZyb20gJy4uLy4uL2Rpc3BhdGNoZXIvZGlzcGF0Y2hlcic7XG5pbXBvcnQgU3Bpbm5lciBmcm9tIFwiLi4vdmlld3MvZWxlbWVudHMvU3Bpbm5lclwiO1xuaW1wb3J0IEhlYWRpbmcgZnJvbSAnLi4vdmlld3MvdHlwb2dyYXBoeS9IZWFkaW5nJztcblxuaW50ZXJmYWNlIElQcm9wcyB7XG4gICAgcm9vbUlkOiBzdHJpbmc7XG4gICAgb25DbG9zZTogKCkgPT4gdm9pZDtcbiAgICByZXNpemVOb3RpZmllcjogUmVzaXplTm90aWZpZXI7XG4gICAgcGVybWFsaW5rQ3JlYXRvcjogUm9vbVBlcm1hbGlua0NyZWF0b3I7XG59XG5cbmV4cG9ydCBlbnVtIFRocmVhZEZpbHRlclR5cGUge1xuICAgIFwiTXlcIixcbiAgICBcIkFsbFwiXG59XG5cbnR5cGUgVGhyZWFkUGFuZWxIZWFkZXJPcHRpb24gPSB7XG4gICAgbGFiZWw6IHN0cmluZztcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICAgIGtleTogVGhyZWFkRmlsdGVyVHlwZTtcbn07XG5cbmV4cG9ydCBjb25zdCBUaHJlYWRQYW5lbEhlYWRlckZpbHRlck9wdGlvbkl0ZW0gPSAoe1xuICAgIGxhYmVsLFxuICAgIGRlc2NyaXB0aW9uLFxuICAgIG9uQ2xpY2ssXG4gICAgaXNTZWxlY3RlZCxcbn06IFRocmVhZFBhbmVsSGVhZGVyT3B0aW9uICYge1xuICAgIG9uQ2xpY2s6ICgpID0+IHZvaWQ7XG4gICAgaXNTZWxlY3RlZDogYm9vbGVhbjtcbn0pID0+IHtcbiAgICByZXR1cm4gPE1lbnVJdGVtUmFkaW9cbiAgICAgICAgYWN0aXZlPXtpc1NlbGVjdGVkfVxuICAgICAgICBjbGFzc05hbWU9XCJteF9UaHJlYWRQYW5lbF9IZWFkZXJfRmlsdGVyT3B0aW9uSXRlbVwiXG4gICAgICAgIG9uQ2xpY2s9e29uQ2xpY2t9XG4gICAgPlxuICAgICAgICA8c3Bhbj57IGxhYmVsIH08L3NwYW4+XG4gICAgICAgIDxzcGFuPnsgZGVzY3JpcHRpb24gfTwvc3Bhbj5cbiAgICA8L01lbnVJdGVtUmFkaW8+O1xufTtcblxuZXhwb3J0IGNvbnN0IFRocmVhZFBhbmVsSGVhZGVyID0gKHsgZmlsdGVyT3B0aW9uLCBzZXRGaWx0ZXJPcHRpb24sIGVtcHR5IH06IHtcbiAgICBmaWx0ZXJPcHRpb246IFRocmVhZEZpbHRlclR5cGU7XG4gICAgc2V0RmlsdGVyT3B0aW9uOiAoZmlsdGVyT3B0aW9uOiBUaHJlYWRGaWx0ZXJUeXBlKSA9PiB2b2lkO1xuICAgIGVtcHR5OiBib29sZWFuO1xufSkgPT4ge1xuICAgIGNvbnN0IFttZW51RGlzcGxheWVkLCBidXR0b24sIG9wZW5NZW51LCBjbG9zZU1lbnVdID0gdXNlQ29udGV4dE1lbnU8SFRNTEVsZW1lbnQ+KCk7XG4gICAgY29uc3Qgb3B0aW9uczogcmVhZG9ubHkgVGhyZWFkUGFuZWxIZWFkZXJPcHRpb25bXSA9IFtcbiAgICAgICAge1xuICAgICAgICAgICAgbGFiZWw6IF90KFwiQWxsIHRocmVhZHNcIiksXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogX3QoJ1Nob3dzIGFsbCB0aHJlYWRzIGZyb20gY3VycmVudCByb29tJyksXG4gICAgICAgICAgICBrZXk6IFRocmVhZEZpbHRlclR5cGUuQWxsLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBsYWJlbDogX3QoXCJNeSB0aHJlYWRzXCIpLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IF90KFwiU2hvd3MgYWxsIHRocmVhZHMgeW91J3ZlIHBhcnRpY2lwYXRlZCBpblwiKSxcbiAgICAgICAgICAgIGtleTogVGhyZWFkRmlsdGVyVHlwZS5NeSxcbiAgICAgICAgfSxcbiAgICBdO1xuXG4gICAgY29uc3QgdmFsdWUgPSBvcHRpb25zLmZpbmQob3B0aW9uID0+IG9wdGlvbi5rZXkgPT09IGZpbHRlck9wdGlvbik7XG4gICAgY29uc3QgY29udGV4dE1lbnVPcHRpb25zID0gb3B0aW9ucy5tYXAob3B0ID0+IDxUaHJlYWRQYW5lbEhlYWRlckZpbHRlck9wdGlvbkl0ZW1cbiAgICAgICAga2V5PXtvcHQua2V5fVxuICAgICAgICBsYWJlbD17b3B0LmxhYmVsfVxuICAgICAgICBkZXNjcmlwdGlvbj17b3B0LmRlc2NyaXB0aW9ufVxuICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICBzZXRGaWx0ZXJPcHRpb24ob3B0LmtleSk7XG4gICAgICAgICAgICBjbG9zZU1lbnUoKTtcbiAgICAgICAgfX1cbiAgICAgICAgaXNTZWxlY3RlZD17b3B0ID09PSB2YWx1ZX1cbiAgICAvPik7XG4gICAgY29uc3QgY29udGV4dE1lbnUgPSBtZW51RGlzcGxheWVkID8gPENvbnRleHRNZW51XG4gICAgICAgIHRvcD17MTA4fVxuICAgICAgICByaWdodD17MzN9XG4gICAgICAgIG9uRmluaXNoZWQ9e2Nsb3NlTWVudX1cbiAgICAgICAgY2hldnJvbkZhY2U9e0NoZXZyb25GYWNlLlRvcH1cbiAgICAgICAgd3JhcHBlckNsYXNzTmFtZT1cIm14X0Jhc2VDYXJkX2hlYWRlcl90aXRsZVwiXG4gICAgPlxuICAgICAgICB7IGNvbnRleHRNZW51T3B0aW9ucyB9XG4gICAgPC9Db250ZXh0TWVudT4gOiBudWxsO1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm14X0Jhc2VDYXJkX2hlYWRlcl90aXRsZVwiPlxuICAgICAgICA8SGVhZGluZyBzaXplPVwiaDRcIiBjbGFzc05hbWU9XCJteF9CYXNlQ2FyZF9oZWFkZXJfdGl0bGVfaGVhZGluZ1wiPnsgX3QoXCJUaHJlYWRzXCIpIH08L0hlYWRpbmc+XG4gICAgICAgIHsgIWVtcHR5ICYmIDw+XG4gICAgICAgICAgICA8Q29udGV4dE1lbnVCdXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJteF9UaHJlYWRQYW5lbF9kcm9wZG93blwiXG4gICAgICAgICAgICAgICAgaW5wdXRSZWY9e2J1dHRvbn1cbiAgICAgICAgICAgICAgICBpc0V4cGFuZGVkPXttZW51RGlzcGxheWVkfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhldjogQnV0dG9uRXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgb3Blbk1lbnUoKTtcbiAgICAgICAgICAgICAgICAgICAgUG9zdGhvZ1RyYWNrZXJzLnRyYWNrSW50ZXJhY3Rpb24oXCJXZWJSaWdodFBhbmVsVGhyZWFkUGFuZWxGaWx0ZXJEcm9wZG93blwiLCBldik7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7IGAke190KCdTaG93OicpfSAke3ZhbHVlLmxhYmVsfWAgfVxuICAgICAgICAgICAgPC9Db250ZXh0TWVudUJ1dHRvbj5cbiAgICAgICAgICAgIHsgY29udGV4dE1lbnUgfVxuICAgICAgICA8Lz4gfVxuICAgIDwvZGl2Pjtcbn07XG5cbmludGVyZmFjZSBFbXB0eVRocmVhZElQcm9wcyB7XG4gICAgaGFzVGhyZWFkczogYm9vbGVhbjtcbiAgICBmaWx0ZXJPcHRpb246IFRocmVhZEZpbHRlclR5cGU7XG4gICAgc2hvd0FsbFRocmVhZHNDYWxsYmFjazogKCkgPT4gdm9pZDtcbn1cblxuY29uc3QgRW1wdHlUaHJlYWQ6IFJlYWN0LkZDPEVtcHR5VGhyZWFkSVByb3BzPiA9ICh7IGhhc1RocmVhZHMsIGZpbHRlck9wdGlvbiwgc2hvd0FsbFRocmVhZHNDYWxsYmFjayB9KSA9PiB7XG4gICAgbGV0IGJvZHk6IEpTWC5FbGVtZW50O1xuICAgIGlmIChoYXNUaHJlYWRzKSB7XG4gICAgICAgIGJvZHkgPSA8PlxuICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgeyBfdChcIlJlcGx5IHRvIGFuIG9uZ29pbmcgdGhyZWFkIG9yIHVzZSDigJwlKHJlcGx5SW5UaHJlYWQpc+KAnSBcIlxuICAgICAgICAgICAgICAgICAgICArIFwid2hlbiBob3ZlcmluZyBvdmVyIGEgbWVzc2FnZSB0byBzdGFydCBhIG5ldyBvbmUuXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgcmVwbHlJblRocmVhZDogX3QoXCJSZXBseSBpbiB0aHJlYWRcIiksXG4gICAgICAgICAgICAgICAgfSkgfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgeyAvKiBBbHdheXMgZGlzcGxheSB0aGF0IHBhcmFncmFwaCB0byBwcmV2ZW50IGxheW91dCBzaGlmdCB3aGVuIGhpZGluZyB0aGUgYnV0dG9uICovIH1cbiAgICAgICAgICAgICAgICB7IChmaWx0ZXJPcHRpb24gPT09IFRocmVhZEZpbHRlclR5cGUuTXkpXG4gICAgICAgICAgICAgICAgICAgID8gPGJ1dHRvbiBvbkNsaWNrPXtzaG93QWxsVGhyZWFkc0NhbGxiYWNrfT57IF90KFwiU2hvdyBhbGwgdGhyZWFkc1wiKSB9PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDogPD4mbmJzcDs8Lz5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgIDwvPjtcbiAgICB9IGVsc2Uge1xuICAgICAgICBib2R5ID0gPD5cbiAgICAgICAgICAgIDxwPnsgX3QoXCJUaHJlYWRzIGhlbHAga2VlcCB5b3VyIGNvbnZlcnNhdGlvbnMgb24tdG9waWMgYW5kIGVhc3kgdG8gdHJhY2suXCIpIH08L3A+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJteF9UaHJlYWRQYW5lbF9lbXB0eV90aXBcIj5cbiAgICAgICAgICAgICAgICB7IF90KCc8Yj5UaXA6PC9iPiBVc2Ug4oCcJShyZXBseUluVGhyZWFkKXPigJ0gd2hlbiBob3ZlcmluZyBvdmVyIGEgbWVzc2FnZS4nLCB7XG4gICAgICAgICAgICAgICAgICAgIHJlcGx5SW5UaHJlYWQ6IF90KFwiUmVwbHkgaW4gdGhyZWFkXCIpLFxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgYjogc3ViID0+IDxiPnsgc3ViIH08L2I+LFxuICAgICAgICAgICAgICAgIH0pIH1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgPC8+O1xuICAgIH1cblxuICAgIHJldHVybiA8YXNpZGUgY2xhc3NOYW1lPVwibXhfVGhyZWFkUGFuZWxfZW1wdHlcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteF9UaHJlYWRQYW5lbF9sYXJnZUljb25cIiAvPlxuICAgICAgICA8aDI+eyBfdChcIktlZXAgZGlzY3Vzc2lvbnMgb3JnYW5pc2VkIHdpdGggdGhyZWFkc1wiKSB9PC9oMj5cbiAgICAgICAgeyBib2R5IH1cbiAgICA8L2FzaWRlPjtcbn07XG5cbmNvbnN0IFRocmVhZFBhbmVsOiBSZWFjdC5GQzxJUHJvcHM+ID0gKHtcbiAgICByb29tSWQsXG4gICAgb25DbG9zZSxcbiAgICBwZXJtYWxpbmtDcmVhdG9yLFxufSkgPT4ge1xuICAgIGNvbnN0IG14Q2xpZW50ID0gdXNlQ29udGV4dChNYXRyaXhDbGllbnRDb250ZXh0KTtcbiAgICBjb25zdCByb29tQ29udGV4dCA9IHVzZUNvbnRleHQoUm9vbUNvbnRleHQpO1xuICAgIGNvbnN0IHRpbWVsaW5lUGFuZWwgPSB1c2VSZWY8VGltZWxpbmVQYW5lbD4oKTtcbiAgICBjb25zdCBjYXJkID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PigpO1xuXG4gICAgY29uc3QgW2ZpbHRlck9wdGlvbiwgc2V0RmlsdGVyT3B0aW9uXSA9IHVzZVN0YXRlPFRocmVhZEZpbHRlclR5cGU+KFRocmVhZEZpbHRlclR5cGUuQWxsKTtcbiAgICBjb25zdCBbcm9vbSwgc2V0Um9vbV0gPSB1c2VTdGF0ZTxSb29tIHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgW3RpbWVsaW5lU2V0LCBzZXRUaW1lbGluZVNldF0gPSB1c2VTdGF0ZTxFdmVudFRpbWVsaW5lU2V0IHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgW25hcnJvdywgc2V0TmFycm93XSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJvb20gPSBteENsaWVudC5nZXRSb29tKHJvb21JZCk7XG4gICAgICAgIHJvb20uY3JlYXRlVGhyZWFkc1RpbWVsaW5lU2V0cygpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHJvb20uZmV0Y2hSb29tVGhyZWFkcygpO1xuICAgICAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHNldEZpbHRlck9wdGlvbihUaHJlYWRGaWx0ZXJUeXBlLkFsbCk7XG4gICAgICAgICAgICBzZXRSb29tKHJvb20pO1xuICAgICAgICB9KTtcbiAgICB9LCBbbXhDbGllbnQsIHJvb21JZF0pO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgZnVuY3Rpb24gcmVmcmVzaFRpbWVsaW5lKCkge1xuICAgICAgICAgICAgdGltZWxpbmVQYW5lbD8uY3VycmVudC5yZWZyZXNoVGltZWxpbmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJvb20/Lm9uKFRocmVhZEV2ZW50LlVwZGF0ZSwgcmVmcmVzaFRpbWVsaW5lKTtcblxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgcm9vbT8ucmVtb3ZlTGlzdGVuZXIoVGhyZWFkRXZlbnQuVXBkYXRlLCByZWZyZXNoVGltZWxpbmUpO1xuICAgICAgICB9O1xuICAgIH0sIFtyb29tLCBteENsaWVudCwgdGltZWxpbmVTZXRdKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChyb29tKSB7XG4gICAgICAgICAgICBpZiAoZmlsdGVyT3B0aW9uID09PSBUaHJlYWRGaWx0ZXJUeXBlLk15KSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZWxpbmVTZXQocm9vbS50aHJlYWRzVGltZWxpbmVTZXRzWzFdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZWxpbmVTZXQocm9vbS50aHJlYWRzVGltZWxpbmVTZXRzWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFtyb29tLCBmaWx0ZXJPcHRpb25dKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICh0aW1lbGluZVNldCAmJiAhVGhyZWFkLmhhc1NlcnZlclNpZGVTdXBwb3J0KSB7XG4gICAgICAgICAgICB0aW1lbGluZVBhbmVsLmN1cnJlbnQucmVmcmVzaFRpbWVsaW5lKCk7XG4gICAgICAgIH1cbiAgICB9LCBbdGltZWxpbmVTZXQsIHRpbWVsaW5lUGFuZWxdKTtcblxuICAgIGNvbnN0IG9wZW5GZWVkYmFjayA9IFNka0NvbmZpZy5nZXQoKS5idWdfcmVwb3J0X2VuZHBvaW50X3VybCA/ICgpID0+IHtcbiAgICAgICAgTW9kYWwuY3JlYXRlRGlhbG9nKEJldGFGZWVkYmFja0RpYWxvZywge1xuICAgICAgICAgICAgZmVhdHVyZUlkOiBcImZlYXR1cmVfdGhyZWFkXCIsXG4gICAgICAgIH0pO1xuICAgIH0gOiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPFJvb21Db250ZXh0LlByb3ZpZGVyIHZhbHVlPXt7XG4gICAgICAgICAgICAuLi5yb29tQ29udGV4dCxcbiAgICAgICAgICAgIHRpbWVsaW5lUmVuZGVyaW5nVHlwZTogVGltZWxpbmVSZW5kZXJpbmdUeXBlLlRocmVhZHNMaXN0LFxuICAgICAgICAgICAgc2hvd0hpZGRlbkV2ZW50czogdHJ1ZSxcbiAgICAgICAgICAgIG5hcnJvdyxcbiAgICAgICAgfX0+XG4gICAgICAgICAgICA8QmFzZUNhcmRcbiAgICAgICAgICAgICAgICBoZWFkZXI9ezxUaHJlYWRQYW5lbEhlYWRlclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJPcHRpb249e2ZpbHRlck9wdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgc2V0RmlsdGVyT3B0aW9uPXtzZXRGaWx0ZXJPcHRpb259XG4gICAgICAgICAgICAgICAgICAgIGVtcHR5PXshdGltZWxpbmVTZXQ/LmdldExpdmVUaW1lbGluZSgpPy5nZXRFdmVudHMoKS5sZW5ndGh9XG4gICAgICAgICAgICAgICAgLz59XG4gICAgICAgICAgICAgICAgZm9vdGVyPXs8PlxuICAgICAgICAgICAgICAgICAgICA8QmV0YVBpbGxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXBUaXRsZT17X3QoXCJUaHJlYWRzIGFyZSBhIGJldGEgZmVhdHVyZVwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXBDYXB0aW9uPXtfdChcIkNsaWNrIGZvciBtb3JlIGluZm9cIil9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzLmRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBBY3Rpb24uVmlld1VzZXJTZXR0aW5ncyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbFRhYklkOiBVc2VyVGFiLkxhYnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICB7IG9wZW5GZWVkYmFjayAmJiBfdChcIjxhPkdpdmUgZmVlZGJhY2s8L2E+XCIsIHt9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhOiBzdWIgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QWNjZXNzaWJsZUJ1dHRvbiBraW5kPVwibGlua19pbmxpbmVcIiBvbkNsaWNrPXtvcGVuRmVlZGJhY2t9Pnsgc3ViIH08L0FjY2Vzc2libGVCdXR0b24+LFxuICAgICAgICAgICAgICAgICAgICB9KSB9XG4gICAgICAgICAgICAgICAgPC8+fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm14X1RocmVhZFBhbmVsXCJcbiAgICAgICAgICAgICAgICBvbkNsb3NlPXtvbkNsb3NlfVxuICAgICAgICAgICAgICAgIHdpdGhvdXRTY3JvbGxDb250YWluZXI9e3RydWV9XG4gICAgICAgICAgICAgICAgcmVmPXtjYXJkfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxNZWFzdXJlZFxuICAgICAgICAgICAgICAgICAgICBzZW5zb3I9e2NhcmQuY3VycmVudH1cbiAgICAgICAgICAgICAgICAgICAgb25NZWFzdXJlbWVudD17c2V0TmFycm93fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgeyB0aW1lbGluZVNldFxuICAgICAgICAgICAgICAgICAgICA/IDxUaW1lbGluZVBhbmVsXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3RpbWVsaW5lU2V0LmdldEZpbHRlcigpPy5maWx0ZXJJZCA/PyAocm9vbUlkICsgXCI6XCIgKyBmaWx0ZXJPcHRpb24pfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXt0aW1lbGluZVBhbmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1JlYWRSZWNlaXB0cz17ZmFsc2V9IC8vIE5vIFJSIHN1cHBvcnQgaW4gdGhyZWFkJ3MgTVZQXG4gICAgICAgICAgICAgICAgICAgICAgICBtYW5hZ2VSZWFkUmVjZWlwdHM9e2ZhbHNlfSAvLyBObyBSUiBzdXBwb3J0IGluIHRocmVhZCdzIE1WUFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFuYWdlUmVhZE1hcmtlcnM9e2ZhbHNlfSAvLyBObyBSTSBzdXBwb3J0IGluIHRocmVhZCdzIE1WUFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFJlYWRSZWNlaXB0T25Mb2FkPXtmYWxzZX0gLy8gTm8gUlIgc3VwcG9ydCBpbiB0aHJlYWQncyBNVlBcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVsaW5lU2V0PXt0aW1lbGluZVNldH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dVcmxQcmV2aWV3PXtmYWxzZX0gLy8gTm8gVVJMIHByZXZpZXdzIGF0IHRoZSB0aHJlYWRzIGxpc3QgbGV2ZWxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtcHR5PXs8RW1wdHlUaHJlYWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNUaHJlYWRzPXtyb29tLnRocmVhZHNUaW1lbGluZVNldHM/LlswXT8uZ2V0TGl2ZVRpbWVsaW5lKCkuZ2V0RXZlbnRzKCkubGVuZ3RoID4gMH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJPcHRpb249e2ZpbHRlck9wdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93QWxsVGhyZWFkc0NhbGxiYWNrPXsoKSA9PiBzZXRGaWx0ZXJPcHRpb24oVGhyZWFkRmlsdGVyVHlwZS5BbGwpfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz59XG4gICAgICAgICAgICAgICAgICAgICAgICBhbHdheXNTaG93VGltZXN0YW1wcz17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxheW91dD17TGF5b3V0Lkdyb3VwfVxuICAgICAgICAgICAgICAgICAgICAgICAgaGlkZVRocmVhZGVkTWVzc2FnZXM9e2ZhbHNlfVxuICAgICAgICAgICAgICAgICAgICAgICAgaGlkZGVuPXtmYWxzZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dSZWFjdGlvbnM9e2ZhbHNlfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXhfUm9vbVZpZXdfbWVzc2FnZVBhbmVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lbWJlcnNMb2FkZWQ9e3RydWV9XG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJtYWxpbmtDcmVhdG9yPXtwZXJtYWxpbmtDcmVhdG9yfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZUdyb3VwaW5nPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA6IDxkaXYgY2xhc3NOYW1lPVwibXhfQXV0b0hpZGVTY3JvbGxiYXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTcGlubmVyIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDwvQmFzZUNhcmQ+XG4gICAgICAgIDwvUm9vbUNvbnRleHQuUHJvdmlkZXI+XG4gICAgKTtcbn07XG5leHBvcnQgZGVmYXVsdCBUaHJlYWRQYW5lbDtcbiJdLCJtYXBwaW5n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