"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireDefault(require("react"));

var _filesize = _interopRequireDefault(require("filesize"));

var _ContentMessages = _interopRequireDefault(require("../../ContentMessages"));

var _dispatcher = _interopRequireDefault(require("../../dispatcher/dispatcher"));

var _languageHandler = require("../../languageHandler");

var _actions = require("../../dispatcher/actions");

var _ProgressBar = _interopRequireDefault(require("../views/elements/ProgressBar"));

var _AccessibleButton = _interopRequireDefault(require("../views/elements/AccessibleButton"));

var _MatrixClientContext = _interopRequireDefault(require("../../contexts/MatrixClientContext"));

/*
Copyright 2015, 2016, 2019, 2021 The Matrix.org Foundation C.I.C.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
function isUploadPayload(payload) {
  return [_actions.Action.UploadStarted, _actions.Action.UploadProgress, _actions.Action.UploadFailed, _actions.Action.UploadFinished, _actions.Action.UploadCanceled].includes(payload.action);
}

class UploadBar extends _react.default.PureComponent {
  constructor(props) {
    super(props); // Set initial state to any available upload in this room - we might be mounting
    // earlier than the first progress event, so should show something relevant.

    (0, _defineProperty2.default)(this, "dispatcherRef", void 0);
    (0, _defineProperty2.default)(this, "mounted", false);
    (0, _defineProperty2.default)(this, "onAction", payload => {
      if (!this.mounted) return;

      if (isUploadPayload(payload)) {
        this.setState(this.calculateState());
      }
    });
    (0, _defineProperty2.default)(this, "onCancelClick", ev => {
      ev.preventDefault();

      _ContentMessages.default.sharedInstance().cancelUpload(this.state.currentPromise, this.context);
    });
    this.state = this.calculateState();
  }

  componentDidMount() {
    this.dispatcherRef = _dispatcher.default.register(this.onAction);
    this.mounted = true;
  }

  componentWillUnmount() {
    this.mounted = false;

    _dispatcher.default.unregister(this.dispatcherRef);
  }

  getUploadsInRoom() {
    const uploads = _ContentMessages.default.sharedInstance().getCurrentUploads(this.props.relation);

    return uploads.filter(u => u.roomId === this.props.room.roomId);
  }

  calculateState() {
    const [currentUpload, ...otherUploads] = this.getUploadsInRoom();
    return {
      currentFile: currentUpload?.fileName,
      currentPromise: currentUpload?.promise,
      currentLoaded: currentUpload?.loaded,
      currentTotal: currentUpload?.total,
      countFiles: otherUploads.length + 1
    };
  }

  render() {
    if (!this.state.currentFile) {
      return null;
    } // MUST use var name 'count' for pluralization to kick in


    const uploadText = (0, _languageHandler._t)("Uploading %(filename)s and %(count)s others", {
      filename: this.state.currentFile,
      count: this.state.countFiles - 1
    });
    const uploadSize = (0, _filesize.default)(this.state.currentTotal);
    return /*#__PURE__*/_react.default.createElement("div", {
      className: "mx_UploadBar"
    }, /*#__PURE__*/_react.default.createElement("div", {
      className: "mx_UploadBar_filename"
    }, uploadText, " (", uploadSize, ")"), /*#__PURE__*/_react.default.createElement(_AccessibleButton.default, {
      onClick: this.onCancelClick,
      className: "mx_UploadBar_cancel"
    }), /*#__PURE__*/_react.default.createElement(_ProgressBar.default, {
      value: this.state.currentLoaded,
      max: this.state.currentTotal
    }));
  }

}

exports.default = UploadBar;
(0, _defineProperty2.default)(UploadBar, "contextType", _MatrixClientContext.default);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpc1VwbG9hZFBheWxvYWQiLCJwYXlsb2FkIiwiQWN0aW9uIiwiVXBsb2FkU3RhcnRlZCIsIlVwbG9hZFByb2dyZXNzIiwiVXBsb2FkRmFpbGVkIiwiVXBsb2FkRmluaXNoZWQiLCJVcGxvYWRDYW5jZWxlZCIsImluY2x1ZGVzIiwiYWN0aW9uIiwiVXBsb2FkQmFyIiwiUmVhY3QiLCJQdXJlQ29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJwcm9wcyIsIm1vdW50ZWQiLCJzZXRTdGF0ZSIsImNhbGN1bGF0ZVN0YXRlIiwiZXYiLCJwcmV2ZW50RGVmYXVsdCIsIkNvbnRlbnRNZXNzYWdlcyIsInNoYXJlZEluc3RhbmNlIiwiY2FuY2VsVXBsb2FkIiwic3RhdGUiLCJjdXJyZW50UHJvbWlzZSIsImNvbnRleHQiLCJjb21wb25lbnREaWRNb3VudCIsImRpc3BhdGNoZXJSZWYiLCJkaXMiLCJyZWdpc3RlciIsIm9uQWN0aW9uIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJ1bnJlZ2lzdGVyIiwiZ2V0VXBsb2Fkc0luUm9vbSIsInVwbG9hZHMiLCJnZXRDdXJyZW50VXBsb2FkcyIsInJlbGF0aW9uIiwiZmlsdGVyIiwidSIsInJvb21JZCIsInJvb20iLCJjdXJyZW50VXBsb2FkIiwib3RoZXJVcGxvYWRzIiwiY3VycmVudEZpbGUiLCJmaWxlTmFtZSIsInByb21pc2UiLCJjdXJyZW50TG9hZGVkIiwibG9hZGVkIiwiY3VycmVudFRvdGFsIiwidG90YWwiLCJjb3VudEZpbGVzIiwibGVuZ3RoIiwicmVuZGVyIiwidXBsb2FkVGV4dCIsIl90IiwiZmlsZW5hbWUiLCJjb3VudCIsInVwbG9hZFNpemUiLCJmaWxlc2l6ZSIsIm9uQ2FuY2VsQ2xpY2siLCJNYXRyaXhDbGllbnRDb250ZXh0Il0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvc3RydWN0dXJlcy9VcGxvYWRCYXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5Db3B5cmlnaHQgMjAxNSwgMjAxNiwgMjAxOSwgMjAyMSBUaGUgTWF0cml4Lm9yZyBGb3VuZGF0aW9uIEMuSS5DLlxuXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xueW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cbiAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG5TZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG5saW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBSb29tIH0gZnJvbSBcIm1hdHJpeC1qcy1zZGsvc3JjL21vZGVscy9yb29tXCI7XG5pbXBvcnQgZmlsZXNpemUgZnJvbSBcImZpbGVzaXplXCI7XG5pbXBvcnQgeyBJQWJvcnRhYmxlUHJvbWlzZSwgSUV2ZW50UmVsYXRpb24gfSBmcm9tICdtYXRyaXgtanMtc2RrL3NyYy9tYXRyaXgnO1xuaW1wb3J0IHsgT3B0aW9uYWwgfSBmcm9tIFwibWF0cml4LWV2ZW50cy1zZGtcIjtcblxuaW1wb3J0IENvbnRlbnRNZXNzYWdlcyBmcm9tICcuLi8uLi9Db250ZW50TWVzc2FnZXMnO1xuaW1wb3J0IGRpcyBmcm9tIFwiLi4vLi4vZGlzcGF0Y2hlci9kaXNwYXRjaGVyXCI7XG5pbXBvcnQgeyBfdCB9IGZyb20gJy4uLy4uL2xhbmd1YWdlSGFuZGxlcic7XG5pbXBvcnQgeyBBY3Rpb24gfSBmcm9tIFwiLi4vLi4vZGlzcGF0Y2hlci9hY3Rpb25zXCI7XG5pbXBvcnQgUHJvZ3Jlc3NCYXIgZnJvbSBcIi4uL3ZpZXdzL2VsZW1lbnRzL1Byb2dyZXNzQmFyXCI7XG5pbXBvcnQgQWNjZXNzaWJsZUJ1dHRvbiwgeyBCdXR0b25FdmVudCB9IGZyb20gXCIuLi92aWV3cy9lbGVtZW50cy9BY2Nlc3NpYmxlQnV0dG9uXCI7XG5pbXBvcnQgeyBJVXBsb2FkIH0gZnJvbSBcIi4uLy4uL21vZGVscy9JVXBsb2FkXCI7XG5pbXBvcnQgTWF0cml4Q2xpZW50Q29udGV4dCBmcm9tIFwiLi4vLi4vY29udGV4dHMvTWF0cml4Q2xpZW50Q29udGV4dFwiO1xuaW1wb3J0IHsgQWN0aW9uUGF5bG9hZCB9IGZyb20gJy4uLy4uL2Rpc3BhdGNoZXIvcGF5bG9hZHMnO1xuaW1wb3J0IHsgVXBsb2FkUGF5bG9hZCB9IGZyb20gXCIuLi8uLi9kaXNwYXRjaGVyL3BheWxvYWRzL1VwbG9hZFBheWxvYWRcIjtcblxuaW50ZXJmYWNlIElQcm9wcyB7XG4gICAgcm9vbTogUm9vbTtcbiAgICByZWxhdGlvbj86IElFdmVudFJlbGF0aW9uO1xufVxuXG5pbnRlcmZhY2UgSVN0YXRlIHtcbiAgICBjdXJyZW50RmlsZT86IHN0cmluZztcbiAgICBjdXJyZW50UHJvbWlzZT86IElBYm9ydGFibGVQcm9taXNlPGFueT47XG4gICAgY3VycmVudExvYWRlZD86IG51bWJlcjtcbiAgICBjdXJyZW50VG90YWw/OiBudW1iZXI7XG4gICAgY291bnRGaWxlczogbnVtYmVyO1xufVxuXG5mdW5jdGlvbiBpc1VwbG9hZFBheWxvYWQocGF5bG9hZDogQWN0aW9uUGF5bG9hZCk6IHBheWxvYWQgaXMgVXBsb2FkUGF5bG9hZCB7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgQWN0aW9uLlVwbG9hZFN0YXJ0ZWQsXG4gICAgICAgIEFjdGlvbi5VcGxvYWRQcm9ncmVzcyxcbiAgICAgICAgQWN0aW9uLlVwbG9hZEZhaWxlZCxcbiAgICAgICAgQWN0aW9uLlVwbG9hZEZpbmlzaGVkLFxuICAgICAgICBBY3Rpb24uVXBsb2FkQ2FuY2VsZWQsXG4gICAgXS5pbmNsdWRlcyhwYXlsb2FkLmFjdGlvbiBhcyBBY3Rpb24pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVcGxvYWRCYXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PElQcm9wcywgSVN0YXRlPiB7XG4gICAgc3RhdGljIGNvbnRleHRUeXBlID0gTWF0cml4Q2xpZW50Q29udGV4dDtcblxuICAgIHByaXZhdGUgZGlzcGF0Y2hlclJlZjogT3B0aW9uYWw8c3RyaW5nPjtcbiAgICBwcml2YXRlIG1vdW50ZWQgPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcblxuICAgICAgICAvLyBTZXQgaW5pdGlhbCBzdGF0ZSB0byBhbnkgYXZhaWxhYmxlIHVwbG9hZCBpbiB0aGlzIHJvb20gLSB3ZSBtaWdodCBiZSBtb3VudGluZ1xuICAgICAgICAvLyBlYXJsaWVyIHRoYW4gdGhlIGZpcnN0IHByb2dyZXNzIGV2ZW50LCBzbyBzaG91bGQgc2hvdyBzb21ldGhpbmcgcmVsZXZhbnQuXG4gICAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLmNhbGN1bGF0ZVN0YXRlKCk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlclJlZiA9IGRpcy5yZWdpc3Rlcih0aGlzLm9uQWN0aW9uKTtcbiAgICAgICAgdGhpcy5tb3VudGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgdGhpcy5tb3VudGVkID0gZmFsc2U7XG4gICAgICAgIGRpcy51bnJlZ2lzdGVyKHRoaXMuZGlzcGF0Y2hlclJlZiEpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VXBsb2Fkc0luUm9vbSgpOiBJVXBsb2FkW10ge1xuICAgICAgICBjb25zdCB1cGxvYWRzID0gQ29udGVudE1lc3NhZ2VzLnNoYXJlZEluc3RhbmNlKCkuZ2V0Q3VycmVudFVwbG9hZHModGhpcy5wcm9wcy5yZWxhdGlvbik7XG4gICAgICAgIHJldHVybiB1cGxvYWRzLmZpbHRlcih1ID0+IHUucm9vbUlkID09PSB0aGlzLnByb3BzLnJvb20ucm9vbUlkKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNhbGN1bGF0ZVN0YXRlKCk6IElTdGF0ZSB7XG4gICAgICAgIGNvbnN0IFtjdXJyZW50VXBsb2FkLCAuLi5vdGhlclVwbG9hZHNdID0gdGhpcy5nZXRVcGxvYWRzSW5Sb29tKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjdXJyZW50RmlsZTogY3VycmVudFVwbG9hZD8uZmlsZU5hbWUsXG4gICAgICAgICAgICBjdXJyZW50UHJvbWlzZTogY3VycmVudFVwbG9hZD8ucHJvbWlzZSxcbiAgICAgICAgICAgIGN1cnJlbnRMb2FkZWQ6IGN1cnJlbnRVcGxvYWQ/LmxvYWRlZCxcbiAgICAgICAgICAgIGN1cnJlbnRUb3RhbDogY3VycmVudFVwbG9hZD8udG90YWwsXG4gICAgICAgICAgICBjb3VudEZpbGVzOiBvdGhlclVwbG9hZHMubGVuZ3RoICsgMSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQWN0aW9uID0gKHBheWxvYWQ6IEFjdGlvblBheWxvYWQpID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLm1vdW50ZWQpIHJldHVybjtcbiAgICAgICAgaWYgKGlzVXBsb2FkUGF5bG9hZChwYXlsb2FkKSkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh0aGlzLmNhbGN1bGF0ZVN0YXRlKCkpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHByaXZhdGUgb25DYW5jZWxDbGljayA9IChldjogQnV0dG9uRXZlbnQpID0+IHtcbiAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgQ29udGVudE1lc3NhZ2VzLnNoYXJlZEluc3RhbmNlKCkuY2FuY2VsVXBsb2FkKHRoaXMuc3RhdGUuY3VycmVudFByb21pc2UhLCB0aGlzLmNvbnRleHQpO1xuICAgIH07XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5jdXJyZW50RmlsZSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNVVNUIHVzZSB2YXIgbmFtZSAnY291bnQnIGZvciBwbHVyYWxpemF0aW9uIHRvIGtpY2sgaW5cbiAgICAgICAgY29uc3QgdXBsb2FkVGV4dCA9IF90KFxuICAgICAgICAgICAgXCJVcGxvYWRpbmcgJShmaWxlbmFtZSlzIGFuZCAlKGNvdW50KXMgb3RoZXJzXCIsIHtcbiAgICAgICAgICAgICAgICBmaWxlbmFtZTogdGhpcy5zdGF0ZS5jdXJyZW50RmlsZSxcbiAgICAgICAgICAgICAgICBjb3VudDogdGhpcy5zdGF0ZS5jb3VudEZpbGVzIC0gMSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgdXBsb2FkU2l6ZSA9IGZpbGVzaXplKHRoaXMuc3RhdGUuY3VycmVudFRvdGFsISk7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14X1VwbG9hZEJhclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXhfVXBsb2FkQmFyX2ZpbGVuYW1lXCI+eyB1cGxvYWRUZXh0IH0gKHsgdXBsb2FkU2l6ZSB9KTwvZGl2PlxuICAgICAgICAgICAgICAgIDxBY2Nlc3NpYmxlQnV0dG9uIG9uQ2xpY2s9e3RoaXMub25DYW5jZWxDbGlja30gY2xhc3NOYW1lPSdteF9VcGxvYWRCYXJfY2FuY2VsJyAvPlxuICAgICAgICAgICAgICAgIDxQcm9ncmVzc0JhciB2YWx1ZT17dGhpcy5zdGF0ZS5jdXJyZW50TG9hZGVkIX0gbWF4PXt0aGlzLnN0YXRlLmN1cnJlbnRUb3RhbCF9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBZ0JBOztBQUVBOztBQUlBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUVBOztBQTdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFnQ0EsU0FBU0EsZUFBVCxDQUF5QkMsT0FBekIsRUFBMkU7RUFDdkUsT0FBTyxDQUNIQyxlQUFBLENBQU9DLGFBREosRUFFSEQsZUFBQSxDQUFPRSxjQUZKLEVBR0hGLGVBQUEsQ0FBT0csWUFISixFQUlISCxlQUFBLENBQU9JLGNBSkosRUFLSEosZUFBQSxDQUFPSyxjQUxKLEVBTUxDLFFBTkssQ0FNSVAsT0FBTyxDQUFDUSxNQU5aLENBQVA7QUFPSDs7QUFFYyxNQUFNQyxTQUFOLFNBQXdCQyxjQUFBLENBQU1DLGFBQTlCLENBQTREO0VBTXZFQyxXQUFXLENBQUNDLEtBQUQsRUFBUTtJQUNmLE1BQU1BLEtBQU4sRUFEZSxDQUdmO0lBQ0E7O0lBSmU7SUFBQSwrQ0FGRCxLQUVDO0lBQUEsZ0RBa0NDYixPQUFELElBQTRCO01BQzNDLElBQUksQ0FBQyxLQUFLYyxPQUFWLEVBQW1COztNQUNuQixJQUFJZixlQUFlLENBQUNDLE9BQUQsQ0FBbkIsRUFBOEI7UUFDMUIsS0FBS2UsUUFBTCxDQUFjLEtBQUtDLGNBQUwsRUFBZDtNQUNIO0lBQ0osQ0F2Q2tCO0lBQUEscURBeUNNQyxFQUFELElBQXFCO01BQ3pDQSxFQUFFLENBQUNDLGNBQUg7O01BQ0FDLHdCQUFBLENBQWdCQyxjQUFoQixHQUFpQ0MsWUFBakMsQ0FBOEMsS0FBS0MsS0FBTCxDQUFXQyxjQUF6RCxFQUEwRSxLQUFLQyxPQUEvRTtJQUNILENBNUNrQjtJQUtmLEtBQUtGLEtBQUwsR0FBYSxLQUFLTixjQUFMLEVBQWI7RUFDSDs7RUFFRFMsaUJBQWlCLEdBQUc7SUFDaEIsS0FBS0MsYUFBTCxHQUFxQkMsbUJBQUEsQ0FBSUMsUUFBSixDQUFhLEtBQUtDLFFBQWxCLENBQXJCO0lBQ0EsS0FBS2YsT0FBTCxHQUFlLElBQWY7RUFDSDs7RUFFRGdCLG9CQUFvQixHQUFHO0lBQ25CLEtBQUtoQixPQUFMLEdBQWUsS0FBZjs7SUFDQWEsbUJBQUEsQ0FBSUksVUFBSixDQUFlLEtBQUtMLGFBQXBCO0VBQ0g7O0VBRU9NLGdCQUFnQixHQUFjO0lBQ2xDLE1BQU1DLE9BQU8sR0FBR2Qsd0JBQUEsQ0FBZ0JDLGNBQWhCLEdBQWlDYyxpQkFBakMsQ0FBbUQsS0FBS3JCLEtBQUwsQ0FBV3NCLFFBQTlELENBQWhCOztJQUNBLE9BQU9GLE9BQU8sQ0FBQ0csTUFBUixDQUFlQyxDQUFDLElBQUlBLENBQUMsQ0FBQ0MsTUFBRixLQUFhLEtBQUt6QixLQUFMLENBQVcwQixJQUFYLENBQWdCRCxNQUFqRCxDQUFQO0VBQ0g7O0VBRU90QixjQUFjLEdBQVc7SUFDN0IsTUFBTSxDQUFDd0IsYUFBRCxFQUFnQixHQUFHQyxZQUFuQixJQUFtQyxLQUFLVCxnQkFBTCxFQUF6QztJQUNBLE9BQU87TUFDSFUsV0FBVyxFQUFFRixhQUFhLEVBQUVHLFFBRHpCO01BRUhwQixjQUFjLEVBQUVpQixhQUFhLEVBQUVJLE9BRjVCO01BR0hDLGFBQWEsRUFBRUwsYUFBYSxFQUFFTSxNQUgzQjtNQUlIQyxZQUFZLEVBQUVQLGFBQWEsRUFBRVEsS0FKMUI7TUFLSEMsVUFBVSxFQUFFUixZQUFZLENBQUNTLE1BQWIsR0FBc0I7SUFML0IsQ0FBUDtFQU9IOztFQWNEQyxNQUFNLEdBQUc7SUFDTCxJQUFJLENBQUMsS0FBSzdCLEtBQUwsQ0FBV29CLFdBQWhCLEVBQTZCO01BQ3pCLE9BQU8sSUFBUDtJQUNILENBSEksQ0FLTDs7O0lBQ0EsTUFBTVUsVUFBVSxHQUFHLElBQUFDLG1CQUFBLEVBQ2YsNkNBRGUsRUFDZ0M7TUFDM0NDLFFBQVEsRUFBRSxLQUFLaEMsS0FBTCxDQUFXb0IsV0FEc0I7TUFFM0NhLEtBQUssRUFBRSxLQUFLakMsS0FBTCxDQUFXMkIsVUFBWCxHQUF3QjtJQUZZLENBRGhDLENBQW5CO0lBT0EsTUFBTU8sVUFBVSxHQUFHLElBQUFDLGlCQUFBLEVBQVMsS0FBS25DLEtBQUwsQ0FBV3lCLFlBQXBCLENBQW5CO0lBQ0Esb0JBQ0k7TUFBSyxTQUFTLEVBQUM7SUFBZixnQkFDSTtNQUFLLFNBQVMsRUFBQztJQUFmLEdBQXlDSyxVQUF6QyxRQUF5REksVUFBekQsTUFESixlQUVJLDZCQUFDLHlCQUFEO01BQWtCLE9BQU8sRUFBRSxLQUFLRSxhQUFoQztNQUErQyxTQUFTLEVBQUM7SUFBekQsRUFGSixlQUdJLDZCQUFDLG9CQUFEO01BQWEsS0FBSyxFQUFFLEtBQUtwQyxLQUFMLENBQVd1QixhQUEvQjtNQUErQyxHQUFHLEVBQUUsS0FBS3ZCLEtBQUwsQ0FBV3lCO0lBQS9ELEVBSEosQ0FESjtFQU9IOztBQXpFc0U7Ozs4QkFBdER0QyxTLGlCQUNJa0QsNEIifQ==